{
  "version": 3,
  "sources": ["../../@connectrpc/connect/dist/esm/code.js", "../../@bufbuild/protobuf/dist/esm/wkt/gen/google/protobuf/timestamp_pb.js", "../../@bufbuild/protobuf/dist/esm/wkt/gen/google/protobuf/any_pb.js", "../../@bufbuild/protobuf/dist/esm/wkt/any.js", "../../@bufbuild/protobuf/dist/esm/wkt/gen/google/protobuf/source_context_pb.js", "../../@bufbuild/protobuf/dist/esm/wkt/gen/google/protobuf/type_pb.js", "../../@bufbuild/protobuf/dist/esm/wkt/gen/google/protobuf/api_pb.js", "../../@bufbuild/protobuf/dist/esm/wkt/gen/google/protobuf/cpp_features_pb.js", "../../@bufbuild/protobuf/dist/esm/wkt/gen/google/protobuf/duration_pb.js", "../../@bufbuild/protobuf/dist/esm/wkt/gen/google/protobuf/empty_pb.js", "../../@bufbuild/protobuf/dist/esm/wkt/gen/google/protobuf/field_mask_pb.js", "../../@bufbuild/protobuf/dist/esm/wkt/gen/google/protobuf/go_features_pb.js", "../../@bufbuild/protobuf/dist/esm/wkt/gen/google/protobuf/java_features_pb.js", "../../@bufbuild/protobuf/dist/esm/wkt/gen/google/protobuf/struct_pb.js", "../../@bufbuild/protobuf/dist/esm/wkt/gen/google/protobuf/wrappers_pb.js", "../../@bufbuild/protobuf/dist/esm/wkt/gen/google/protobuf/compiler/plugin_pb.js", "../../@bufbuild/protobuf/dist/esm/extensions.js", "../../@bufbuild/protobuf/dist/esm/to-json.js", "../../@bufbuild/protobuf/dist/esm/from-json.js", "../../@connectrpc/connect/dist/esm/protocol-connect/code-string.js", "../../@connectrpc/connect/dist/esm/connect-error.js", "../../@connectrpc/connect/dist/esm/http-headers.js", "../../@connectrpc/connect/dist/esm/any-client.js", "../../@connectrpc/connect/dist/esm/protocol/compression.js", "../../@connectrpc/connect/dist/esm/protocol/limit-io.js", "../../@connectrpc/connect/dist/esm/protocol/envelope.js", "../../@connectrpc/connect/dist/esm/protocol/async-iterable.js", "../../@connectrpc/connect/dist/esm/callback-client.js", "../../@connectrpc/connect/dist/esm/promise-client.js", "../../@connectrpc/connect/dist/esm/protocol/signals.js", "../../@connectrpc/connect/dist/esm/context-values.js", "../../@connectrpc/connect/dist/esm/implementation.js", "../../@connectrpc/connect/dist/esm/protocol-grpc-web/trailer.js", "../../@connectrpc/connect/dist/esm/protocol-grpc/headers.js", "../../@connectrpc/connect/dist/esm/protocol-grpc-web/headers.js", "../../@connectrpc/connect/dist/esm/protocol-grpc-web/content-type.js", "../../@connectrpc/connect/dist/esm/protocol-grpc/parse-timeout.js", "../../@connectrpc/connect/dist/esm/protocol-grpc/gen/status_pb.js", "../../@connectrpc/connect/dist/esm/protocol-grpc/trailer-status.js", "../../@connectrpc/connect/dist/esm/protocol/content-type-matcher.js", "../../@connectrpc/connect/dist/esm/protocol/create-method-url.js", "../../@connectrpc/connect/dist/esm/protocol/normalize.js", "../../@connectrpc/connect/dist/esm/interceptor.js", "../../@connectrpc/connect/dist/esm/protocol/invoke-implementation.js", "../../@connectrpc/connect/dist/esm/protocol/serialization.js", "../../@connectrpc/connect/dist/esm/protocol/universal.js", "../../@connectrpc/connect/dist/esm/protocol/universal-handler.js", "../../@connectrpc/connect/dist/esm/protocol-grpc-web/handler-factory.js", "../../@connectrpc/connect/dist/esm/protocol-grpc/content-type.js", "../../@connectrpc/connect/dist/esm/protocol-grpc/handler-factory.js", "../../@connectrpc/connect/dist/esm/protocol-connect/content-type.js", "../../@connectrpc/connect/dist/esm/protocol-connect/error-json.js", "../../@connectrpc/connect/dist/esm/protocol-connect/end-stream.js", "../../@connectrpc/connect/dist/esm/protocol-connect/headers.js", "../../@connectrpc/connect/dist/esm/protocol-connect/http-status.js", "../../@connectrpc/connect/dist/esm/protocol-connect/parse-timeout.js", "../../@connectrpc/connect/dist/esm/protocol-connect/query-params.js", "../../@connectrpc/connect/dist/esm/protocol-connect/trailer-mux.js", "../../@connectrpc/connect/dist/esm/protocol-connect/version.js", "../../@connectrpc/connect/dist/esm/protocol-connect/handler-factory.js", "../../@connectrpc/connect/dist/esm/router.js", "../../@connectrpc/connect/dist/esm/cors.js", "../../@connectrpc/connect/dist/esm/protocol-connect/request-header.js", "../../@connectrpc/connect/dist/esm/protocol-connect/validate-response.js", "../../@connectrpc/connect/dist/esm/protocol-connect/get-request.js", "../../@connectrpc/connect/dist/esm/protocol/run-call.js", "../../@connectrpc/connect/dist/esm/protocol-connect/transport.js", "../../@connectrpc/connect/dist/esm/protocol/universal-handler-client.js", "../../@connectrpc/connect/dist/esm/router-transport.js"],
  "sourcesContent": ["// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * Connect represents categories of errors as codes, and each code maps to a\n * specific HTTP status code. The codes and their semantics were chosen to\n * match gRPC. Only the codes below are valid â€” there are no user-defined\n * codes.\n *\n * See the specification at https://connectrpc.com/docs/protocol#error-codes\n * for details.\n */\nexport var Code;\n(function (Code) {\n    /**\n     * Canceled, usually be the user\n     */\n    Code[Code[\"Canceled\"] = 1] = \"Canceled\";\n    /**\n     * Unknown error\n     */\n    Code[Code[\"Unknown\"] = 2] = \"Unknown\";\n    /**\n     * Argument invalid regardless of system state\n     */\n    Code[Code[\"InvalidArgument\"] = 3] = \"InvalidArgument\";\n    /**\n     * Operation expired, may or may not have completed.\n     */\n    Code[Code[\"DeadlineExceeded\"] = 4] = \"DeadlineExceeded\";\n    /**\n     * Entity not found.\n     */\n    Code[Code[\"NotFound\"] = 5] = \"NotFound\";\n    /**\n     * Entity already exists.\n     */\n    Code[Code[\"AlreadyExists\"] = 6] = \"AlreadyExists\";\n    /**\n     * Operation not authorized.\n     */\n    Code[Code[\"PermissionDenied\"] = 7] = \"PermissionDenied\";\n    /**\n     * Quota exhausted.\n     */\n    Code[Code[\"ResourceExhausted\"] = 8] = \"ResourceExhausted\";\n    /**\n     * Argument invalid in current system state.\n     */\n    Code[Code[\"FailedPrecondition\"] = 9] = \"FailedPrecondition\";\n    /**\n     * Operation aborted.\n     */\n    Code[Code[\"Aborted\"] = 10] = \"Aborted\";\n    /**\n     * Out of bounds, use instead of FailedPrecondition.\n     */\n    Code[Code[\"OutOfRange\"] = 11] = \"OutOfRange\";\n    /**\n     * Operation not implemented or disabled.\n     */\n    Code[Code[\"Unimplemented\"] = 12] = \"Unimplemented\";\n    /**\n     * Internal error, reserved for \"serious errors\".\n     */\n    Code[Code[\"Internal\"] = 13] = \"Internal\";\n    /**\n     * Unavailable, client should back off and retry.\n     */\n    Code[Code[\"Unavailable\"] = 14] = \"Unavailable\";\n    /**\n     * Unrecoverable data loss or corruption.\n     */\n    Code[Code[\"DataLoss\"] = 15] = \"DataLoss\";\n    /**\n     * Request isn't authenticated.\n     */\n    Code[Code[\"Unauthenticated\"] = 16] = \"Unauthenticated\";\n})(Code || (Code = {}));\n", "// Copyright 2021-2025 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { fileDesc } from \"../../../../codegenv2/file.js\";\nimport { messageDesc } from \"../../../../codegenv2/message.js\";\n/**\n * Describes the file google/protobuf/timestamp.proto.\n */\nexport const file_google_protobuf_timestamp = /*@__PURE__*/ fileDesc(\"Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM\");\n/**\n * Describes the message google.protobuf.Timestamp.\n * Use `create(TimestampSchema)` to create a new message.\n */\nexport const TimestampSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_timestamp, 0);\n", "// Copyright 2021-2025 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { fileDesc } from \"../../../../codegenv2/file.js\";\nimport { messageDesc } from \"../../../../codegenv2/message.js\";\n/**\n * Describes the file google/protobuf/any.proto.\n */\nexport const file_google_protobuf_any = /*@__PURE__*/ fileDesc(\"Chlnb29nbGUvcHJvdG9idWYvYW55LnByb3RvEg9nb29nbGUucHJvdG9idWYiJgoDQW55EhAKCHR5cGVfdXJsGAEgASgJEg0KBXZhbHVlGAIgASgMQnYKE2NvbS5nb29nbGUucHJvdG9idWZCCEFueVByb3RvUAFaLGdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2FueXBiogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM\");\n/**\n * Describes the message google.protobuf.Any.\n * Use `create(AnySchema)` to create a new message.\n */\nexport const AnySchema = /*@__PURE__*/ messageDesc(file_google_protobuf_any, 0);\n", "// Copyright 2021-2025 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { AnySchema } from \"./gen/google/protobuf/any_pb.js\";\nimport { create } from \"../create.js\";\nimport { toBinary } from \"../to-binary.js\";\nimport { fromBinary, mergeFromBinary } from \"../from-binary.js\";\nexport function anyPack(schema, message, into) {\n    let ret = false;\n    if (!into) {\n        into = create(AnySchema);\n        ret = true;\n    }\n    into.value = toBinary(schema, message);\n    into.typeUrl = typeNameToUrl(message.$typeName);\n    return ret ? into : undefined;\n}\nexport function anyIs(any, descOrTypeName) {\n    if (any.typeUrl === \"\") {\n        return false;\n    }\n    const want = typeof descOrTypeName == \"string\"\n        ? descOrTypeName\n        : descOrTypeName.typeName;\n    const got = typeUrlToName(any.typeUrl);\n    return want === got;\n}\nexport function anyUnpack(any, registryOrMessageDesc) {\n    if (any.typeUrl === \"\") {\n        return undefined;\n    }\n    const desc = registryOrMessageDesc.kind == \"message\"\n        ? registryOrMessageDesc\n        : registryOrMessageDesc.getMessage(typeUrlToName(any.typeUrl));\n    if (!desc || !anyIs(any, desc)) {\n        return undefined;\n    }\n    return fromBinary(desc, any.value);\n}\n/**\n * Same as anyUnpack but unpacks into the target message.\n */\nexport function anyUnpackTo(any, schema, message) {\n    if (!anyIs(any, schema)) {\n        return undefined;\n    }\n    return mergeFromBinary(schema, message, any.value);\n}\nfunction typeNameToUrl(name) {\n    return `type.googleapis.com/${name}`;\n}\nfunction typeUrlToName(url) {\n    const slash = url.lastIndexOf(\"/\");\n    const name = slash >= 0 ? url.substring(slash + 1) : url;\n    if (!name.length) {\n        throw new Error(`invalid type url: ${url}`);\n    }\n    return name;\n}\n", "// Copyright 2021-2025 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { fileDesc } from \"../../../../codegenv2/file.js\";\nimport { messageDesc } from \"../../../../codegenv2/message.js\";\n/**\n * Describes the file google/protobuf/source_context.proto.\n */\nexport const file_google_protobuf_source_context = /*@__PURE__*/ fileDesc(\"CiRnb29nbGUvcHJvdG9idWYvc291cmNlX2NvbnRleHQucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIiCg1Tb3VyY2VDb250ZXh0EhEKCWZpbGVfbmFtZRgBIAEoCUKKAQoTY29tLmdvb2dsZS5wcm90b2J1ZkISU291cmNlQ29udGV4dFByb3RvUAFaNmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3NvdXJjZWNvbnRleHRwYqICA0dQQqoCHkdvb2dsZS5Qcm90b2J1Zi5XZWxsS25vd25UeXBlc2IGcHJvdG8z\");\n/**\n * Describes the message google.protobuf.SourceContext.\n * Use `create(SourceContextSchema)` to create a new message.\n */\nexport const SourceContextSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_source_context, 0);\n", "// Copyright 2021-2025 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { fileDesc } from \"../../../../codegenv2/file.js\";\nimport { file_google_protobuf_any } from \"./any_pb.js\";\nimport { file_google_protobuf_source_context } from \"./source_context_pb.js\";\nimport { messageDesc } from \"../../../../codegenv2/message.js\";\nimport { enumDesc } from \"../../../../codegenv2/enum.js\";\n/**\n * Describes the file google/protobuf/type.proto.\n */\nexport const file_google_protobuf_type = /*@__PURE__*/ fileDesc(\"Chpnb29nbGUvcHJvdG9idWYvdHlwZS5wcm90bxIPZ29vZ2xlLnByb3RvYnVmIugBCgRUeXBlEgwKBG5hbWUYASABKAkSJgoGZmllbGRzGAIgAygLMhYuZ29vZ2xlLnByb3RvYnVmLkZpZWxkEg4KBm9uZW9mcxgDIAMoCRIoCgdvcHRpb25zGAQgAygLMhcuZ29vZ2xlLnByb3RvYnVmLk9wdGlvbhI2Cg5zb3VyY2VfY29udGV4dBgFIAEoCzIeLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb250ZXh0EicKBnN5bnRheBgGIAEoDjIXLmdvb2dsZS5wcm90b2J1Zi5TeW50YXgSDwoHZWRpdGlvbhgHIAEoCSLVBQoFRmllbGQSKQoEa2luZBgBIAEoDjIbLmdvb2dsZS5wcm90b2J1Zi5GaWVsZC5LaW5kEjcKC2NhcmRpbmFsaXR5GAIgASgOMiIuZ29vZ2xlLnByb3RvYnVmLkZpZWxkLkNhcmRpbmFsaXR5Eg4KBm51bWJlchgDIAEoBRIMCgRuYW1lGAQgASgJEhAKCHR5cGVfdXJsGAYgASgJEhMKC29uZW9mX2luZGV4GAcgASgFEg4KBnBhY2tlZBgIIAEoCBIoCgdvcHRpb25zGAkgAygLMhcuZ29vZ2xlLnByb3RvYnVmLk9wdGlvbhIRCglqc29uX25hbWUYCiABKAkSFQoNZGVmYXVsdF92YWx1ZRgLIAEoCSLIAgoES2luZBIQCgxUWVBFX1VOS05PV04QABIPCgtUWVBFX0RPVUJMRRABEg4KClRZUEVfRkxPQVQQAhIOCgpUWVBFX0lOVDY0EAMSDwoLVFlQRV9VSU5UNjQQBBIOCgpUWVBFX0lOVDMyEAUSEAoMVFlQRV9GSVhFRDY0EAYSEAoMVFlQRV9GSVhFRDMyEAcSDQoJVFlQRV9CT09MEAgSDwoLVFlQRV9TVFJJTkcQCRIOCgpUWVBFX0dST1VQEAoSEAoMVFlQRV9NRVNTQUdFEAsSDgoKVFlQRV9CWVRFUxAMEg8KC1RZUEVfVUlOVDMyEA0SDQoJVFlQRV9FTlVNEA4SEQoNVFlQRV9TRklYRUQzMhAPEhEKDVRZUEVfU0ZJWEVENjQQEBIPCgtUWVBFX1NJTlQzMhAREg8KC1RZUEVfU0lOVDY0EBIidAoLQ2FyZGluYWxpdHkSFwoTQ0FSRElOQUxJVFlfVU5LTk9XThAAEhgKFENBUkRJTkFMSVRZX09QVElPTkFMEAESGAoUQ0FSRElOQUxJVFlfUkVRVUlSRUQQAhIYChRDQVJESU5BTElUWV9SRVBFQVRFRBADIt8BCgRFbnVtEgwKBG5hbWUYASABKAkSLQoJZW51bXZhbHVlGAIgAygLMhouZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZRIoCgdvcHRpb25zGAMgAygLMhcuZ29vZ2xlLnByb3RvYnVmLk9wdGlvbhI2Cg5zb3VyY2VfY29udGV4dBgEIAEoCzIeLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb250ZXh0EicKBnN5bnRheBgFIAEoDjIXLmdvb2dsZS5wcm90b2J1Zi5TeW50YXgSDwoHZWRpdGlvbhgGIAEoCSJTCglFbnVtVmFsdWUSDAoEbmFtZRgBIAEoCRIOCgZudW1iZXIYAiABKAUSKAoHb3B0aW9ucxgDIAMoCzIXLmdvb2dsZS5wcm90b2J1Zi5PcHRpb24iOwoGT3B0aW9uEgwKBG5hbWUYASABKAkSIwoFdmFsdWUYAiABKAsyFC5nb29nbGUucHJvdG9idWYuQW55KkMKBlN5bnRheBIRCg1TWU5UQVhfUFJPVE8yEAASEQoNU1lOVEFYX1BST1RPMxABEhMKD1NZTlRBWF9FRElUSU9OUxACQnsKE2NvbS5nb29nbGUucHJvdG9idWZCCVR5cGVQcm90b1ABWi1nb29nbGUuZ29sYW5nLm9yZy9wcm90b2J1Zi90eXBlcy9rbm93bi90eXBlcGL4AQGiAgNHUEKqAh5Hb29nbGUuUHJvdG9idWYuV2VsbEtub3duVHlwZXNiBnByb3RvMw\", [file_google_protobuf_any, file_google_protobuf_source_context]);\n/**\n * Describes the message google.protobuf.Type.\n * Use `create(TypeSchema)` to create a new message.\n */\nexport const TypeSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_type, 0);\n/**\n * Describes the message google.protobuf.Field.\n * Use `create(FieldSchema)` to create a new message.\n */\nexport const FieldSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_type, 1);\n/**\n * Basic field types.\n *\n * @generated from enum google.protobuf.Field.Kind\n */\nexport var Field_Kind;\n(function (Field_Kind) {\n    /**\n     * Field type unknown.\n     *\n     * @generated from enum value: TYPE_UNKNOWN = 0;\n     */\n    Field_Kind[Field_Kind[\"TYPE_UNKNOWN\"] = 0] = \"TYPE_UNKNOWN\";\n    /**\n     * Field type double.\n     *\n     * @generated from enum value: TYPE_DOUBLE = 1;\n     */\n    Field_Kind[Field_Kind[\"TYPE_DOUBLE\"] = 1] = \"TYPE_DOUBLE\";\n    /**\n     * Field type float.\n     *\n     * @generated from enum value: TYPE_FLOAT = 2;\n     */\n    Field_Kind[Field_Kind[\"TYPE_FLOAT\"] = 2] = \"TYPE_FLOAT\";\n    /**\n     * Field type int64.\n     *\n     * @generated from enum value: TYPE_INT64 = 3;\n     */\n    Field_Kind[Field_Kind[\"TYPE_INT64\"] = 3] = \"TYPE_INT64\";\n    /**\n     * Field type uint64.\n     *\n     * @generated from enum value: TYPE_UINT64 = 4;\n     */\n    Field_Kind[Field_Kind[\"TYPE_UINT64\"] = 4] = \"TYPE_UINT64\";\n    /**\n     * Field type int32.\n     *\n     * @generated from enum value: TYPE_INT32 = 5;\n     */\n    Field_Kind[Field_Kind[\"TYPE_INT32\"] = 5] = \"TYPE_INT32\";\n    /**\n     * Field type fixed64.\n     *\n     * @generated from enum value: TYPE_FIXED64 = 6;\n     */\n    Field_Kind[Field_Kind[\"TYPE_FIXED64\"] = 6] = \"TYPE_FIXED64\";\n    /**\n     * Field type fixed32.\n     *\n     * @generated from enum value: TYPE_FIXED32 = 7;\n     */\n    Field_Kind[Field_Kind[\"TYPE_FIXED32\"] = 7] = \"TYPE_FIXED32\";\n    /**\n     * Field type bool.\n     *\n     * @generated from enum value: TYPE_BOOL = 8;\n     */\n    Field_Kind[Field_Kind[\"TYPE_BOOL\"] = 8] = \"TYPE_BOOL\";\n    /**\n     * Field type string.\n     *\n     * @generated from enum value: TYPE_STRING = 9;\n     */\n    Field_Kind[Field_Kind[\"TYPE_STRING\"] = 9] = \"TYPE_STRING\";\n    /**\n     * Field type group. Proto2 syntax only, and deprecated.\n     *\n     * @generated from enum value: TYPE_GROUP = 10;\n     */\n    Field_Kind[Field_Kind[\"TYPE_GROUP\"] = 10] = \"TYPE_GROUP\";\n    /**\n     * Field type message.\n     *\n     * @generated from enum value: TYPE_MESSAGE = 11;\n     */\n    Field_Kind[Field_Kind[\"TYPE_MESSAGE\"] = 11] = \"TYPE_MESSAGE\";\n    /**\n     * Field type bytes.\n     *\n     * @generated from enum value: TYPE_BYTES = 12;\n     */\n    Field_Kind[Field_Kind[\"TYPE_BYTES\"] = 12] = \"TYPE_BYTES\";\n    /**\n     * Field type uint32.\n     *\n     * @generated from enum value: TYPE_UINT32 = 13;\n     */\n    Field_Kind[Field_Kind[\"TYPE_UINT32\"] = 13] = \"TYPE_UINT32\";\n    /**\n     * Field type enum.\n     *\n     * @generated from enum value: TYPE_ENUM = 14;\n     */\n    Field_Kind[Field_Kind[\"TYPE_ENUM\"] = 14] = \"TYPE_ENUM\";\n    /**\n     * Field type sfixed32.\n     *\n     * @generated from enum value: TYPE_SFIXED32 = 15;\n     */\n    Field_Kind[Field_Kind[\"TYPE_SFIXED32\"] = 15] = \"TYPE_SFIXED32\";\n    /**\n     * Field type sfixed64.\n     *\n     * @generated from enum value: TYPE_SFIXED64 = 16;\n     */\n    Field_Kind[Field_Kind[\"TYPE_SFIXED64\"] = 16] = \"TYPE_SFIXED64\";\n    /**\n     * Field type sint32.\n     *\n     * @generated from enum value: TYPE_SINT32 = 17;\n     */\n    Field_Kind[Field_Kind[\"TYPE_SINT32\"] = 17] = \"TYPE_SINT32\";\n    /**\n     * Field type sint64.\n     *\n     * @generated from enum value: TYPE_SINT64 = 18;\n     */\n    Field_Kind[Field_Kind[\"TYPE_SINT64\"] = 18] = \"TYPE_SINT64\";\n})(Field_Kind || (Field_Kind = {}));\n/**\n * Describes the enum google.protobuf.Field.Kind.\n */\nexport const Field_KindSchema = /*@__PURE__*/ enumDesc(file_google_protobuf_type, 1, 0);\n/**\n * Whether a field is optional, required, or repeated.\n *\n * @generated from enum google.protobuf.Field.Cardinality\n */\nexport var Field_Cardinality;\n(function (Field_Cardinality) {\n    /**\n     * For fields with unknown cardinality.\n     *\n     * @generated from enum value: CARDINALITY_UNKNOWN = 0;\n     */\n    Field_Cardinality[Field_Cardinality[\"UNKNOWN\"] = 0] = \"UNKNOWN\";\n    /**\n     * For optional fields.\n     *\n     * @generated from enum value: CARDINALITY_OPTIONAL = 1;\n     */\n    Field_Cardinality[Field_Cardinality[\"OPTIONAL\"] = 1] = \"OPTIONAL\";\n    /**\n     * For required fields. Proto2 syntax only.\n     *\n     * @generated from enum value: CARDINALITY_REQUIRED = 2;\n     */\n    Field_Cardinality[Field_Cardinality[\"REQUIRED\"] = 2] = \"REQUIRED\";\n    /**\n     * For repeated fields.\n     *\n     * @generated from enum value: CARDINALITY_REPEATED = 3;\n     */\n    Field_Cardinality[Field_Cardinality[\"REPEATED\"] = 3] = \"REPEATED\";\n})(Field_Cardinality || (Field_Cardinality = {}));\n/**\n * Describes the enum google.protobuf.Field.Cardinality.\n */\nexport const Field_CardinalitySchema = /*@__PURE__*/ enumDesc(file_google_protobuf_type, 1, 1);\n/**\n * Describes the message google.protobuf.Enum.\n * Use `create(EnumSchema)` to create a new message.\n */\nexport const EnumSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_type, 2);\n/**\n * Describes the message google.protobuf.EnumValue.\n * Use `create(EnumValueSchema)` to create a new message.\n */\nexport const EnumValueSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_type, 3);\n/**\n * Describes the message google.protobuf.Option.\n * Use `create(OptionSchema)` to create a new message.\n */\nexport const OptionSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_type, 4);\n/**\n * The syntax in which a protocol buffer element is defined.\n *\n * @generated from enum google.protobuf.Syntax\n */\nexport var Syntax;\n(function (Syntax) {\n    /**\n     * Syntax `proto2`.\n     *\n     * @generated from enum value: SYNTAX_PROTO2 = 0;\n     */\n    Syntax[Syntax[\"PROTO2\"] = 0] = \"PROTO2\";\n    /**\n     * Syntax `proto3`.\n     *\n     * @generated from enum value: SYNTAX_PROTO3 = 1;\n     */\n    Syntax[Syntax[\"PROTO3\"] = 1] = \"PROTO3\";\n    /**\n     * Syntax `editions`.\n     *\n     * @generated from enum value: SYNTAX_EDITIONS = 2;\n     */\n    Syntax[Syntax[\"EDITIONS\"] = 2] = \"EDITIONS\";\n})(Syntax || (Syntax = {}));\n/**\n * Describes the enum google.protobuf.Syntax.\n */\nexport const SyntaxSchema = /*@__PURE__*/ enumDesc(file_google_protobuf_type, 0);\n", "// Copyright 2021-2025 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { fileDesc } from \"../../../../codegenv2/file.js\";\nimport { file_google_protobuf_source_context } from \"./source_context_pb.js\";\nimport { file_google_protobuf_type } from \"./type_pb.js\";\nimport { messageDesc } from \"../../../../codegenv2/message.js\";\n/**\n * Describes the file google/protobuf/api.proto.\n */\nexport const file_google_protobuf_api = /*@__PURE__*/ fileDesc(\"Chlnb29nbGUvcHJvdG9idWYvYXBpLnByb3RvEg9nb29nbGUucHJvdG9idWYigQIKA0FwaRIMCgRuYW1lGAEgASgJEigKB21ldGhvZHMYAiADKAsyFy5nb29nbGUucHJvdG9idWYuTWV0aG9kEigKB29wdGlvbnMYAyADKAsyFy5nb29nbGUucHJvdG9idWYuT3B0aW9uEg8KB3ZlcnNpb24YBCABKAkSNgoOc291cmNlX2NvbnRleHQYBSABKAsyHi5nb29nbGUucHJvdG9idWYuU291cmNlQ29udGV4dBImCgZtaXhpbnMYBiADKAsyFi5nb29nbGUucHJvdG9idWYuTWl4aW4SJwoGc3ludGF4GAcgASgOMhcuZ29vZ2xlLnByb3RvYnVmLlN5bnRheCLVAQoGTWV0aG9kEgwKBG5hbWUYASABKAkSGAoQcmVxdWVzdF90eXBlX3VybBgCIAEoCRIZChFyZXF1ZXN0X3N0cmVhbWluZxgDIAEoCBIZChFyZXNwb25zZV90eXBlX3VybBgEIAEoCRIaChJyZXNwb25zZV9zdHJlYW1pbmcYBSABKAgSKAoHb3B0aW9ucxgGIAMoCzIXLmdvb2dsZS5wcm90b2J1Zi5PcHRpb24SJwoGc3ludGF4GAcgASgOMhcuZ29vZ2xlLnByb3RvYnVmLlN5bnRheCIjCgVNaXhpbhIMCgRuYW1lGAEgASgJEgwKBHJvb3QYAiABKAlCdgoTY29tLmdvb2dsZS5wcm90b2J1ZkIIQXBpUHJvdG9QAVosZ29vZ2xlLmdvbGFuZy5vcmcvcHJvdG9idWYvdHlwZXMva25vd24vYXBpcGKiAgNHUEKqAh5Hb29nbGUuUHJvdG9idWYuV2VsbEtub3duVHlwZXNiBnByb3RvMw\", [file_google_protobuf_source_context, file_google_protobuf_type]);\n/**\n * Describes the message google.protobuf.Api.\n * Use `create(ApiSchema)` to create a new message.\n */\nexport const ApiSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_api, 0);\n/**\n * Describes the message google.protobuf.Method.\n * Use `create(MethodSchema)` to create a new message.\n */\nexport const MethodSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_api, 1);\n/**\n * Describes the message google.protobuf.Mixin.\n * Use `create(MixinSchema)` to create a new message.\n */\nexport const MixinSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_api, 2);\n", "// Copyright 2021-2025 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { fileDesc } from \"../../../../codegenv2/file.js\";\nimport { file_google_protobuf_descriptor } from \"./descriptor_pb.js\";\nimport { messageDesc } from \"../../../../codegenv2/message.js\";\nimport { enumDesc } from \"../../../../codegenv2/enum.js\";\nimport { extDesc } from \"../../../../codegenv2/extension.js\";\n/**\n * Describes the file google/protobuf/cpp_features.proto.\n */\nexport const file_google_protobuf_cpp_features = /*@__PURE__*/ fileDesc(\"CiJnb29nbGUvcHJvdG9idWYvY3BwX2ZlYXR1cmVzLnByb3RvEgJwYiL8AwoLQ3BwRmVhdHVyZXMS+wEKEmxlZ2FjeV9jbG9zZWRfZW51bRgBIAEoCELeAYgBAZgBBJgBAaIBCRIEdHJ1ZRiEB6IBChIFZmFsc2UY5weyAbgBCOgHEOgHGq8BVGhlIGxlZ2FjeSBjbG9zZWQgZW51bSBiZWhhdmlvciBpbiBDKysgaXMgZGVwcmVjYXRlZCBhbmQgaXMgc2NoZWR1bGVkIHRvIGJlIHJlbW92ZWQgaW4gZWRpdGlvbiAyMDI1LiAgU2VlIGh0dHA6Ly9wcm90b2J1Zi5kZXYvcHJvZ3JhbW1pbmctZ3VpZGVzL2VudW0vI2NwcCBmb3IgbW9yZSBpbmZvcm1hdGlvbhJaCgtzdHJpbmdfdHlwZRgCIAEoDjIaLnBiLkNwcEZlYXR1cmVzLlN0cmluZ1R5cGVCKYgBAZgBBJgBAaIBCxIGU1RSSU5HGIQHogEJEgRWSUVXGOkHsgEDCOgHEkwKGmVudW1fbmFtZV91c2VzX3N0cmluZ192aWV3GAMgASgIQiiIAQKYAQaYAQGiAQoSBWZhbHNlGIQHogEJEgR0cnVlGOkHsgEDCOkHIkUKClN0cmluZ1R5cGUSFwoTU1RSSU5HX1RZUEVfVU5LTk9XThAAEggKBFZJRVcQARIICgRDT1JEEAISCgoGU1RSSU5HEAM6PwoDY3BwEhsuZ29vZ2xlLnByb3RvYnVmLkZlYXR1cmVTZXQY6AcgASgLMg8ucGIuQ3BwRmVhdHVyZXNSA2NwcA\", [file_google_protobuf_descriptor]);\n/**\n * Describes the message pb.CppFeatures.\n * Use `create(CppFeaturesSchema)` to create a new message.\n */\nexport const CppFeaturesSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_cpp_features, 0);\n/**\n * @generated from enum pb.CppFeatures.StringType\n */\nexport var CppFeatures_StringType;\n(function (CppFeatures_StringType) {\n    /**\n     * @generated from enum value: STRING_TYPE_UNKNOWN = 0;\n     */\n    CppFeatures_StringType[CppFeatures_StringType[\"STRING_TYPE_UNKNOWN\"] = 0] = \"STRING_TYPE_UNKNOWN\";\n    /**\n     * @generated from enum value: VIEW = 1;\n     */\n    CppFeatures_StringType[CppFeatures_StringType[\"VIEW\"] = 1] = \"VIEW\";\n    /**\n     * @generated from enum value: CORD = 2;\n     */\n    CppFeatures_StringType[CppFeatures_StringType[\"CORD\"] = 2] = \"CORD\";\n    /**\n     * @generated from enum value: STRING = 3;\n     */\n    CppFeatures_StringType[CppFeatures_StringType[\"STRING\"] = 3] = \"STRING\";\n})(CppFeatures_StringType || (CppFeatures_StringType = {}));\n/**\n * Describes the enum pb.CppFeatures.StringType.\n */\nexport const CppFeatures_StringTypeSchema = /*@__PURE__*/ enumDesc(file_google_protobuf_cpp_features, 0, 0);\n/**\n * @generated from extension: optional pb.CppFeatures cpp = 1000;\n */\nexport const cpp = /*@__PURE__*/ extDesc(file_google_protobuf_cpp_features, 0);\n", "// Copyright 2021-2025 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { fileDesc } from \"../../../../codegenv2/file.js\";\nimport { messageDesc } from \"../../../../codegenv2/message.js\";\n/**\n * Describes the file google/protobuf/duration.proto.\n */\nexport const file_google_protobuf_duration = /*@__PURE__*/ fileDesc(\"Ch5nb29nbGUvcHJvdG9idWYvZHVyYXRpb24ucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIqCghEdXJhdGlvbhIPCgdzZWNvbmRzGAEgASgDEg0KBW5hbm9zGAIgASgFQoMBChNjb20uZ29vZ2xlLnByb3RvYnVmQg1EdXJhdGlvblByb3RvUAFaMWdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2R1cmF0aW9ucGL4AQGiAgNHUEKqAh5Hb29nbGUuUHJvdG9idWYuV2VsbEtub3duVHlwZXNiBnByb3RvMw\");\n/**\n * Describes the message google.protobuf.Duration.\n * Use `create(DurationSchema)` to create a new message.\n */\nexport const DurationSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_duration, 0);\n", "// Copyright 2021-2025 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { fileDesc } from \"../../../../codegenv2/file.js\";\nimport { messageDesc } from \"../../../../codegenv2/message.js\";\n/**\n * Describes the file google/protobuf/empty.proto.\n */\nexport const file_google_protobuf_empty = /*@__PURE__*/ fileDesc(\"Chtnb29nbGUvcHJvdG9idWYvZW1wdHkucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIHCgVFbXB0eUJ9ChNjb20uZ29vZ2xlLnByb3RvYnVmQgpFbXB0eVByb3RvUAFaLmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2VtcHR5cGL4AQGiAgNHUEKqAh5Hb29nbGUuUHJvdG9idWYuV2VsbEtub3duVHlwZXNiBnByb3RvMw\");\n/**\n * Describes the message google.protobuf.Empty.\n * Use `create(EmptySchema)` to create a new message.\n */\nexport const EmptySchema = /*@__PURE__*/ messageDesc(file_google_protobuf_empty, 0);\n", "// Copyright 2021-2025 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { fileDesc } from \"../../../../codegenv2/file.js\";\nimport { messageDesc } from \"../../../../codegenv2/message.js\";\n/**\n * Describes the file google/protobuf/field_mask.proto.\n */\nexport const file_google_protobuf_field_mask = /*@__PURE__*/ fileDesc(\"CiBnb29nbGUvcHJvdG9idWYvZmllbGRfbWFzay5wcm90bxIPZ29vZ2xlLnByb3RvYnVmIhoKCUZpZWxkTWFzaxINCgVwYXRocxgBIAMoCUKFAQoTY29tLmdvb2dsZS5wcm90b2J1ZkIORmllbGRNYXNrUHJvdG9QAVoyZ29vZ2xlLmdvbGFuZy5vcmcvcHJvdG9idWYvdHlwZXMva25vd24vZmllbGRtYXNrcGL4AQGiAgNHUEKqAh5Hb29nbGUuUHJvdG9idWYuV2VsbEtub3duVHlwZXNiBnByb3RvMw\");\n/**\n * Describes the message google.protobuf.FieldMask.\n * Use `create(FieldMaskSchema)` to create a new message.\n */\nexport const FieldMaskSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_field_mask, 0);\n", "// Copyright 2021-2025 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { fileDesc } from \"../../../../codegenv2/file.js\";\nimport { file_google_protobuf_descriptor } from \"./descriptor_pb.js\";\nimport { messageDesc } from \"../../../../codegenv2/message.js\";\nimport { enumDesc } from \"../../../../codegenv2/enum.js\";\nimport { extDesc } from \"../../../../codegenv2/extension.js\";\n/**\n * Describes the file google/protobuf/go_features.proto.\n */\nexport const file_google_protobuf_go_features = /*@__PURE__*/ fileDesc(\"CiFnb29nbGUvcHJvdG9idWYvZ29fZmVhdHVyZXMucHJvdG8SAnBiIvcECgpHb0ZlYXR1cmVzEqUBChpsZWdhY3lfdW5tYXJzaGFsX2pzb25fZW51bRgBIAEoCEKAAYgBAZgBBpgBAaIBCRIEdHJ1ZRiEB6IBChIFZmFsc2UY5weyAVsI6AcQ6AcaU1RoZSBsZWdhY3kgVW5tYXJzaGFsSlNPTiBBUEkgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIGVkaXRpb24uEmoKCWFwaV9sZXZlbBgCIAEoDjIXLnBiLkdvRmVhdHVyZXMuQVBJTGV2ZWxCPogBAZgBA5gBAaIBGhIVQVBJX0xFVkVMX1VOU1BFQ0lGSUVEGIQHogEPEgpBUElfT1BBUVVFGOkHsgEDCOgHEmsKEXN0cmlwX2VudW1fcHJlZml4GAMgASgOMh4ucGIuR29GZWF0dXJlcy5TdHJpcEVudW1QcmVmaXhCMIgBAZgBBpgBB5gBAaIBGxIWU1RSSVBfRU5VTV9QUkVGSVhfS0VFUBiEB7IBAwjpByJTCghBUElMZXZlbBIZChVBUElfTEVWRUxfVU5TUEVDSUZJRUQQABIMCghBUElfT1BFThABEg4KCkFQSV9IWUJSSUQQAhIOCgpBUElfT1BBUVVFEAMikgEKD1N0cmlwRW51bVByZWZpeBIhCh1TVFJJUF9FTlVNX1BSRUZJWF9VTlNQRUNJRklFRBAAEhoKFlNUUklQX0VOVU1fUFJFRklYX0tFRVAQARIjCh9TVFJJUF9FTlVNX1BSRUZJWF9HRU5FUkFURV9CT1RIEAISGwoXU1RSSVBfRU5VTV9QUkVGSVhfU1RSSVAQAzo8CgJnbxIbLmdvb2dsZS5wcm90b2J1Zi5GZWF0dXJlU2V0GOoHIAEoCzIOLnBiLkdvRmVhdHVyZXNSAmdvQi9aLWdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2dvZmVhdHVyZXNwYg\", [file_google_protobuf_descriptor]);\n/**\n * Describes the message pb.GoFeatures.\n * Use `create(GoFeaturesSchema)` to create a new message.\n */\nexport const GoFeaturesSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_go_features, 0);\n/**\n * @generated from enum pb.GoFeatures.APILevel\n */\nexport var GoFeatures_APILevel;\n(function (GoFeatures_APILevel) {\n    /**\n     * API_LEVEL_UNSPECIFIED results in selecting the OPEN API,\n     * but needs to be a separate value to distinguish between\n     * an explicitly set api level or a missing api level.\n     *\n     * @generated from enum value: API_LEVEL_UNSPECIFIED = 0;\n     */\n    GoFeatures_APILevel[GoFeatures_APILevel[\"API_LEVEL_UNSPECIFIED\"] = 0] = \"API_LEVEL_UNSPECIFIED\";\n    /**\n     * @generated from enum value: API_OPEN = 1;\n     */\n    GoFeatures_APILevel[GoFeatures_APILevel[\"API_OPEN\"] = 1] = \"API_OPEN\";\n    /**\n     * @generated from enum value: API_HYBRID = 2;\n     */\n    GoFeatures_APILevel[GoFeatures_APILevel[\"API_HYBRID\"] = 2] = \"API_HYBRID\";\n    /**\n     * @generated from enum value: API_OPAQUE = 3;\n     */\n    GoFeatures_APILevel[GoFeatures_APILevel[\"API_OPAQUE\"] = 3] = \"API_OPAQUE\";\n})(GoFeatures_APILevel || (GoFeatures_APILevel = {}));\n/**\n * Describes the enum pb.GoFeatures.APILevel.\n */\nexport const GoFeatures_APILevelSchema = /*@__PURE__*/ enumDesc(file_google_protobuf_go_features, 0, 0);\n/**\n * @generated from enum pb.GoFeatures.StripEnumPrefix\n */\nexport var GoFeatures_StripEnumPrefix;\n(function (GoFeatures_StripEnumPrefix) {\n    /**\n     * @generated from enum value: STRIP_ENUM_PREFIX_UNSPECIFIED = 0;\n     */\n    GoFeatures_StripEnumPrefix[GoFeatures_StripEnumPrefix[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from enum value: STRIP_ENUM_PREFIX_KEEP = 1;\n     */\n    GoFeatures_StripEnumPrefix[GoFeatures_StripEnumPrefix[\"KEEP\"] = 1] = \"KEEP\";\n    /**\n     * @generated from enum value: STRIP_ENUM_PREFIX_GENERATE_BOTH = 2;\n     */\n    GoFeatures_StripEnumPrefix[GoFeatures_StripEnumPrefix[\"GENERATE_BOTH\"] = 2] = \"GENERATE_BOTH\";\n    /**\n     * @generated from enum value: STRIP_ENUM_PREFIX_STRIP = 3;\n     */\n    GoFeatures_StripEnumPrefix[GoFeatures_StripEnumPrefix[\"STRIP\"] = 3] = \"STRIP\";\n})(GoFeatures_StripEnumPrefix || (GoFeatures_StripEnumPrefix = {}));\n/**\n * Describes the enum pb.GoFeatures.StripEnumPrefix.\n */\nexport const GoFeatures_StripEnumPrefixSchema = /*@__PURE__*/ enumDesc(file_google_protobuf_go_features, 0, 1);\n/**\n * @generated from extension: optional pb.GoFeatures go = 1002;\n */\nexport const go = /*@__PURE__*/ extDesc(file_google_protobuf_go_features, 0);\n", "// Copyright 2021-2025 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { fileDesc } from \"../../../../codegenv2/file.js\";\nimport { file_google_protobuf_descriptor } from \"./descriptor_pb.js\";\nimport { messageDesc } from \"../../../../codegenv2/message.js\";\nimport { enumDesc } from \"../../../../codegenv2/enum.js\";\nimport { extDesc } from \"../../../../codegenv2/extension.js\";\n/**\n * Describes the file google/protobuf/java_features.proto.\n */\nexport const file_google_protobuf_java_features = /*@__PURE__*/ fileDesc(\"CiNnb29nbGUvcHJvdG9idWYvamF2YV9mZWF0dXJlcy5wcm90bxICcGIi/QcKDEphdmFGZWF0dXJlcxL+AQoSbGVnYWN5X2Nsb3NlZF9lbnVtGAEgASgIQuEBiAEBmAEEmAEBogEJEgR0cnVlGIQHogEKEgVmYWxzZRjnB7IBuwEI6AcQ6AcasgFUaGUgbGVnYWN5IGNsb3NlZCBlbnVtIGJlaGF2aW9yIGluIEphdmEgaXMgZGVwcmVjYXRlZCBhbmQgaXMgc2NoZWR1bGVkIHRvIGJlIHJlbW92ZWQgaW4gZWRpdGlvbiAyMDI1LiAgU2VlIGh0dHA6Ly9wcm90b2J1Zi5kZXYvcHJvZ3JhbW1pbmctZ3VpZGVzL2VudW0vI2phdmEgZm9yIG1vcmUgaW5mb3JtYXRpb24uEp8CCg91dGY4X3ZhbGlkYXRpb24YAiABKA4yHy5wYi5KYXZhRmVhdHVyZXMuVXRmOFZhbGlkYXRpb25C5AGIAQGYAQSYAQGiAQwSB0RFRkFVTFQYhAeyAcgBCOgHEOkHGr8BVGhlIEphdmEtc3BlY2lmaWMgdXRmOCB2YWxpZGF0aW9uIGZlYXR1cmUgaXMgZGVwcmVjYXRlZCBhbmQgaXMgc2NoZWR1bGVkIHRvIGJlIHJlbW92ZWQgaW4gZWRpdGlvbiAyMDI1LiAgVXRmOCB2YWxpZGF0aW9uIGJlaGF2aW9yIHNob3VsZCB1c2UgdGhlIGdsb2JhbCBjcm9zcy1sYW5ndWFnZSB1dGY4X3ZhbGlkYXRpb24gZmVhdHVyZS4SMAoKbGFyZ2VfZW51bRgDIAEoCEIciAEBmAEGmAEBogEKEgVmYWxzZRiEB7IBAwjpBxJRCh91c2Vfb2xkX291dGVyX2NsYXNzbmFtZV9kZWZhdWx0GAQgASgIQiiIAQGYAQGiAQkSBHRydWUYhAeiAQoSBWZhbHNlGOkHsgEGCOkHIOkHEn8KEm5lc3RfaW5fZmlsZV9jbGFzcxgFIAEoDjI3LnBiLkphdmFGZWF0dXJlcy5OZXN0SW5GaWxlQ2xhc3NGZWF0dXJlLk5lc3RJbkZpbGVDbGFzc0IqiAECmAEDmAEGmAEIogELEgZMRUdBQ1kYhAeiAQcSAk5PGOkHsgEDCOkHGnwKFk5lc3RJbkZpbGVDbGFzc0ZlYXR1cmUiWAoPTmVzdEluRmlsZUNsYXNzEh4KGk5FU1RfSU5fRklMRV9DTEFTU19VTktOT1dOEAASBgoCTk8QARIHCgNZRVMQAhIUCgZMRUdBQ1kQAxoIIgYI6Qcg6QdKCAgBEICAgIACIkYKDlV0ZjhWYWxpZGF0aW9uEhsKF1VURjhfVkFMSURBVElPTl9VTktOT1dOEAASCwoHREVGQVVMVBABEgoKBlZFUklGWRACOkIKBGphdmESGy5nb29nbGUucHJvdG9idWYuRmVhdHVyZVNldBjpByABKAsyEC5wYi5KYXZhRmVhdHVyZXNSBGphdmFCKAoTY29tLmdvb2dsZS5wcm90b2J1ZkIRSmF2YUZlYXR1cmVzUHJvdG8\", [file_google_protobuf_descriptor]);\n/**\n * Describes the message pb.JavaFeatures.\n * Use `create(JavaFeaturesSchema)` to create a new message.\n */\nexport const JavaFeaturesSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_java_features, 0);\n/**\n * Describes the message pb.JavaFeatures.NestInFileClassFeature.\n * Use `create(JavaFeatures_NestInFileClassFeatureSchema)` to create a new message.\n */\nexport const JavaFeatures_NestInFileClassFeatureSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_java_features, 0, 0);\n/**\n * @generated from enum pb.JavaFeatures.NestInFileClassFeature.NestInFileClass\n */\nexport var JavaFeatures_NestInFileClassFeature_NestInFileClass;\n(function (JavaFeatures_NestInFileClassFeature_NestInFileClass) {\n    /**\n     * Invalid default, which should never be used.\n     *\n     * @generated from enum value: NEST_IN_FILE_CLASS_UNKNOWN = 0;\n     */\n    JavaFeatures_NestInFileClassFeature_NestInFileClass[JavaFeatures_NestInFileClassFeature_NestInFileClass[\"NEST_IN_FILE_CLASS_UNKNOWN\"] = 0] = \"NEST_IN_FILE_CLASS_UNKNOWN\";\n    /**\n     * Do not nest the generated class in the file class.\n     *\n     * @generated from enum value: NO = 1;\n     */\n    JavaFeatures_NestInFileClassFeature_NestInFileClass[JavaFeatures_NestInFileClassFeature_NestInFileClass[\"NO\"] = 1] = \"NO\";\n    /**\n     * Nest the generated class in the file class.\n     *\n     * @generated from enum value: YES = 2;\n     */\n    JavaFeatures_NestInFileClassFeature_NestInFileClass[JavaFeatures_NestInFileClassFeature_NestInFileClass[\"YES\"] = 2] = \"YES\";\n    /**\n     * Fall back to the `java_multiple_files` option. Users won't be able to\n     * set this option.\n     *\n     * @generated from enum value: LEGACY = 3;\n     */\n    JavaFeatures_NestInFileClassFeature_NestInFileClass[JavaFeatures_NestInFileClassFeature_NestInFileClass[\"LEGACY\"] = 3] = \"LEGACY\";\n})(JavaFeatures_NestInFileClassFeature_NestInFileClass || (JavaFeatures_NestInFileClassFeature_NestInFileClass = {}));\n/**\n * Describes the enum pb.JavaFeatures.NestInFileClassFeature.NestInFileClass.\n */\nexport const JavaFeatures_NestInFileClassFeature_NestInFileClassSchema = /*@__PURE__*/ enumDesc(file_google_protobuf_java_features, 0, 0, 0);\n/**\n * The UTF8 validation strategy to use.\n *\n * @generated from enum pb.JavaFeatures.Utf8Validation\n */\nexport var JavaFeatures_Utf8Validation;\n(function (JavaFeatures_Utf8Validation) {\n    /**\n     * Invalid default, which should never be used.\n     *\n     * @generated from enum value: UTF8_VALIDATION_UNKNOWN = 0;\n     */\n    JavaFeatures_Utf8Validation[JavaFeatures_Utf8Validation[\"UTF8_VALIDATION_UNKNOWN\"] = 0] = \"UTF8_VALIDATION_UNKNOWN\";\n    /**\n     * Respect the UTF8 validation behavior specified by the global\n     * utf8_validation feature.\n     *\n     * @generated from enum value: DEFAULT = 1;\n     */\n    JavaFeatures_Utf8Validation[JavaFeatures_Utf8Validation[\"DEFAULT\"] = 1] = \"DEFAULT\";\n    /**\n     * Verifies UTF8 validity overriding the global utf8_validation\n     * feature. This represents the legacy java_string_check_utf8 option.\n     *\n     * @generated from enum value: VERIFY = 2;\n     */\n    JavaFeatures_Utf8Validation[JavaFeatures_Utf8Validation[\"VERIFY\"] = 2] = \"VERIFY\";\n})(JavaFeatures_Utf8Validation || (JavaFeatures_Utf8Validation = {}));\n/**\n * Describes the enum pb.JavaFeatures.Utf8Validation.\n */\nexport const JavaFeatures_Utf8ValidationSchema = /*@__PURE__*/ enumDesc(file_google_protobuf_java_features, 0, 0);\n/**\n * @generated from extension: optional pb.JavaFeatures java = 1001;\n */\nexport const java = /*@__PURE__*/ extDesc(file_google_protobuf_java_features, 0);\n", "// Copyright 2021-2025 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { fileDesc } from \"../../../../codegenv2/file.js\";\nimport { messageDesc } from \"../../../../codegenv2/message.js\";\nimport { enumDesc } from \"../../../../codegenv2/enum.js\";\n/**\n * Describes the file google/protobuf/struct.proto.\n */\nexport const file_google_protobuf_struct = /*@__PURE__*/ fileDesc(\"Chxnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvEg9nb29nbGUucHJvdG9idWYihAEKBlN0cnVjdBIzCgZmaWVsZHMYASADKAsyIy5nb29nbGUucHJvdG9idWYuU3RydWN0LkZpZWxkc0VudHJ5GkUKC0ZpZWxkc0VudHJ5EgsKA2tleRgBIAEoCRIlCgV2YWx1ZRgCIAEoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZToCOAEi6gEKBVZhbHVlEjAKCm51bGxfdmFsdWUYASABKA4yGi5nb29nbGUucHJvdG9idWYuTnVsbFZhbHVlSAASFgoMbnVtYmVyX3ZhbHVlGAIgASgBSAASFgoMc3RyaW5nX3ZhbHVlGAMgASgJSAASFAoKYm9vbF92YWx1ZRgEIAEoCEgAEi8KDHN0cnVjdF92YWx1ZRgFIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RIABIwCgpsaXN0X3ZhbHVlGAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZUgAQgYKBGtpbmQiMwoJTGlzdFZhbHVlEiYKBnZhbHVlcxgBIAMoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZSobCglOdWxsVmFsdWUSDgoKTlVMTF9WQUxVRRAAQn8KE2NvbS5nb29nbGUucHJvdG9idWZCC1N0cnVjdFByb3RvUAFaL2dvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3N0cnVjdHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM\");\n/**\n * Describes the message google.protobuf.Struct.\n * Use `create(StructSchema)` to create a new message.\n */\nexport const StructSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_struct, 0);\n/**\n * Describes the message google.protobuf.Value.\n * Use `create(ValueSchema)` to create a new message.\n */\nexport const ValueSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_struct, 1);\n/**\n * Describes the message google.protobuf.ListValue.\n * Use `create(ListValueSchema)` to create a new message.\n */\nexport const ListValueSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_struct, 2);\n/**\n * `NullValue` is a singleton enumeration to represent the null value for the\n * `Value` type union.\n *\n * The JSON representation for `NullValue` is JSON `null`.\n *\n * @generated from enum google.protobuf.NullValue\n */\nexport var NullValue;\n(function (NullValue) {\n    /**\n     * Null value.\n     *\n     * @generated from enum value: NULL_VALUE = 0;\n     */\n    NullValue[NullValue[\"NULL_VALUE\"] = 0] = \"NULL_VALUE\";\n})(NullValue || (NullValue = {}));\n/**\n * Describes the enum google.protobuf.NullValue.\n */\nexport const NullValueSchema = /*@__PURE__*/ enumDesc(file_google_protobuf_struct, 0);\n", "// Copyright 2021-2025 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { fileDesc } from \"../../../../codegenv2/file.js\";\nimport { messageDesc } from \"../../../../codegenv2/message.js\";\n/**\n * Describes the file google/protobuf/wrappers.proto.\n */\nexport const file_google_protobuf_wrappers = /*@__PURE__*/ fileDesc(\"Ch5nb29nbGUvcHJvdG9idWYvd3JhcHBlcnMucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIcCgtEb3VibGVWYWx1ZRINCgV2YWx1ZRgBIAEoASIbCgpGbG9hdFZhbHVlEg0KBXZhbHVlGAEgASgCIhsKCkludDY0VmFsdWUSDQoFdmFsdWUYASABKAMiHAoLVUludDY0VmFsdWUSDQoFdmFsdWUYASABKAQiGwoKSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoBSIcCgtVSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoDSIaCglCb29sVmFsdWUSDQoFdmFsdWUYASABKAgiHAoLU3RyaW5nVmFsdWUSDQoFdmFsdWUYASABKAkiGwoKQnl0ZXNWYWx1ZRINCgV2YWx1ZRgBIAEoDEKDAQoTY29tLmdvb2dsZS5wcm90b2J1ZkINV3JhcHBlcnNQcm90b1ABWjFnb29nbGUuZ29sYW5nLm9yZy9wcm90b2J1Zi90eXBlcy9rbm93bi93cmFwcGVyc3Bi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM\");\n/**\n * Describes the message google.protobuf.DoubleValue.\n * Use `create(DoubleValueSchema)` to create a new message.\n */\nexport const DoubleValueSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_wrappers, 0);\n/**\n * Describes the message google.protobuf.FloatValue.\n * Use `create(FloatValueSchema)` to create a new message.\n */\nexport const FloatValueSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_wrappers, 1);\n/**\n * Describes the message google.protobuf.Int64Value.\n * Use `create(Int64ValueSchema)` to create a new message.\n */\nexport const Int64ValueSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_wrappers, 2);\n/**\n * Describes the message google.protobuf.UInt64Value.\n * Use `create(UInt64ValueSchema)` to create a new message.\n */\nexport const UInt64ValueSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_wrappers, 3);\n/**\n * Describes the message google.protobuf.Int32Value.\n * Use `create(Int32ValueSchema)` to create a new message.\n */\nexport const Int32ValueSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_wrappers, 4);\n/**\n * Describes the message google.protobuf.UInt32Value.\n * Use `create(UInt32ValueSchema)` to create a new message.\n */\nexport const UInt32ValueSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_wrappers, 5);\n/**\n * Describes the message google.protobuf.BoolValue.\n * Use `create(BoolValueSchema)` to create a new message.\n */\nexport const BoolValueSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_wrappers, 6);\n/**\n * Describes the message google.protobuf.StringValue.\n * Use `create(StringValueSchema)` to create a new message.\n */\nexport const StringValueSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_wrappers, 7);\n/**\n * Describes the message google.protobuf.BytesValue.\n * Use `create(BytesValueSchema)` to create a new message.\n */\nexport const BytesValueSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_wrappers, 8);\n", "// Copyright 2021-2025 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { fileDesc } from \"../../../../../codegenv2/file.js\";\nimport { file_google_protobuf_descriptor } from \"../descriptor_pb.js\";\nimport { messageDesc } from \"../../../../../codegenv2/message.js\";\nimport { enumDesc } from \"../../../../../codegenv2/enum.js\";\n/**\n * Describes the file google/protobuf/compiler/plugin.proto.\n */\nexport const file_google_protobuf_compiler_plugin = /*@__PURE__*/ fileDesc(\"CiVnb29nbGUvcHJvdG9idWYvY29tcGlsZXIvcGx1Z2luLnByb3RvEhhnb29nbGUucHJvdG9idWYuY29tcGlsZXIiRgoHVmVyc2lvbhINCgVtYWpvchgBIAEoBRINCgVtaW5vchgCIAEoBRINCgVwYXRjaBgDIAEoBRIOCgZzdWZmaXgYBCABKAkigQIKFENvZGVHZW5lcmF0b3JSZXF1ZXN0EhgKEGZpbGVfdG9fZ2VuZXJhdGUYASADKAkSEQoJcGFyYW1ldGVyGAIgASgJEjgKCnByb3RvX2ZpbGUYDyADKAsyJC5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90bxJFChdzb3VyY2VfZmlsZV9kZXNjcmlwdG9ycxgRIAMoCzIkLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvEjsKEGNvbXBpbGVyX3ZlcnNpb24YAyABKAsyIS5nb29nbGUucHJvdG9idWYuY29tcGlsZXIuVmVyc2lvbiKSAwoVQ29kZUdlbmVyYXRvclJlc3BvbnNlEg0KBWVycm9yGAEgASgJEhoKEnN1cHBvcnRlZF9mZWF0dXJlcxgCIAEoBBIXCg9taW5pbXVtX2VkaXRpb24YAyABKAUSFwoPbWF4aW11bV9lZGl0aW9uGAQgASgFEkIKBGZpbGUYDyADKAsyNC5nb29nbGUucHJvdG9idWYuY29tcGlsZXIuQ29kZUdlbmVyYXRvclJlc3BvbnNlLkZpbGUafwoERmlsZRIMCgRuYW1lGAEgASgJEhcKD2luc2VydGlvbl9wb2ludBgCIAEoCRIPCgdjb250ZW50GA8gASgJEj8KE2dlbmVyYXRlZF9jb2RlX2luZm8YECABKAsyIi5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8iVwoHRmVhdHVyZRIQCgxGRUFUVVJFX05PTkUQABIbChdGRUFUVVJFX1BST1RPM19PUFRJT05BTBABEh0KGUZFQVRVUkVfU1VQUE9SVFNfRURJVElPTlMQAkJyChxjb20uZ29vZ2xlLnByb3RvYnVmLmNvbXBpbGVyQgxQbHVnaW5Qcm90b3NaKWdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL3BsdWdpbnBiqgIYR29vZ2xlLlByb3RvYnVmLkNvbXBpbGVy\", [file_google_protobuf_descriptor]);\n/**\n * Describes the message google.protobuf.compiler.Version.\n * Use `create(VersionSchema)` to create a new message.\n */\nexport const VersionSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_compiler_plugin, 0);\n/**\n * Describes the message google.protobuf.compiler.CodeGeneratorRequest.\n * Use `create(CodeGeneratorRequestSchema)` to create a new message.\n */\nexport const CodeGeneratorRequestSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_compiler_plugin, 1);\n/**\n * Describes the message google.protobuf.compiler.CodeGeneratorResponse.\n * Use `create(CodeGeneratorResponseSchema)` to create a new message.\n */\nexport const CodeGeneratorResponseSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_compiler_plugin, 2);\n/**\n * Describes the message google.protobuf.compiler.CodeGeneratorResponse.File.\n * Use `create(CodeGeneratorResponse_FileSchema)` to create a new message.\n */\nexport const CodeGeneratorResponse_FileSchema = /*@__PURE__*/ messageDesc(file_google_protobuf_compiler_plugin, 2, 0);\n/**\n * Sync with code_generator.h.\n *\n * @generated from enum google.protobuf.compiler.CodeGeneratorResponse.Feature\n */\nexport var CodeGeneratorResponse_Feature;\n(function (CodeGeneratorResponse_Feature) {\n    /**\n     * @generated from enum value: FEATURE_NONE = 0;\n     */\n    CodeGeneratorResponse_Feature[CodeGeneratorResponse_Feature[\"NONE\"] = 0] = \"NONE\";\n    /**\n     * @generated from enum value: FEATURE_PROTO3_OPTIONAL = 1;\n     */\n    CodeGeneratorResponse_Feature[CodeGeneratorResponse_Feature[\"PROTO3_OPTIONAL\"] = 1] = \"PROTO3_OPTIONAL\";\n    /**\n     * @generated from enum value: FEATURE_SUPPORTS_EDITIONS = 2;\n     */\n    CodeGeneratorResponse_Feature[CodeGeneratorResponse_Feature[\"SUPPORTS_EDITIONS\"] = 2] = \"SUPPORTS_EDITIONS\";\n})(CodeGeneratorResponse_Feature || (CodeGeneratorResponse_Feature = {}));\n/**\n * Describes the enum google.protobuf.compiler.CodeGeneratorResponse.Feature.\n */\nexport const CodeGeneratorResponse_FeatureSchema = /*@__PURE__*/ enumDesc(file_google_protobuf_compiler_plugin, 2, 0);\n", "// Copyright 2021-2025 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { create } from \"./create.js\";\nimport { readField } from \"./from-binary.js\";\nimport { reflect } from \"./reflect/reflect.js\";\nimport { scalarZeroValue } from \"./reflect/scalar.js\";\nimport { writeField } from \"./to-binary.js\";\nimport { BinaryReader, BinaryWriter } from \"./wire/binary-encoding.js\";\nimport { isWrapperDesc } from \"./wkt/wrappers.js\";\n/**\n * Retrieve an extension value from a message.\n *\n * The function never returns undefined. Use hasExtension() to check whether an\n * extension is set. If the extension is not set, this function returns the\n * default value (if one was specified in the protobuf source), or the zero value\n * (for example `0` for numeric types, `[]` for repeated extension fields, and\n * an empty message instance for message fields).\n *\n * Extensions are stored as unknown fields on a message. To mutate an extension\n * value, make sure to store the new value with setExtension() after mutating.\n *\n * If the extension does not extend the given message, an error is raised.\n */\nexport function getExtension(message, extension) {\n    assertExtendee(extension, message);\n    const ufs = filterUnknownFields(message.$unknown, extension);\n    const [container, field, get] = createExtensionContainer(extension);\n    for (const uf of ufs) {\n        readField(container, new BinaryReader(uf.data), field, uf.wireType, {\n            readUnknownFields: true,\n        });\n    }\n    return get();\n}\n/**\n * Set an extension value on a message. If the message already has a value for\n * this extension, the value is replaced.\n *\n * If the extension does not extend the given message, an error is raised.\n */\nexport function setExtension(message, extension, value) {\n    var _a;\n    assertExtendee(extension, message);\n    const ufs = ((_a = message.$unknown) !== null && _a !== void 0 ? _a : []).filter((uf) => uf.no !== extension.number);\n    const [container, field] = createExtensionContainer(extension, value);\n    const writer = new BinaryWriter();\n    writeField(writer, { writeUnknownFields: true }, container, field);\n    const reader = new BinaryReader(writer.finish());\n    while (reader.pos < reader.len) {\n        const [no, wireType] = reader.tag();\n        const data = reader.skip(wireType, no);\n        ufs.push({ no, wireType, data });\n    }\n    message.$unknown = ufs;\n}\n/**\n * Remove an extension value from a message.\n *\n * If the extension does not extend the given message, an error is raised.\n */\nexport function clearExtension(message, extension) {\n    assertExtendee(extension, message);\n    if (message.$unknown === undefined) {\n        return;\n    }\n    message.$unknown = message.$unknown.filter((uf) => uf.no !== extension.number);\n}\n/**\n * Check whether an extension is set on a message.\n */\nexport function hasExtension(message, extension) {\n    var _a;\n    return (extension.extendee.typeName === message.$typeName &&\n        !!((_a = message.$unknown) === null || _a === void 0 ? void 0 : _a.find((uf) => uf.no === extension.number)));\n}\n/**\n * Check whether an option is set on a descriptor.\n *\n * Options are extensions to the `google.protobuf.*Options` messages defined in\n * google/protobuf/descriptor.proto. This function gets the option message from\n * the descriptor, and calls hasExtension().\n */\nexport function hasOption(element, option) {\n    const message = element.proto.options;\n    if (!message) {\n        return false;\n    }\n    return hasExtension(message, option);\n}\n/**\n * Retrieve an option value from a descriptor.\n *\n * Options are extensions to the `google.protobuf.*Options` messages defined in\n * google/protobuf/descriptor.proto. This function gets the option message from\n * the descriptor, and calls getExtension(). Same as getExtension(), this\n * function never returns undefined.\n */\nexport function getOption(element, option) {\n    const message = element.proto.options;\n    if (!message) {\n        const [, , get] = createExtensionContainer(option);\n        return get();\n    }\n    return getExtension(message, option);\n}\nfunction filterUnknownFields(unknownFields, extension) {\n    if (unknownFields === undefined)\n        return [];\n    if (extension.fieldKind === \"enum\" || extension.fieldKind === \"scalar\") {\n        // singular scalar fields do not merge, we pick the last\n        for (let i = unknownFields.length - 1; i >= 0; --i) {\n            if (unknownFields[i].no == extension.number) {\n                return [unknownFields[i]];\n            }\n        }\n        return [];\n    }\n    return unknownFields.filter((uf) => uf.no === extension.number);\n}\n/**\n * @private\n */\nexport function createExtensionContainer(extension, value) {\n    const localName = extension.typeName;\n    const field = Object.assign(Object.assign({}, extension), { kind: \"field\", parent: extension.extendee, localName });\n    const desc = Object.assign(Object.assign({}, extension.extendee), { fields: [field], members: [field], oneofs: [] });\n    const container = create(desc, value !== undefined ? { [localName]: value } : undefined);\n    return [\n        reflect(desc, container),\n        field,\n        () => {\n            const value = container[localName];\n            if (value === undefined) {\n                // biome-ignore lint/style/noNonNullAssertion: Only message fields are undefined, rest will have a zero value.\n                const desc = extension.message;\n                if (isWrapperDesc(desc)) {\n                    return scalarZeroValue(desc.fields[0].scalar, desc.fields[0].longAsString);\n                }\n                return create(desc);\n            }\n            return value;\n        },\n    ];\n}\nfunction assertExtendee(extension, message) {\n    if (extension.extendee.typeName != message.$typeName) {\n        throw new Error(`extension ${extension.typeName} can only be applied to message ${extension.extendee.typeName}`);\n    }\n}\n", "// Copyright 2021-2025 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { ScalarType, } from \"./descriptors.js\";\nimport { protoCamelCase } from \"./reflect/names.js\";\nimport { reflect } from \"./reflect/reflect.js\";\nimport { anyUnpack } from \"./wkt/index.js\";\nimport { isWrapperDesc } from \"./wkt/wrappers.js\";\nimport { base64Encode } from \"./wire/index.js\";\nimport { createExtensionContainer, getExtension } from \"./extensions.js\";\nimport { checkField, formatVal } from \"./reflect/reflect-check.js\";\n// bootstrap-inject google.protobuf.FeatureSet.FieldPresence.LEGACY_REQUIRED: const $name: FeatureSet_FieldPresence.$localName = $number;\nconst LEGACY_REQUIRED = 3;\n// bootstrap-inject google.protobuf.FeatureSet.FieldPresence.IMPLICIT: const $name: FeatureSet_FieldPresence.$localName = $number;\nconst IMPLICIT = 2;\n// Default options for serializing to JSON.\nconst jsonWriteDefaults = {\n    alwaysEmitImplicit: false,\n    enumAsInteger: false,\n    useProtoFieldName: false,\n};\nfunction makeWriteOptions(options) {\n    return options ? Object.assign(Object.assign({}, jsonWriteDefaults), options) : jsonWriteDefaults;\n}\n/**\n * Serialize the message to a JSON value, a JavaScript value that can be\n * passed to JSON.stringify().\n */\nexport function toJson(schema, message, options) {\n    return reflectToJson(reflect(schema, message), makeWriteOptions(options));\n}\n/**\n * Serialize the message to a JSON string.\n */\nexport function toJsonString(schema, message, options) {\n    var _a;\n    const jsonValue = toJson(schema, message, options);\n    return JSON.stringify(jsonValue, null, (_a = options === null || options === void 0 ? void 0 : options.prettySpaces) !== null && _a !== void 0 ? _a : 0);\n}\n/**\n * Serialize a single enum value to JSON.\n */\nexport function enumToJson(descEnum, value) {\n    var _a;\n    if (descEnum.typeName == \"google.protobuf.NullValue\") {\n        return null;\n    }\n    const name = (_a = descEnum.value[value]) === null || _a === void 0 ? void 0 : _a.name;\n    if (name === undefined) {\n        throw new Error(`${value} is not a value in ${descEnum}`);\n    }\n    return name;\n}\nfunction reflectToJson(msg, opts) {\n    var _a;\n    const wktJson = tryWktToJson(msg, opts);\n    if (wktJson !== undefined)\n        return wktJson;\n    const json = {};\n    for (const f of msg.sortedFields) {\n        if (!msg.isSet(f)) {\n            if (f.presence == LEGACY_REQUIRED) {\n                throw new Error(`cannot encode ${f} to JSON: required field not set`);\n            }\n            if (!opts.alwaysEmitImplicit || f.presence !== IMPLICIT) {\n                // Fields with implicit presence omit zero values (e.g. empty string) by default\n                continue;\n            }\n        }\n        const jsonValue = fieldToJson(f, msg.get(f), opts);\n        if (jsonValue !== undefined) {\n            json[jsonName(f, opts)] = jsonValue;\n        }\n    }\n    if (opts.registry) {\n        const tagSeen = new Set();\n        for (const { no } of (_a = msg.getUnknown()) !== null && _a !== void 0 ? _a : []) {\n            // Same tag can appear multiple times, so we\n            // keep track and skip identical ones.\n            if (!tagSeen.has(no)) {\n                tagSeen.add(no);\n                const extension = opts.registry.getExtensionFor(msg.desc, no);\n                if (!extension) {\n                    continue;\n                }\n                const value = getExtension(msg.message, extension);\n                const [container, field] = createExtensionContainer(extension, value);\n                const jsonValue = fieldToJson(field, container.get(field), opts);\n                if (jsonValue !== undefined) {\n                    json[extension.jsonName] = jsonValue;\n                }\n            }\n        }\n    }\n    return json;\n}\nfunction fieldToJson(f, val, opts) {\n    switch (f.fieldKind) {\n        case \"scalar\":\n            return scalarToJson(f, val);\n        case \"message\":\n            return reflectToJson(val, opts);\n        case \"enum\":\n            return enumToJsonInternal(f.enum, val, opts.enumAsInteger);\n        case \"list\":\n            return listToJson(val, opts);\n        case \"map\":\n            return mapToJson(val, opts);\n    }\n}\nfunction mapToJson(map, opts) {\n    const f = map.field();\n    const jsonObj = {};\n    switch (f.mapKind) {\n        case \"scalar\":\n            for (const [entryKey, entryValue] of map) {\n                jsonObj[entryKey] = scalarToJson(f, entryValue);\n            }\n            break;\n        case \"message\":\n            for (const [entryKey, entryValue] of map) {\n                jsonObj[entryKey] = reflectToJson(entryValue, opts);\n            }\n            break;\n        case \"enum\":\n            for (const [entryKey, entryValue] of map) {\n                jsonObj[entryKey] = enumToJsonInternal(f.enum, entryValue, opts.enumAsInteger);\n            }\n            break;\n    }\n    return opts.alwaysEmitImplicit || map.size > 0 ? jsonObj : undefined;\n}\nfunction listToJson(list, opts) {\n    const f = list.field();\n    const jsonArr = [];\n    switch (f.listKind) {\n        case \"scalar\":\n            for (const item of list) {\n                jsonArr.push(scalarToJson(f, item));\n            }\n            break;\n        case \"enum\":\n            for (const item of list) {\n                jsonArr.push(enumToJsonInternal(f.enum, item, opts.enumAsInteger));\n            }\n            break;\n        case \"message\":\n            for (const item of list) {\n                jsonArr.push(reflectToJson(item, opts));\n            }\n            break;\n    }\n    return opts.alwaysEmitImplicit || jsonArr.length > 0 ? jsonArr : undefined;\n}\nfunction enumToJsonInternal(desc, value, enumAsInteger) {\n    var _a;\n    if (typeof value != \"number\") {\n        throw new Error(`cannot encode ${desc} to JSON: expected number, got ${formatVal(value)}`);\n    }\n    if (desc.typeName == \"google.protobuf.NullValue\") {\n        return null;\n    }\n    if (enumAsInteger) {\n        return value;\n    }\n    const val = desc.value[value];\n    return (_a = val === null || val === void 0 ? void 0 : val.name) !== null && _a !== void 0 ? _a : value; // if we don't know the enum value, just return the number\n}\nfunction scalarToJson(field, value) {\n    var _a, _b, _c, _d, _e, _f;\n    switch (field.scalar) {\n        // int32, fixed32, uint32: JSON value will be a decimal number. Either numbers or strings are accepted.\n        case ScalarType.INT32:\n        case ScalarType.SFIXED32:\n        case ScalarType.SINT32:\n        case ScalarType.FIXED32:\n        case ScalarType.UINT32:\n            if (typeof value != \"number\") {\n                throw new Error(`cannot encode ${field} to JSON: ${(_a = checkField(field, value)) === null || _a === void 0 ? void 0 : _a.message}`);\n            }\n            return value;\n        // float, double: JSON value will be a number or one of the special string values \"NaN\", \"Infinity\", and \"-Infinity\".\n        // Either numbers or strings are accepted. Exponent notation is also accepted.\n        case ScalarType.FLOAT:\n        case ScalarType.DOUBLE: // eslint-disable-line no-fallthrough\n            if (typeof value != \"number\") {\n                throw new Error(`cannot encode ${field} to JSON: ${(_b = checkField(field, value)) === null || _b === void 0 ? void 0 : _b.message}`);\n            }\n            if (Number.isNaN(value))\n                return \"NaN\";\n            if (value === Number.POSITIVE_INFINITY)\n                return \"Infinity\";\n            if (value === Number.NEGATIVE_INFINITY)\n                return \"-Infinity\";\n            return value;\n        // string:\n        case ScalarType.STRING:\n            if (typeof value != \"string\") {\n                throw new Error(`cannot encode ${field} to JSON: ${(_c = checkField(field, value)) === null || _c === void 0 ? void 0 : _c.message}`);\n            }\n            return value;\n        // bool:\n        case ScalarType.BOOL:\n            if (typeof value != \"boolean\") {\n                throw new Error(`cannot encode ${field} to JSON: ${(_d = checkField(field, value)) === null || _d === void 0 ? void 0 : _d.message}`);\n            }\n            return value;\n        // JSON value will be a decimal string. Either numbers or strings are accepted.\n        case ScalarType.UINT64:\n        case ScalarType.FIXED64:\n        case ScalarType.INT64:\n        case ScalarType.SFIXED64:\n        case ScalarType.SINT64:\n            if (typeof value != \"bigint\" && typeof value != \"string\") {\n                throw new Error(`cannot encode ${field} to JSON: ${(_e = checkField(field, value)) === null || _e === void 0 ? void 0 : _e.message}`);\n            }\n            return value.toString();\n        // bytes: JSON value will be the data encoded as a string using standard base64 encoding with paddings.\n        // Either standard or URL-safe base64 encoding with/without paddings are accepted.\n        case ScalarType.BYTES:\n            if (value instanceof Uint8Array) {\n                return base64Encode(value);\n            }\n            throw new Error(`cannot encode ${field} to JSON: ${(_f = checkField(field, value)) === null || _f === void 0 ? void 0 : _f.message}`);\n    }\n}\nfunction jsonName(f, opts) {\n    return opts.useProtoFieldName ? f.name : f.jsonName;\n}\n// returns a json value if wkt, otherwise returns undefined.\nfunction tryWktToJson(msg, opts) {\n    if (!msg.desc.typeName.startsWith(\"google.protobuf.\")) {\n        return undefined;\n    }\n    switch (msg.desc.typeName) {\n        case \"google.protobuf.Any\":\n            return anyToJson(msg.message, opts);\n        case \"google.protobuf.Timestamp\":\n            return timestampToJson(msg.message);\n        case \"google.protobuf.Duration\":\n            return durationToJson(msg.message);\n        case \"google.protobuf.FieldMask\":\n            return fieldMaskToJson(msg.message);\n        case \"google.protobuf.Struct\":\n            return structToJson(msg.message);\n        case \"google.protobuf.Value\":\n            return valueToJson(msg.message);\n        case \"google.protobuf.ListValue\":\n            return listValueToJson(msg.message);\n        default:\n            if (isWrapperDesc(msg.desc)) {\n                const valueField = msg.desc.fields[0];\n                return scalarToJson(valueField, msg.get(valueField));\n            }\n            return undefined;\n    }\n}\nfunction anyToJson(val, opts) {\n    if (val.typeUrl === \"\") {\n        return {};\n    }\n    const { registry } = opts;\n    let message;\n    let desc;\n    if (registry) {\n        message = anyUnpack(val, registry);\n        if (message) {\n            desc = registry.getMessage(message.$typeName);\n        }\n    }\n    if (!desc || !message) {\n        throw new Error(`cannot encode message ${val.$typeName} to JSON: \"${val.typeUrl}\" is not in the type registry`);\n    }\n    let json = reflectToJson(reflect(desc, message), opts);\n    if (desc.typeName.startsWith(\"google.protobuf.\") ||\n        json === null ||\n        Array.isArray(json) ||\n        typeof json !== \"object\") {\n        json = { value: json };\n    }\n    json[\"@type\"] = val.typeUrl;\n    return json;\n}\nfunction durationToJson(val) {\n    if (Number(val.seconds) > 315576000000 ||\n        Number(val.seconds) < -315576000000) {\n        throw new Error(`cannot encode message ${val.$typeName} to JSON: value out of range`);\n    }\n    let text = val.seconds.toString();\n    if (val.nanos !== 0) {\n        let nanosStr = Math.abs(val.nanos).toString();\n        nanosStr = \"0\".repeat(9 - nanosStr.length) + nanosStr;\n        if (nanosStr.substring(3) === \"000000\") {\n            nanosStr = nanosStr.substring(0, 3);\n        }\n        else if (nanosStr.substring(6) === \"000\") {\n            nanosStr = nanosStr.substring(0, 6);\n        }\n        text += \".\" + nanosStr;\n        if (val.nanos < 0 && Number(val.seconds) == 0) {\n            text = \"-\" + text;\n        }\n    }\n    return text + \"s\";\n}\nfunction fieldMaskToJson(val) {\n    return val.paths\n        .map((p) => {\n        if (p.match(/_[0-9]?_/g) || p.match(/[A-Z]/g)) {\n            throw new Error(`cannot encode message ${val.$typeName} to JSON: lowerCamelCase of path name \"` +\n                p +\n                '\" is irreversible');\n        }\n        return protoCamelCase(p);\n    })\n        .join(\",\");\n}\nfunction structToJson(val) {\n    const json = {};\n    for (const [k, v] of Object.entries(val.fields)) {\n        json[k] = valueToJson(v);\n    }\n    return json;\n}\nfunction valueToJson(val) {\n    switch (val.kind.case) {\n        case \"nullValue\":\n            return null;\n        case \"numberValue\":\n            if (!Number.isFinite(val.kind.value)) {\n                throw new Error(`${val.$typeName} cannot be NaN or Infinity`);\n            }\n            return val.kind.value;\n        case \"boolValue\":\n            return val.kind.value;\n        case \"stringValue\":\n            return val.kind.value;\n        case \"structValue\":\n            return structToJson(val.kind.value);\n        case \"listValue\":\n            return listValueToJson(val.kind.value);\n        default:\n            throw new Error(`${val.$typeName} must have a value`);\n    }\n}\nfunction listValueToJson(val) {\n    return val.values.map(valueToJson);\n}\nfunction timestampToJson(val) {\n    const ms = Number(val.seconds) * 1000;\n    if (ms < Date.parse(\"0001-01-01T00:00:00Z\") ||\n        ms > Date.parse(\"9999-12-31T23:59:59Z\")) {\n        throw new Error(`cannot encode message ${val.$typeName} to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);\n    }\n    if (val.nanos < 0) {\n        throw new Error(`cannot encode message ${val.$typeName} to JSON: nanos must not be negative`);\n    }\n    let z = \"Z\";\n    if (val.nanos > 0) {\n        const nanosStr = (val.nanos + 1000000000).toString().substring(1);\n        if (nanosStr.substring(3) === \"000000\") {\n            z = \".\" + nanosStr.substring(0, 3) + \"Z\";\n        }\n        else if (nanosStr.substring(6) === \"000\") {\n            z = \".\" + nanosStr.substring(0, 6) + \"Z\";\n        }\n        else {\n            z = \".\" + nanosStr + \"Z\";\n        }\n    }\n    return new Date(ms).toISOString().replace(\".000Z\", z);\n}\n", "// Copyright 2021-2025 Buf Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { ScalarType, } from \"./descriptors.js\";\nimport { protoInt64 } from \"./proto-int64.js\";\nimport { create } from \"./create.js\";\nimport { reflect } from \"./reflect/reflect.js\";\nimport { FieldError, isFieldError } from \"./reflect/error.js\";\nimport { formatVal } from \"./reflect/reflect-check.js\";\nimport { scalarZeroValue } from \"./reflect/scalar.js\";\nimport { base64Decode } from \"./wire/base64-encoding.js\";\nimport { isWrapperDesc, anyPack, ListValueSchema, NullValue, StructSchema, ValueSchema, } from \"./wkt/index.js\";\nimport { createExtensionContainer, setExtension } from \"./extensions.js\";\n// Default options for parsing JSON.\nconst jsonReadDefaults = {\n    ignoreUnknownFields: false,\n};\nfunction makeReadOptions(options) {\n    return options ? Object.assign(Object.assign({}, jsonReadDefaults), options) : jsonReadDefaults;\n}\n/**\n * Parse a message from a JSON string.\n */\nexport function fromJsonString(schema, json, options) {\n    return fromJson(schema, parseJsonString(json, schema.typeName), options);\n}\n/**\n * Parse a message from a JSON string, merging fields.\n *\n * Repeated fields are appended. Map entries are added, overwriting\n * existing keys.\n *\n * If a message field is already present, it will be merged with the\n * new data.\n */\nexport function mergeFromJsonString(schema, target, json, options) {\n    return mergeFromJson(schema, target, parseJsonString(json, schema.typeName), options);\n}\n/**\n * Parse a message from a JSON value.\n */\nexport function fromJson(schema, json, options) {\n    const msg = reflect(schema);\n    try {\n        readMessage(msg, json, makeReadOptions(options));\n    }\n    catch (e) {\n        if (isFieldError(e)) {\n            // @ts-expect-error we use the ES2022 error CTOR option \"cause\" for better stack traces\n            throw new Error(`cannot decode ${e.field()} from JSON: ${e.message}`, {\n                cause: e,\n            });\n        }\n        throw e;\n    }\n    return msg.message;\n}\n/**\n * Parse a message from a JSON value, merging fields.\n *\n * Repeated fields are appended. Map entries are added, overwriting\n * existing keys.\n *\n * If a message field is already present, it will be merged with the\n * new data.\n */\nexport function mergeFromJson(schema, target, json, options) {\n    try {\n        readMessage(reflect(schema, target), json, makeReadOptions(options));\n    }\n    catch (e) {\n        if (isFieldError(e)) {\n            // @ts-expect-error we use the ES2022 error CTOR option \"cause\" for better stack traces\n            throw new Error(`cannot decode ${e.field()} from JSON: ${e.message}`, {\n                cause: e,\n            });\n        }\n        throw e;\n    }\n    return target;\n}\n/**\n * Parses an enum value from JSON.\n */\nexport function enumFromJson(descEnum, json) {\n    const val = readEnum(descEnum, json, false, false);\n    if (val === tokenIgnoredUnknownEnum) {\n        throw new Error(`cannot decode ${descEnum} from JSON: ${formatVal(json)}`);\n    }\n    return val;\n}\n/**\n * Is the given value a JSON enum value?\n */\nexport function isEnumJson(descEnum, value) {\n    return undefined !== descEnum.values.find((v) => v.name === value);\n}\nfunction readMessage(msg, json, opts) {\n    var _a;\n    if (tryWktFromJson(msg, json, opts)) {\n        return;\n    }\n    if (json == null || Array.isArray(json) || typeof json != \"object\") {\n        throw new Error(`cannot decode ${msg.desc} from JSON: ${formatVal(json)}`);\n    }\n    const oneofSeen = new Map();\n    const jsonNames = new Map();\n    for (const field of msg.desc.fields) {\n        jsonNames.set(field.name, field).set(field.jsonName, field);\n    }\n    for (const [jsonKey, jsonValue] of Object.entries(json)) {\n        const field = jsonNames.get(jsonKey);\n        if (field) {\n            if (field.oneof) {\n                if (jsonValue === null && field.fieldKind == \"scalar\") {\n                    // see conformance test Required.Proto3.JsonInput.OneofFieldNull{First,Second}\n                    continue;\n                }\n                const seen = oneofSeen.get(field.oneof);\n                if (seen !== undefined) {\n                    throw new FieldError(field.oneof, `oneof set multiple times by ${seen.name} and ${field.name}`);\n                }\n                oneofSeen.set(field.oneof, field);\n            }\n            readField(msg, field, jsonValue, opts);\n        }\n        else {\n            let extension = undefined;\n            if (jsonKey.startsWith(\"[\") &&\n                jsonKey.endsWith(\"]\") &&\n                // biome-ignore lint/suspicious/noAssignInExpressions: no\n                (extension = (_a = opts.registry) === null || _a === void 0 ? void 0 : _a.getExtension(jsonKey.substring(1, jsonKey.length - 1))) &&\n                extension.extendee.typeName === msg.desc.typeName) {\n                const [container, field, get] = createExtensionContainer(extension);\n                readField(container, field, jsonValue, opts);\n                setExtension(msg.message, extension, get());\n            }\n            if (!extension && !opts.ignoreUnknownFields) {\n                throw new Error(`cannot decode ${msg.desc} from JSON: key \"${jsonKey}\" is unknown`);\n            }\n        }\n    }\n}\nfunction readField(msg, field, json, opts) {\n    switch (field.fieldKind) {\n        case \"scalar\":\n            readScalarField(msg, field, json);\n            break;\n        case \"enum\":\n            readEnumField(msg, field, json, opts);\n            break;\n        case \"message\":\n            readMessageField(msg, field, json, opts);\n            break;\n        case \"list\":\n            readListField(msg.get(field), json, opts);\n            break;\n        case \"map\":\n            readMapField(msg.get(field), json, opts);\n            break;\n    }\n}\nfunction readMapField(map, json, opts) {\n    if (json === null) {\n        return;\n    }\n    const field = map.field();\n    if (typeof json != \"object\" || Array.isArray(json)) {\n        throw new FieldError(field, \"expected object, got \" + formatVal(json));\n    }\n    for (const [jsonMapKey, jsonMapValue] of Object.entries(json)) {\n        if (jsonMapValue === null) {\n            throw new FieldError(field, \"map value must not be null\");\n        }\n        let value;\n        switch (field.mapKind) {\n            case \"message\":\n                const msgValue = reflect(field.message);\n                readMessage(msgValue, jsonMapValue, opts);\n                value = msgValue;\n                break;\n            case \"enum\":\n                value = readEnum(field.enum, jsonMapValue, opts.ignoreUnknownFields, true);\n                if (value === tokenIgnoredUnknownEnum) {\n                    return;\n                }\n                break;\n            case \"scalar\":\n                value = scalarFromJson(field, jsonMapValue, true);\n                break;\n        }\n        const key = mapKeyFromJson(field.mapKey, jsonMapKey);\n        map.set(key, value);\n    }\n}\nfunction readListField(list, json, opts) {\n    if (json === null) {\n        return;\n    }\n    const field = list.field();\n    if (!Array.isArray(json)) {\n        throw new FieldError(field, \"expected Array, got \" + formatVal(json));\n    }\n    for (const jsonItem of json) {\n        if (jsonItem === null) {\n            throw new FieldError(field, \"list item must not be null\");\n        }\n        switch (field.listKind) {\n            case \"message\":\n                const msgValue = reflect(field.message);\n                readMessage(msgValue, jsonItem, opts);\n                list.add(msgValue);\n                break;\n            case \"enum\":\n                const enumValue = readEnum(field.enum, jsonItem, opts.ignoreUnknownFields, true);\n                if (enumValue !== tokenIgnoredUnknownEnum) {\n                    list.add(enumValue);\n                }\n                break;\n            case \"scalar\":\n                list.add(scalarFromJson(field, jsonItem, true));\n                break;\n        }\n    }\n}\nfunction readMessageField(msg, field, json, opts) {\n    if (json === null && field.message.typeName != \"google.protobuf.Value\") {\n        msg.clear(field);\n        return;\n    }\n    const msgValue = msg.isSet(field) ? msg.get(field) : reflect(field.message);\n    readMessage(msgValue, json, opts);\n    msg.set(field, msgValue);\n}\nfunction readEnumField(msg, field, json, opts) {\n    const enumValue = readEnum(field.enum, json, opts.ignoreUnknownFields, false);\n    if (enumValue === tokenNull) {\n        msg.clear(field);\n    }\n    else if (enumValue !== tokenIgnoredUnknownEnum) {\n        msg.set(field, enumValue);\n    }\n}\nfunction readScalarField(msg, field, json) {\n    const scalarValue = scalarFromJson(field, json, false);\n    if (scalarValue === tokenNull) {\n        msg.clear(field);\n    }\n    else {\n        msg.set(field, scalarValue);\n    }\n}\nconst tokenIgnoredUnknownEnum = Symbol();\nfunction readEnum(desc, json, ignoreUnknownFields, nullAsZeroValue) {\n    if (json === null) {\n        if (desc.typeName == \"google.protobuf.NullValue\") {\n            return 0; // google.protobuf.NullValue.NULL_VALUE = 0\n        }\n        return nullAsZeroValue ? desc.values[0].number : tokenNull;\n    }\n    switch (typeof json) {\n        case \"number\":\n            if (Number.isInteger(json)) {\n                return json;\n            }\n            break;\n        case \"string\":\n            const value = desc.values.find((ev) => ev.name === json);\n            if (value !== undefined) {\n                return value.number;\n            }\n            if (ignoreUnknownFields) {\n                return tokenIgnoredUnknownEnum;\n            }\n            break;\n    }\n    throw new Error(`cannot decode ${desc} from JSON: ${formatVal(json)}`);\n}\nconst tokenNull = Symbol();\nfunction scalarFromJson(field, json, nullAsZeroValue) {\n    if (json === null) {\n        if (nullAsZeroValue) {\n            return scalarZeroValue(field.scalar, false);\n        }\n        return tokenNull;\n    }\n    // int64, sfixed64, sint64, fixed64, uint64: Reflect supports string and number.\n    // string, bool: Supported by reflect.\n    switch (field.scalar) {\n        // float, double: JSON value will be a number or one of the special string values \"NaN\", \"Infinity\", and \"-Infinity\".\n        // Either numbers or strings are accepted. Exponent notation is also accepted.\n        case ScalarType.DOUBLE:\n        case ScalarType.FLOAT:\n            if (json === \"NaN\")\n                return NaN;\n            if (json === \"Infinity\")\n                return Number.POSITIVE_INFINITY;\n            if (json === \"-Infinity\")\n                return Number.NEGATIVE_INFINITY;\n            if (typeof json == \"number\") {\n                if (Number.isNaN(json)) {\n                    // NaN must be encoded with string constants\n                    throw new FieldError(field, \"unexpected NaN number\");\n                }\n                if (!Number.isFinite(json)) {\n                    // Infinity must be encoded with string constants\n                    throw new FieldError(field, \"unexpected infinite number\");\n                }\n                break;\n            }\n            if (typeof json == \"string\") {\n                if (json === \"\") {\n                    // empty string is not a number\n                    break;\n                }\n                if (json.trim().length !== json.length) {\n                    // extra whitespace\n                    break;\n                }\n                const float = Number(json);\n                if (!Number.isFinite(float)) {\n                    // Infinity and NaN must be encoded with string constants\n                    break;\n                }\n                return float;\n            }\n            break;\n        // int32, fixed32, uint32: JSON value will be a decimal number. Either numbers or strings are accepted.\n        case ScalarType.INT32:\n        case ScalarType.FIXED32:\n        case ScalarType.SFIXED32:\n        case ScalarType.SINT32:\n        case ScalarType.UINT32:\n            return int32FromJson(json);\n        // bytes: JSON value will be the data encoded as a string using standard base64 encoding with paddings.\n        // Either standard or URL-safe base64 encoding with/without paddings are accepted.\n        case ScalarType.BYTES:\n            if (typeof json == \"string\") {\n                if (json === \"\") {\n                    return new Uint8Array(0);\n                }\n                try {\n                    return base64Decode(json);\n                }\n                catch (e) {\n                    const message = e instanceof Error ? e.message : String(e);\n                    throw new FieldError(field, message);\n                }\n            }\n            break;\n    }\n    return json;\n}\n/**\n * Try to parse a JSON value to a map key for the reflect API.\n *\n * Returns the input if the JSON value cannot be converted.\n */\nfunction mapKeyFromJson(type, json) {\n    switch (type) {\n        case ScalarType.BOOL:\n            switch (json) {\n                case \"true\":\n                    return true;\n                case \"false\":\n                    return false;\n            }\n            return json;\n        case ScalarType.INT32:\n        case ScalarType.FIXED32:\n        case ScalarType.UINT32:\n        case ScalarType.SFIXED32:\n        case ScalarType.SINT32:\n            return int32FromJson(json);\n        default:\n            return json;\n    }\n}\n/**\n * Try to parse a JSON value to a 32-bit integer for the reflect API.\n *\n * Returns the input if the JSON value cannot be converted.\n */\nfunction int32FromJson(json) {\n    if (typeof json == \"string\") {\n        if (json === \"\") {\n            // empty string is not a number\n            return json;\n        }\n        if (json.trim().length !== json.length) {\n            // extra whitespace\n            return json;\n        }\n        const num = Number(json);\n        if (Number.isNaN(num)) {\n            // not a number\n            return json;\n        }\n        return num;\n    }\n    return json;\n}\nfunction parseJsonString(jsonString, typeName) {\n    try {\n        return JSON.parse(jsonString);\n    }\n    catch (e) {\n        const message = e instanceof Error ? e.message : String(e);\n        throw new Error(`cannot decode message ${typeName} from JSON: ${message}`, \n        // @ts-expect-error we use the ES2022 error CTOR option \"cause\" for better stack traces\n        { cause: e });\n    }\n}\nfunction tryWktFromJson(msg, jsonValue, opts) {\n    if (!msg.desc.typeName.startsWith(\"google.protobuf.\")) {\n        return false;\n    }\n    switch (msg.desc.typeName) {\n        case \"google.protobuf.Any\":\n            anyFromJson(msg.message, jsonValue, opts);\n            return true;\n        case \"google.protobuf.Timestamp\":\n            timestampFromJson(msg.message, jsonValue);\n            return true;\n        case \"google.protobuf.Duration\":\n            durationFromJson(msg.message, jsonValue);\n            return true;\n        case \"google.protobuf.FieldMask\":\n            fieldMaskFromJson(msg.message, jsonValue);\n            return true;\n        case \"google.protobuf.Struct\":\n            structFromJson(msg.message, jsonValue);\n            return true;\n        case \"google.protobuf.Value\":\n            valueFromJson(msg.message, jsonValue);\n            return true;\n        case \"google.protobuf.ListValue\":\n            listValueFromJson(msg.message, jsonValue);\n            return true;\n        default:\n            if (isWrapperDesc(msg.desc)) {\n                const valueField = msg.desc.fields[0];\n                if (jsonValue === null) {\n                    msg.clear(valueField);\n                }\n                else {\n                    msg.set(valueField, scalarFromJson(valueField, jsonValue, true));\n                }\n                return true;\n            }\n            return false;\n    }\n}\nfunction anyFromJson(any, json, opts) {\n    var _a;\n    if (json === null || Array.isArray(json) || typeof json != \"object\") {\n        throw new Error(`cannot decode message ${any.$typeName} from JSON: expected object but got ${formatVal(json)}`);\n    }\n    if (Object.keys(json).length == 0) {\n        return;\n    }\n    const typeUrl = json[\"@type\"];\n    if (typeof typeUrl != \"string\" || typeUrl == \"\") {\n        throw new Error(`cannot decode message ${any.$typeName} from JSON: \"@type\" is empty`);\n    }\n    const typeName = typeUrl.includes(\"/\")\n        ? typeUrl.substring(typeUrl.lastIndexOf(\"/\") + 1)\n        : typeUrl;\n    if (!typeName.length) {\n        throw new Error(`cannot decode message ${any.$typeName} from JSON: \"@type\" is invalid`);\n    }\n    const desc = (_a = opts.registry) === null || _a === void 0 ? void 0 : _a.getMessage(typeName);\n    if (!desc) {\n        throw new Error(`cannot decode message ${any.$typeName} from JSON: ${typeUrl} is not in the type registry`);\n    }\n    const msg = reflect(desc);\n    if (typeName.startsWith(\"google.protobuf.\") &&\n        Object.prototype.hasOwnProperty.call(json, \"value\")) {\n        const value = json.value;\n        readMessage(msg, value, opts);\n    }\n    else {\n        const copy = Object.assign({}, json);\n        // biome-ignore lint/performance/noDelete: <explanation>\n        delete copy[\"@type\"];\n        readMessage(msg, copy, opts);\n    }\n    anyPack(msg.desc, msg.message, any);\n}\nfunction timestampFromJson(timestamp, json) {\n    if (typeof json !== \"string\") {\n        throw new Error(`cannot decode message ${timestamp.$typeName} from JSON: ${formatVal(json)}`);\n    }\n    const matches = json.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\\.([0-9]{1,9}))?(?:Z|([+-][0-9][0-9]:[0-9][0-9]))$/);\n    if (!matches) {\n        throw new Error(`cannot decode message ${timestamp.$typeName} from JSON: invalid RFC 3339 string`);\n    }\n    const ms = Date.parse(\n    // biome-ignore format: want this to read well\n    matches[1] + \"-\" + matches[2] + \"-\" + matches[3] + \"T\" + matches[4] + \":\" + matches[5] + \":\" + matches[6] + (matches[8] ? matches[8] : \"Z\"));\n    if (Number.isNaN(ms)) {\n        throw new Error(`cannot decode message ${timestamp.$typeName} from JSON: invalid RFC 3339 string`);\n    }\n    if (ms < Date.parse(\"0001-01-01T00:00:00Z\") ||\n        ms > Date.parse(\"9999-12-31T23:59:59Z\")) {\n        throw new Error(`cannot decode message ${timestamp.$typeName} from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);\n    }\n    timestamp.seconds = protoInt64.parse(ms / 1000);\n    timestamp.nanos = 0;\n    if (matches[7]) {\n        timestamp.nanos =\n            parseInt(\"1\" + matches[7] + \"0\".repeat(9 - matches[7].length)) -\n                1000000000;\n    }\n}\nfunction durationFromJson(duration, json) {\n    if (typeof json !== \"string\") {\n        throw new Error(`cannot decode message ${duration.$typeName} from JSON: ${formatVal(json)}`);\n    }\n    const match = json.match(/^(-?[0-9]+)(?:\\.([0-9]+))?s/);\n    if (match === null) {\n        throw new Error(`cannot decode message ${duration.$typeName} from JSON: ${formatVal(json)}`);\n    }\n    const longSeconds = Number(match[1]);\n    if (longSeconds > 315576000000 || longSeconds < -315576000000) {\n        throw new Error(`cannot decode message ${duration.$typeName} from JSON: ${formatVal(json)}`);\n    }\n    duration.seconds = protoInt64.parse(longSeconds);\n    if (typeof match[2] !== \"string\") {\n        return;\n    }\n    const nanosStr = match[2] + \"0\".repeat(9 - match[2].length);\n    duration.nanos = parseInt(nanosStr);\n    if (longSeconds < 0 || Object.is(longSeconds, -0)) {\n        duration.nanos = -duration.nanos;\n    }\n}\nfunction fieldMaskFromJson(fieldMask, json) {\n    if (typeof json !== \"string\") {\n        throw new Error(`cannot decode message ${fieldMask.$typeName} from JSON: ${formatVal(json)}`);\n    }\n    if (json === \"\") {\n        return;\n    }\n    function camelToSnake(str) {\n        if (str.includes(\"_\")) {\n            throw new Error(`cannot decode message ${fieldMask.$typeName} from JSON: path names must be lowerCamelCase`);\n        }\n        const sc = str.replace(/[A-Z]/g, (letter) => \"_\" + letter.toLowerCase());\n        return sc[0] === \"_\" ? sc.substring(1) : sc;\n    }\n    fieldMask.paths = json.split(\",\").map(camelToSnake);\n}\nfunction structFromJson(struct, json) {\n    if (typeof json != \"object\" || json == null || Array.isArray(json)) {\n        throw new Error(`cannot decode message ${struct.$typeName} from JSON ${formatVal(json)}`);\n    }\n    for (const [k, v] of Object.entries(json)) {\n        const parsedV = create(ValueSchema);\n        valueFromJson(parsedV, v);\n        struct.fields[k] = parsedV;\n    }\n}\nfunction valueFromJson(value, json) {\n    switch (typeof json) {\n        case \"number\":\n            value.kind = { case: \"numberValue\", value: json };\n            break;\n        case \"string\":\n            value.kind = { case: \"stringValue\", value: json };\n            break;\n        case \"boolean\":\n            value.kind = { case: \"boolValue\", value: json };\n            break;\n        case \"object\":\n            if (json === null) {\n                value.kind = { case: \"nullValue\", value: NullValue.NULL_VALUE };\n            }\n            else if (Array.isArray(json)) {\n                const listValue = create(ListValueSchema);\n                listValueFromJson(listValue, json);\n                value.kind = { case: \"listValue\", value: listValue };\n            }\n            else {\n                const struct = create(StructSchema);\n                structFromJson(struct, json);\n                value.kind = { case: \"structValue\", value: struct };\n            }\n            break;\n        default:\n            throw new Error(`cannot decode message ${value.$typeName} from JSON ${formatVal(json)}`);\n    }\n    return value;\n}\nfunction listValueFromJson(listValue, json) {\n    if (!Array.isArray(json)) {\n        throw new Error(`cannot decode message ${listValue.$typeName} from JSON ${formatVal(json)}`);\n    }\n    for (const e of json) {\n        const value = create(ValueSchema);\n        valueFromJson(value, e);\n        listValue.values.push(value);\n    }\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { Code } from \"../code.js\";\n/**\n * codeToString returns the string representation of a Code.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function codeToString(value) {\n    const name = Code[value];\n    if (typeof name != \"string\") {\n        return value.toString();\n    }\n    return (name[0].toLowerCase() +\n        name.substring(1).replace(/[A-Z]/g, (c) => \"_\" + c.toLowerCase()));\n}\nlet stringToCode;\n/**\n * codeFromString parses the string representation of a Code in snake_case.\n * For example, the string \"permission_denied\" parses into Code.PermissionDenied.\n *\n * If the given string cannot be parsed, the function returns undefined.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function codeFromString(value) {\n    if (!stringToCode) {\n        stringToCode = {};\n        for (const value of Object.values(Code)) {\n            if (typeof value == \"string\") {\n                continue;\n            }\n            stringToCode[codeToString(value)] = value;\n        }\n    }\n    return stringToCode[value];\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { Code } from \"./code.js\";\nimport { create, fromBinary } from \"@bufbuild/protobuf\";\nimport { codeToString } from \"./protocol-connect/code-string.js\";\n/**\n * ConnectError captures four pieces of information: a Code, an error\n * message, an optional cause of the error, and an optional collection of\n * arbitrary Protobuf messages called  \"details\".\n *\n * Because developer tools typically show just the error message, we prefix\n * it with the status code, so that the most important information is always\n * visible immediately.\n *\n * Error details are wrapped with google.protobuf.Any on the wire, so that\n * a server or middleware can attach arbitrary data to an error. Use the\n * method findDetails() to retrieve the details.\n */\nexport class ConnectError extends Error {\n    /**\n     * Create a new ConnectError.\n     * If no code is provided, code \"unknown\" is used.\n     * Outgoing details are only relevant for the server side - a service may\n     * raise an error with details, and it is up to the protocol implementation\n     * to encode and send the details along with error.\n     */\n    constructor(message, code = Code.Unknown, metadata, outgoingDetails, cause) {\n        super(createMessage(message, code));\n        this.name = \"ConnectError\";\n        // see https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-2.html#example\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.rawMessage = message;\n        this.code = code;\n        this.metadata = new Headers(metadata !== null && metadata !== void 0 ? metadata : {});\n        this.details = outgoingDetails !== null && outgoingDetails !== void 0 ? outgoingDetails : [];\n        this.cause = cause;\n    }\n    /**\n     * Convert any value - typically a caught error into a ConnectError,\n     * following these rules:\n     * - If the value is already a ConnectError, return it as is.\n     * - If the value is an AbortError or TimeoutError from the fetch API, return\n     *   the message of the error with code Canceled.\n     * - For other Errors, return the error message with code Unknown by default.\n     * - For other values, return the values String representation as a message,\n     *   with the code Unknown by default.\n     * The original value will be used for the \"cause\" property for the new\n     * ConnectError.\n     */\n    static from(reason, code = Code.Unknown) {\n        if (reason instanceof ConnectError) {\n            return reason;\n        }\n        if (reason instanceof Error) {\n            if (reason.name == \"AbortError\" || reason.name == \"TimeoutError\") {\n                // Fetch requests can only be canceled with an AbortController,\n                // or with AbortSignal.timeout().\n                return new ConnectError(reason.message, Code.Canceled);\n            }\n            return new ConnectError(reason.message, code, undefined, undefined, reason);\n        }\n        return new ConnectError(String(reason), code, undefined, undefined, reason);\n    }\n    static [Symbol.hasInstance](v) {\n        if (!(v instanceof Error)) {\n            return false;\n        }\n        if (Object.getPrototypeOf(v) === ConnectError.prototype) {\n            return true;\n        }\n        return (v.name === \"ConnectError\" &&\n            \"code\" in v &&\n            typeof v.code === \"number\" &&\n            \"metadata\" in v &&\n            \"details\" in v &&\n            Array.isArray(v.details) &&\n            \"rawMessage\" in v &&\n            typeof v.rawMessage == \"string\" &&\n            \"cause\" in v);\n    }\n    findDetails(typeOrRegistry) {\n        const registry = typeOrRegistry.kind === \"message\"\n            ? {\n                getMessage: (typeName) => typeName === typeOrRegistry.typeName ? typeOrRegistry : undefined,\n            }\n            : typeOrRegistry;\n        const details = [];\n        for (const data of this.details) {\n            if (\"desc\" in data) {\n                if (registry.getMessage(data.desc.typeName)) {\n                    details.push(create(data.desc, data.value));\n                }\n                continue;\n            }\n            const desc = registry.getMessage(data.type);\n            if (desc) {\n                try {\n                    details.push(fromBinary(desc, data.value));\n                }\n                catch (_) {\n                    // We silently give up if we are unable to parse the detail, because\n                    // that appears to be the least worst behavior.\n                    // It is very unlikely that a user surrounds a catch body handling the\n                    // error with another try-catch statement, and we do not want to\n                    // recommend doing so.\n                }\n            }\n        }\n        return details;\n    }\n}\n/**\n * Create an error message, prefixing the given code.\n */\nfunction createMessage(message, code) {\n    return message.length\n        ? `[${codeToString(code)}] ${message}`\n        : `[${codeToString(code)}]`;\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { fromBinary, toBinary } from \"@bufbuild/protobuf\";\nimport { base64Encode, base64Decode } from \"@bufbuild/protobuf/wire\";\nimport { ConnectError } from \"./connect-error.js\";\nimport { Code } from \"./code.js\";\nexport function encodeBinaryHeader(value, desc) {\n    let bytes;\n    if (desc !== undefined) {\n        bytes = toBinary(desc, value);\n    }\n    else if (typeof value == \"string\") {\n        bytes = new TextEncoder().encode(value);\n    }\n    else {\n        bytes =\n            value instanceof Uint8Array\n                ? value\n                : new Uint8Array(value);\n    }\n    return base64Encode(bytes, \"std_raw\");\n}\nexport function decodeBinaryHeader(value, desc, options) {\n    try {\n        const bytes = base64Decode(value);\n        if (desc) {\n            return fromBinary(desc, bytes, options);\n        }\n        return bytes;\n    }\n    catch (e) {\n        throw ConnectError.from(e, Code.DataLoss);\n    }\n}\n/**\n * Merge two or more Headers objects by appending all fields from\n * all inputs to a new Headers object.\n */\nexport function appendHeaders(...headers) {\n    const h = new Headers();\n    for (const e of headers) {\n        e.forEach((value, key) => {\n            h.append(key, value);\n        });\n    }\n    return h;\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * Create any client for the given service.\n *\n * The given createMethod function is called for each method definition\n * of the service. The function it returns is added to the client object\n * as a method.\n */\nexport function makeAnyClient(service, createMethod) {\n    const client = {};\n    for (const desc of service.methods) {\n        const method = createMethod(desc);\n        if (method != null) {\n            client[desc.localName] = method;\n        }\n    }\n    return client;\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { ConnectError } from \"../connect-error.js\";\nimport { Code } from \"../code.js\";\n/**\n * compressedFlag indicates that the data in a EnvelopedMessage is\n * compressed. It has the same meaning in the gRPC-Web, gRPC-HTTP2,\n * and Connect protocols.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport const compressedFlag = 0b00000001;\n/**\n * Validates the request encoding and determines the accepted response encoding.\n *\n * Returns the request and response compression to use. If the client requested\n * an encoding that is not available, the returned object contains an error that\n * must be used for the response.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function compressionNegotiate(available, requested, // e.g. the value of the Grpc-Encoding header\naccepted, // e.g. the value of the Grpc-Accept-Encoding header\nheaderNameAcceptEncoding) {\n    let request = null;\n    let response = null;\n    let error = undefined;\n    if (requested !== null && requested !== \"identity\") {\n        const found = available.find((c) => c.name === requested);\n        if (found) {\n            request = found;\n        }\n        else {\n            // To comply with https://github.com/grpc/grpc/blob/master/doc/compression.md\n            // and the Connect protocol, we return code \"unimplemented\" and specify\n            // acceptable compression(s).\n            const acceptable = available.map((c) => c.name).join(\",\");\n            error = new ConnectError(`unknown compression \"${requested}\": supported encodings are ${acceptable}`, Code.Unimplemented, {\n                [headerNameAcceptEncoding]: acceptable,\n            });\n        }\n    }\n    if (accepted === null || accepted === \"\") {\n        // Support asymmetric compression. This logic follows\n        // https://github.com/grpc/grpc/blob/master/doc/compression.md and common\n        // sense.\n        response = request;\n    }\n    else {\n        const acceptNames = accepted.split(\",\").map((n) => n.trim());\n        for (const name of acceptNames) {\n            const found = available.find((c) => c.name === name);\n            if (found) {\n                response = found;\n                break;\n            }\n        }\n    }\n    return { request, response, error };\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { ConnectError } from \"../connect-error.js\";\nimport { Code } from \"../code.js\";\n/**\n * At most, allow ~4GiB to be received or sent per message.\n * zlib used by Node.js caps maxOutputLength at this value. It also happens to\n * be the maximum theoretical message size supported by protobuf-es.\n */\nconst maxReadMaxBytes = 0xffffffff;\nconst maxWriteMaxBytes = maxReadMaxBytes;\n/**\n * The default value for the compressMinBytes option. The CPU cost of compressing\n * very small messages usually isn't worth the small reduction in network I/O, so\n * the default value is 1 kibibyte.\n */\nconst defaultCompressMinBytes = 1024;\n/**\n * Asserts that the options writeMaxBytes, readMaxBytes, and compressMinBytes\n * are within sane limits, and returns default values where no value is\n * provided.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function validateReadWriteMaxBytes(readMaxBytes, writeMaxBytes, compressMinBytes) {\n    writeMaxBytes !== null && writeMaxBytes !== void 0 ? writeMaxBytes : (writeMaxBytes = maxWriteMaxBytes);\n    readMaxBytes !== null && readMaxBytes !== void 0 ? readMaxBytes : (readMaxBytes = maxReadMaxBytes);\n    compressMinBytes !== null && compressMinBytes !== void 0 ? compressMinBytes : (compressMinBytes = defaultCompressMinBytes);\n    if (writeMaxBytes < 1 || writeMaxBytes > maxWriteMaxBytes) {\n        throw new ConnectError(`writeMaxBytes ${writeMaxBytes} must be >= 1 and <= ${maxWriteMaxBytes}`, Code.Internal);\n    }\n    if (readMaxBytes < 1 || readMaxBytes > maxReadMaxBytes) {\n        throw new ConnectError(`readMaxBytes ${readMaxBytes} must be >= 1 and <= ${maxReadMaxBytes}`, Code.Internal);\n    }\n    return {\n        readMaxBytes,\n        writeMaxBytes,\n        compressMinBytes,\n    };\n}\n/**\n * Raise an error ResourceExhausted if more than writeMaxByte are written.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function assertWriteMaxBytes(writeMaxBytes, bytesWritten) {\n    if (bytesWritten > writeMaxBytes) {\n        throw new ConnectError(`message size ${bytesWritten} is larger than configured writeMaxBytes ${writeMaxBytes}`, Code.ResourceExhausted);\n    }\n}\n/**\n * Raise an error ResourceExhausted if more than readMaxBytes are read.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function assertReadMaxBytes(readMaxBytes, bytesRead, totalSizeKnown = false) {\n    if (bytesRead > readMaxBytes) {\n        let message = `message size is larger than configured readMaxBytes ${readMaxBytes}`;\n        if (totalSizeKnown) {\n            message = `message size ${bytesRead} is larger than configured readMaxBytes ${readMaxBytes}`;\n        }\n        throw new ConnectError(message, Code.ResourceExhausted);\n    }\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { ConnectError } from \"../connect-error.js\";\nimport { Code } from \"../code.js\";\nimport { compressedFlag } from \"./compression.js\";\nimport { assertReadMaxBytes } from \"./limit-io.js\";\n/**\n * Create an EnvelopeDecoder. The `readMaxBytes` argument limits the maximum\n * size for individual messages.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function createEnvelopeDecoder(readMaxBytes) {\n    return new EnvelopeDecoderImpl(readMaxBytes);\n}\nclass EnvelopeDecoderImpl {\n    constructor(readMaxBytes) {\n        this.readMaxBytes = readMaxBytes;\n        // Envelope headers are 5 bytes: 1 byte for flags, 4 bytes message length\n        this.header = new Uint8Array(5);\n        this.headerView = new DataView(this.header.buffer);\n        this.buf = [];\n    }\n    get byteLength() {\n        return this.buf.reduce((a, b) => a + b.byteLength, 0);\n    }\n    decode(chunk) {\n        this.buf.push(chunk);\n        const envs = [];\n        for (;;) {\n            let env = this.pop();\n            if (!env) {\n                break;\n            }\n            envs.push(env);\n        }\n        return envs;\n    }\n    // consume an enveloped message\n    pop() {\n        if (!this.env) {\n            this.env = this.head();\n            if (!this.env) {\n                return undefined;\n            }\n        }\n        if (this.cons(this.env.data)) {\n            const env = this.env;\n            this.env = undefined;\n            return env;\n        }\n        return undefined;\n    }\n    // consume header\n    head() {\n        if (!this.cons(this.header)) {\n            return undefined;\n        }\n        const flags = this.headerView.getUint8(0); // first byte is flags\n        const length = this.headerView.getUint32(1); // 4 bytes message length\n        assertReadMaxBytes(this.readMaxBytes, length, true);\n        return {\n            flags,\n            data: new Uint8Array(length),\n        };\n    }\n    // consume from buffer, fill target\n    cons(target) {\n        const wantLength = target.byteLength;\n        if (this.byteLength < wantLength) {\n            return false;\n        }\n        let offset = 0;\n        while (offset < wantLength) {\n            const chunk = this.buf.shift(); // we check length above\n            if (chunk.byteLength > wantLength - offset) {\n                target.set(chunk.subarray(0, wantLength - offset), offset);\n                this.buf.unshift(chunk.subarray(wantLength - offset));\n                offset += wantLength - offset;\n            }\n            else {\n                target.set(chunk, offset);\n                offset += chunk.byteLength;\n            }\n        }\n        return true;\n    }\n}\n/**\n * Create a WHATWG ReadableStream of enveloped messages from a ReadableStream\n * of bytes.\n *\n * Ideally, this would simply be a TransformStream, but ReadableStream.pipeThrough\n * does not have the necessary availability at this time.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function createEnvelopeReadableStream(stream) {\n    let reader;\n    const buffer = createEnvelopeDecoder(0xffffffff);\n    return new ReadableStream({\n        start() {\n            reader = stream.getReader();\n        },\n        async pull(controller) {\n            let enqueuedOnce = false;\n            while (!enqueuedOnce) {\n                const result = await reader.read();\n                if (result.done) {\n                    if (buffer.byteLength > 0) {\n                        controller.error(new ConnectError(\"protocol error: incomplete envelope\", Code.InvalidArgument));\n                    }\n                    controller.close();\n                }\n                else {\n                    for (const env of buffer.decode(result.value)) {\n                        controller.enqueue(env);\n                        enqueuedOnce = true;\n                    }\n                }\n            }\n        },\n    });\n}\n/**\n * Compress an EnvelopedMessage.\n *\n * Raises Internal if an enveloped message is already compressed.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport async function envelopeCompress(envelope, compression, compressMinBytes) {\n    let { flags, data } = envelope;\n    if ((flags & compressedFlag) === compressedFlag) {\n        throw new ConnectError(\"invalid envelope, already compressed\", Code.Internal);\n    }\n    if (compression && data.byteLength >= compressMinBytes) {\n        data = await compression.compress(data);\n        flags = flags | compressedFlag;\n    }\n    return { data, flags };\n}\n/**\n * Decompress an EnvelopedMessage.\n *\n * Raises InvalidArgument if an envelope is compressed, but compression is null.\n *\n * Relies on the provided Compression to raise ResourceExhausted if the\n * *decompressed* message size is larger than readMaxBytes. If the envelope is\n * not compressed, readMaxBytes is not honored.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport async function envelopeDecompress(envelope, compression, readMaxBytes) {\n    let { flags, data } = envelope;\n    if ((flags & compressedFlag) === compressedFlag) {\n        if (!compression) {\n            throw new ConnectError(\"received compressed envelope, but do not know how to decompress\", Code.Internal);\n        }\n        data = await compression.decompress(data, readMaxBytes);\n        flags = flags ^ compressedFlag;\n    }\n    return { data, flags };\n}\n/**\n * Encode a single enveloped message.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function encodeEnvelope(flags, data) {\n    const bytes = new Uint8Array(data.length + 5);\n    bytes.set(data, 5);\n    const v = new DataView(bytes.buffer, bytes.byteOffset, bytes.byteLength);\n    v.setUint8(0, flags); // first byte is flags\n    v.setUint32(1, data.length); // 4 bytes message length\n    return bytes;\n}\n/**\n * Encode a set of enveloped messages.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function encodeEnvelopes(...envelopes) {\n    const len = envelopes.reduce((previousValue, currentValue) => previousValue + currentValue.data.length + 5, 0);\n    const bytes = new Uint8Array(len);\n    const v = new DataView(bytes.buffer);\n    let offset = 0;\n    for (const e of envelopes) {\n        v.setUint8(offset, e.flags); // first byte is flags\n        v.setUint32(offset + 1, e.data.length); // 4 bytes message length\n        bytes.set(e.data, offset + 5);\n        offset += e.data.length + 5;\n    }\n    return bytes;\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nvar __await = (this && this.__await) || function (v) { return this instanceof __await ? (this.v = v, this) : new __await(v); }\nvar __asyncGenerator = (this && this.__asyncGenerator) || function (thisArg, _arguments, generator) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\n    return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n    function fulfill(value) { resume(\"next\", value); }\n    function reject(value) { resume(\"throw\", value); }\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n};\nvar __asyncDelegator = (this && this.__asyncDelegator) || function (o) {\n    var i, p;\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n};\nimport { Code } from \"../code.js\";\nimport { ConnectError } from \"../connect-error.js\";\nimport { createEnvelopeDecoder } from \"./envelope.js\";\nimport { encodeEnvelope, envelopeCompress, envelopeDecompress, } from \"./envelope.js\";\nimport { assertReadMaxBytes } from \"./limit-io.js\";\nexport function pipeTo(source, ...rest) {\n    const [transforms, sink, opt] = pickTransformsAndSink(rest);\n    let iterable = source;\n    let abortable;\n    if ((opt === null || opt === void 0 ? void 0 : opt.propagateDownStreamError) === true) {\n        iterable = abortable = makeIterableAbortable(iterable);\n    }\n    // @ts-ignore\n    iterable = pipe(iterable, ...transforms, { propagateDownStreamError: false });\n    return sink(iterable).catch((reason) => {\n        if (abortable) {\n            return abortable.abort(reason).then(() => Promise.reject(reason));\n        }\n        return Promise.reject(reason);\n    });\n}\n// pick transforms, the sink, and options from the pipeTo() rest parameter\nfunction pickTransformsAndSink(rest) {\n    let opt;\n    if (typeof rest[rest.length - 1] != \"function\") {\n        opt = rest.pop();\n    }\n    const sink = rest.pop();\n    return [rest, sink, opt];\n}\n/**\n * Creates an AsyncIterableSink that concatenates all elements from the input.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function sinkAll() {\n    return async (iterable) => {\n        var _a, e_1, _b, _c;\n        const all = [];\n        try {\n            for (var _d = true, iterable_1 = __asyncValues(iterable), iterable_1_1; iterable_1_1 = await iterable_1.next(), _a = iterable_1_1.done, !_a; _d = true) {\n                _c = iterable_1_1.value;\n                _d = false;\n                const chunk = _c;\n                all.push(chunk);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (!_d && !_a && (_b = iterable_1.return)) await _b.call(iterable_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return all;\n    };\n}\n/**\n * Creates an AsyncIterableSink that concatenates all chunks from the input into\n * a single Uint8Array.\n *\n * The iterable raises an error if the more than readMaxBytes are read.\n *\n * An optional length hint can be provided to optimize allocation and validation.\n * If more or less bytes are present in the source that the length hint indicates,\n * and error is raised.\n * If the length hint is larger than readMaxBytes, an error is raised.\n * If the length hint is not a positive integer, it is ignored.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function sinkAllBytes(readMaxBytes, lengthHint) {\n    return async (iterable) => await readAllBytes(iterable, readMaxBytes, lengthHint);\n}\nexport function pipe(source, ...rest) {\n    return __asyncGenerator(this, arguments, function* pipe_1() {\n        var _a;\n        const [transforms, opt] = pickTransforms(rest);\n        let abortable;\n        const sourceIt = source[Symbol.asyncIterator]();\n        const cachedSource = {\n            [Symbol.asyncIterator]() {\n                return sourceIt;\n            },\n        };\n        let iterable = cachedSource;\n        if ((opt === null || opt === void 0 ? void 0 : opt.propagateDownStreamError) === true) {\n            iterable = abortable = makeIterableAbortable(iterable);\n        }\n        for (const t of transforms) {\n            iterable = t(iterable);\n        }\n        const it = iterable[Symbol.asyncIterator]();\n        try {\n            for (;;) {\n                const r = yield __await(it.next());\n                if (r.done === true) {\n                    break;\n                }\n                if (!abortable) {\n                    yield yield __await(r.value);\n                    continue;\n                }\n                try {\n                    yield yield __await(r.value);\n                }\n                catch (e) {\n                    yield __await(abortable.abort(e)); // propagate downstream error to the source\n                    throw e;\n                }\n            }\n        }\n        finally {\n            if ((opt === null || opt === void 0 ? void 0 : opt.propagateDownStreamError) === true) {\n                // Call return on the source iterable to indicate\n                // that we will no longer consume it and it should\n                // cleanup any allocated resources.\n                (_a = sourceIt.return) === null || _a === void 0 ? void 0 : _a.call(sourceIt).catch(() => {\n                    // return returns a promise, which we don't care about.\n                    //\n                    // Uncaught promises are thrown at sometime/somewhere by the event loop,\n                    // this is to ensure error is caught and ignored.\n                });\n            }\n        }\n    });\n}\nfunction pickTransforms(rest) {\n    let opt;\n    if (typeof rest[rest.length - 1] != \"function\") {\n        opt = rest.pop();\n    }\n    return [rest, opt];\n}\n/**\n * Creates an AsyncIterableTransform that catches any error from the input, and\n * passes it to the given catchError function.\n *\n * The catchError function may return a final value.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function transformCatch(catchError) {\n    return function (iterable) {\n        return __asyncGenerator(this, arguments, function* () {\n            // we deliberate avoid a for-await loop because we only want to catch upstream\n            // errors, not downstream errors (yield).\n            const it = iterable[Symbol.asyncIterator]();\n            for (;;) {\n                let r;\n                try {\n                    r = yield __await(it.next());\n                }\n                catch (e) {\n                    const caught = yield __await(catchError(e));\n                    if (caught !== undefined) {\n                        yield yield __await(caught);\n                    }\n                    break;\n                }\n                if (r.done === true) {\n                    break;\n                }\n                yield yield __await(r.value);\n            }\n        });\n    };\n}\n/**\n * Creates an AsyncIterableTransform that catches any error from the input, and\n * passes it to the given function. Unlike transformCatch(), the given function\n * is also called when no error is raised.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function transformCatchFinally(catchFinally) {\n    return function (iterable) {\n        return __asyncGenerator(this, arguments, function* () {\n            // we deliberate avoid a for-await loop because we only want to catch upstream\n            // errors, not downstream errors (yield).\n            let err;\n            const it = iterable[Symbol.asyncIterator]();\n            for (;;) {\n                let r;\n                try {\n                    r = yield __await(it.next());\n                }\n                catch (e) {\n                    err = e;\n                    break;\n                }\n                if (r.done === true) {\n                    break;\n                }\n                yield yield __await(r.value);\n            }\n            const caught = yield __await(catchFinally(err));\n            if (caught !== undefined) {\n                yield yield __await(caught);\n            }\n        });\n    };\n}\n/**\n * Creates an AsyncIterableTransform that appends a value.\n *\n * The element to append is provided by a function. If the function returns\n * undefined, no element is appended.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function transformAppend(provide) {\n    return function (iterable) {\n        return __asyncGenerator(this, arguments, function* () {\n            var _a, e_2, _b, _c;\n            try {\n                for (var _d = true, iterable_2 = __asyncValues(iterable), iterable_2_1; iterable_2_1 = yield __await(iterable_2.next()), _a = iterable_2_1.done, !_a; _d = true) {\n                    _c = iterable_2_1.value;\n                    _d = false;\n                    const chunk = _c;\n                    yield yield __await(chunk);\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (!_d && !_a && (_b = iterable_2.return)) yield __await(_b.call(iterable_2));\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n            const append = yield __await(provide());\n            if (append !== undefined) {\n                yield yield __await(append);\n            }\n        });\n    };\n}\n/**\n * Creates an AsyncIterableTransform that prepends an element.\n *\n * The element to prepend is provided by a function. If the function returns\n * undefined, no element is appended.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function transformPrepend(provide) {\n    return function (iterable) {\n        return __asyncGenerator(this, arguments, function* () {\n            var _a, e_3, _b, _c;\n            const prepend = yield __await(provide());\n            if (prepend !== undefined) {\n                yield yield __await(prepend);\n            }\n            try {\n                for (var _d = true, iterable_3 = __asyncValues(iterable), iterable_3_1; iterable_3_1 = yield __await(iterable_3.next()), _a = iterable_3_1.done, !_a; _d = true) {\n                    _c = iterable_3_1.value;\n                    _d = false;\n                    const chunk = _c;\n                    yield yield __await(chunk);\n                }\n            }\n            catch (e_3_1) { e_3 = { error: e_3_1 }; }\n            finally {\n                try {\n                    if (!_d && !_a && (_b = iterable_3.return)) yield __await(_b.call(iterable_3));\n                }\n                finally { if (e_3) throw e_3.error; }\n            }\n        });\n    };\n}\n/**\n * Creates an AsyncIterableTransform that reads all bytes from the input, and\n * concatenates them to a single Uint8Array.\n *\n * The iterable raises an error if the more than readMaxBytes are read.\n *\n * An optional length hint can be provided to optimize allocation and validation.\n * If more or less bytes are present in the source that the length hint indicates,\n * and error is raised.\n * If the length hint is larger than readMaxBytes, an error is raised.\n * If the length hint is not a positive integer, it is ignored.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function transformReadAllBytes(readMaxBytes, lengthHint) {\n    return function (iterable) {\n        return __asyncGenerator(this, arguments, function* () {\n            yield yield __await(yield __await(readAllBytes(iterable, readMaxBytes, lengthHint)));\n        });\n    };\n}\nexport function transformSerializeEnvelope(serialization, endStreamFlag, endSerialization) {\n    if (endStreamFlag === undefined || endSerialization === undefined) {\n        return function (iterable) {\n            return __asyncGenerator(this, arguments, function* () {\n                var _a, e_4, _b, _c;\n                try {\n                    for (var _d = true, iterable_4 = __asyncValues(iterable), iterable_4_1; iterable_4_1 = yield __await(iterable_4.next()), _a = iterable_4_1.done, !_a; _d = true) {\n                        _c = iterable_4_1.value;\n                        _d = false;\n                        const chunk = _c;\n                        const data = serialization.serialize(chunk);\n                        yield yield __await({ flags: 0, data });\n                    }\n                }\n                catch (e_4_1) { e_4 = { error: e_4_1 }; }\n                finally {\n                    try {\n                        if (!_d && !_a && (_b = iterable_4.return)) yield __await(_b.call(iterable_4));\n                    }\n                    finally { if (e_4) throw e_4.error; }\n                }\n            });\n        };\n    }\n    return function (iterable) {\n        return __asyncGenerator(this, arguments, function* () {\n            var _a, e_5, _b, _c;\n            try {\n                for (var _d = true, iterable_5 = __asyncValues(iterable), iterable_5_1; iterable_5_1 = yield __await(iterable_5.next()), _a = iterable_5_1.done, !_a; _d = true) {\n                    _c = iterable_5_1.value;\n                    _d = false;\n                    const chunk = _c;\n                    let data;\n                    let flags = 0;\n                    if (chunk.end) {\n                        flags = flags | endStreamFlag;\n                        data = endSerialization.serialize(chunk.value);\n                    }\n                    else {\n                        data = serialization.serialize(chunk.value);\n                    }\n                    yield yield __await({ flags, data });\n                }\n            }\n            catch (e_5_1) { e_5 = { error: e_5_1 }; }\n            finally {\n                try {\n                    if (!_d && !_a && (_b = iterable_5.return)) yield __await(_b.call(iterable_5));\n                }\n                finally { if (e_5) throw e_5.error; }\n            }\n        });\n    };\n}\nexport function transformParseEnvelope(serialization, endStreamFlag, endSerialization) {\n    // code path always yields ParsedEnvelopedMessage<T, E>\n    if (endSerialization && endStreamFlag !== undefined) {\n        return function (iterable) {\n            return __asyncGenerator(this, arguments, function* () {\n                var _a, e_6, _b, _c;\n                try {\n                    for (var _d = true, iterable_6 = __asyncValues(iterable), iterable_6_1; iterable_6_1 = yield __await(iterable_6.next()), _a = iterable_6_1.done, !_a; _d = true) {\n                        _c = iterable_6_1.value;\n                        _d = false;\n                        const { flags, data } = _c;\n                        if ((flags & endStreamFlag) === endStreamFlag) {\n                            yield yield __await({ value: endSerialization.parse(data), end: true });\n                        }\n                        else {\n                            yield yield __await({ value: serialization.parse(data), end: false });\n                        }\n                    }\n                }\n                catch (e_6_1) { e_6 = { error: e_6_1 }; }\n                finally {\n                    try {\n                        if (!_d && !_a && (_b = iterable_6.return)) yield __await(_b.call(iterable_6));\n                    }\n                    finally { if (e_6) throw e_6.error; }\n                }\n            });\n        };\n    }\n    // code path always yields T\n    return function (iterable) {\n        return __asyncGenerator(this, arguments, function* () {\n            var _a, e_7, _b, _c;\n            try {\n                for (var _d = true, iterable_7 = __asyncValues(iterable), iterable_7_1; iterable_7_1 = yield __await(iterable_7.next()), _a = iterable_7_1.done, !_a; _d = true) {\n                    _c = iterable_7_1.value;\n                    _d = false;\n                    const { flags, data } = _c;\n                    if (endStreamFlag !== undefined &&\n                        (flags & endStreamFlag) === endStreamFlag) {\n                        if (endSerialization === null) {\n                            throw new ConnectError(\"unexpected end flag\", Code.InvalidArgument);\n                        }\n                        // skips end-of-stream envelope\n                        continue;\n                    }\n                    yield yield __await(serialization.parse(data));\n                }\n            }\n            catch (e_7_1) { e_7 = { error: e_7_1 }; }\n            finally {\n                try {\n                    if (!_d && !_a && (_b = iterable_7.return)) yield __await(_b.call(iterable_7));\n                }\n                finally { if (e_7) throw e_7.error; }\n            }\n        });\n    };\n}\n/**\n * Creates an AsyncIterableTransform that takes enveloped messages as a source,\n * and compresses them if they are larger than compressMinBytes.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function transformCompressEnvelope(compression, compressMinBytes) {\n    return function (iterable) {\n        return __asyncGenerator(this, arguments, function* () {\n            var _a, e_8, _b, _c;\n            try {\n                for (var _d = true, iterable_8 = __asyncValues(iterable), iterable_8_1; iterable_8_1 = yield __await(iterable_8.next()), _a = iterable_8_1.done, !_a; _d = true) {\n                    _c = iterable_8_1.value;\n                    _d = false;\n                    const env = _c;\n                    yield yield __await(yield __await(envelopeCompress(env, compression, compressMinBytes)));\n                }\n            }\n            catch (e_8_1) { e_8 = { error: e_8_1 }; }\n            finally {\n                try {\n                    if (!_d && !_a && (_b = iterable_8.return)) yield __await(_b.call(iterable_8));\n                }\n                finally { if (e_8) throw e_8.error; }\n            }\n        });\n    };\n}\n/**\n * Creates an AsyncIterableTransform that takes enveloped messages as a source,\n * and decompresses them using the given compression.\n *\n * The iterable raises an error if the decompressed payload of an enveloped\n * message is larger than readMaxBytes, or if no compression is provided.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function transformDecompressEnvelope(compression, readMaxBytes) {\n    return function (iterable) {\n        return __asyncGenerator(this, arguments, function* () {\n            var _a, e_9, _b, _c;\n            try {\n                for (var _d = true, iterable_9 = __asyncValues(iterable), iterable_9_1; iterable_9_1 = yield __await(iterable_9.next()), _a = iterable_9_1.done, !_a; _d = true) {\n                    _c = iterable_9_1.value;\n                    _d = false;\n                    const env = _c;\n                    yield yield __await(yield __await(envelopeDecompress(env, compression, readMaxBytes)));\n                }\n            }\n            catch (e_9_1) { e_9 = { error: e_9_1 }; }\n            finally {\n                try {\n                    if (!_d && !_a && (_b = iterable_9.return)) yield __await(_b.call(iterable_9));\n                }\n                finally { if (e_9) throw e_9.error; }\n            }\n        });\n    };\n}\n/**\n * Create an AsyncIterableTransform that takes enveloped messages as a source,\n * and joins them into a stream of raw bytes.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function transformJoinEnvelopes() {\n    return function (iterable) {\n        return __asyncGenerator(this, arguments, function* () {\n            var _a, e_10, _b, _c;\n            try {\n                for (var _d = true, iterable_10 = __asyncValues(iterable), iterable_10_1; iterable_10_1 = yield __await(iterable_10.next()), _a = iterable_10_1.done, !_a; _d = true) {\n                    _c = iterable_10_1.value;\n                    _d = false;\n                    const { flags, data } = _c;\n                    yield yield __await(encodeEnvelope(flags, data));\n                }\n            }\n            catch (e_10_1) { e_10 = { error: e_10_1 }; }\n            finally {\n                try {\n                    if (!_d && !_a && (_b = iterable_10.return)) yield __await(_b.call(iterable_10));\n                }\n                finally { if (e_10) throw e_10.error; }\n            }\n        });\n    };\n}\n/**\n * Create an AsyncIterableTransform that takes raw bytes as a source, and splits\n * them into enveloped messages.\n *\n * The iterable raises an error\n * - if the payload of an enveloped message is larger than readMaxBytes,\n * - if the stream ended before an enveloped message fully arrived,\n * - or if the stream ended with extraneous data.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function transformSplitEnvelope(readMaxBytes) {\n    return function (iterable) {\n        return __asyncGenerator(this, arguments, function* () {\n            var _a, e_11, _b, _c;\n            const buffer = createEnvelopeDecoder(readMaxBytes);\n            try {\n                for (var _d = true, iterable_11 = __asyncValues(iterable), iterable_11_1; iterable_11_1 = yield __await(iterable_11.next()), _a = iterable_11_1.done, !_a; _d = true) {\n                    _c = iterable_11_1.value;\n                    _d = false;\n                    const chunk = _c;\n                    for (const env of buffer.decode(chunk)) {\n                        yield yield __await(env);\n                    }\n                }\n            }\n            catch (e_11_1) { e_11 = { error: e_11_1 }; }\n            finally {\n                try {\n                    if (!_d && !_a && (_b = iterable_11.return)) yield __await(_b.call(iterable_11));\n                }\n                finally { if (e_11) throw e_11.error; }\n            }\n            if (buffer.byteLength > 0) {\n                throw new ConnectError(\"protocol error: incomplete envelope\", Code.InvalidArgument);\n            }\n        });\n    };\n}\n/**\n * Reads all bytes from the source, and concatenates them to a single Uint8Array.\n *\n * Raises an error if:\n * - more than readMaxBytes are read\n * - lengthHint is a positive integer, but larger than readMaxBytes\n * - lengthHint is a positive integer, and the source contains more or less bytes\n *   than promised\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport async function readAllBytes(iterable, readMaxBytes, lengthHint) {\n    var _a, e_12, _b, _c, _d, e_13, _e, _f;\n    const [ok, hint] = parseLengthHint(lengthHint);\n    if (ok) {\n        if (hint > readMaxBytes) {\n            assertReadMaxBytes(readMaxBytes, hint, true);\n        }\n        const buffer = new Uint8Array(hint);\n        let offset = 0;\n        try {\n            for (var _g = true, iterable_12 = __asyncValues(iterable), iterable_12_1; iterable_12_1 = await iterable_12.next(), _a = iterable_12_1.done, !_a; _g = true) {\n                _c = iterable_12_1.value;\n                _g = false;\n                const chunk = _c;\n                if (offset + chunk.byteLength > hint) {\n                    throw new ConnectError(`protocol error: promised ${hint} bytes, received ${offset + chunk.byteLength}`, Code.InvalidArgument);\n                }\n                buffer.set(chunk, offset);\n                offset += chunk.byteLength;\n            }\n        }\n        catch (e_12_1) { e_12 = { error: e_12_1 }; }\n        finally {\n            try {\n                if (!_g && !_a && (_b = iterable_12.return)) await _b.call(iterable_12);\n            }\n            finally { if (e_12) throw e_12.error; }\n        }\n        if (offset < hint) {\n            throw new ConnectError(`protocol error: promised ${hint} bytes, received ${offset}`, Code.InvalidArgument);\n        }\n        return buffer;\n    }\n    const chunks = [];\n    let count = 0;\n    try {\n        for (var _h = true, iterable_13 = __asyncValues(iterable), iterable_13_1; iterable_13_1 = await iterable_13.next(), _d = iterable_13_1.done, !_d; _h = true) {\n            _f = iterable_13_1.value;\n            _h = false;\n            const chunk = _f;\n            count += chunk.byteLength;\n            assertReadMaxBytes(readMaxBytes, count);\n            chunks.push(chunk);\n        }\n    }\n    catch (e_13_1) { e_13 = { error: e_13_1 }; }\n    finally {\n        try {\n            if (!_h && !_d && (_e = iterable_13.return)) await _e.call(iterable_13);\n        }\n        finally { if (e_13) throw e_13.error; }\n    }\n    const all = new Uint8Array(count);\n    let offset = 0;\n    for (let chunk = chunks.shift(); chunk; chunk = chunks.shift()) {\n        all.set(chunk, offset);\n        offset += chunk.byteLength;\n    }\n    return all;\n}\n// parse the lengthHint argument of readAllBytes()\nfunction parseLengthHint(lengthHint) {\n    if (lengthHint === undefined || lengthHint === null) {\n        return [false, 0];\n    }\n    const n = typeof lengthHint == \"string\" ? parseInt(lengthHint, 10) : lengthHint;\n    if (!Number.isSafeInteger(n) || n < 0) {\n        return [false, n];\n    }\n    return [true, n];\n}\n/**\n * Wait for the first element of an iterable without modifying the iterable.\n * This consumes the first element, but pushes it back on the stack.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport async function untilFirst(iterable) {\n    const it = iterable[Symbol.asyncIterator]();\n    let first = await it.next();\n    return {\n        [Symbol.asyncIterator]() {\n            const w = {\n                async next() {\n                    if (first !== null) {\n                        const n = first;\n                        first = null;\n                        return n;\n                    }\n                    return await it.next();\n                },\n            };\n            if (it.throw !== undefined) {\n                w.throw = (e) => it.throw(e);\n            }\n            if (it.return !== undefined) {\n                w.return = (value) => it.return(value);\n            }\n            return w;\n        },\n    };\n}\n/**\n * Wrap the given iterable and return an iterable with an abort() method.\n *\n * This function exists purely for convenience. Where one would typically have\n * to access the iterator directly, advance through all elements, and call\n * AsyncIterator.throw() to notify the upstream iterable, this function allows\n * to use convenient for-await loops and still notify the upstream iterable:\n *\n * ```ts\n * const abortable = makeIterableAbortable(iterable);\n * for await (const ele of abortable) {\n *   await abortable.abort(\"ERR\");\n * }\n * ```\n * There are a couple of limitations of this function:\n * - the given async iterable must implement throw\n * - the async iterable cannot be re-use\n * - if source catches errors and yields values for them, they are ignored, and\n *   the source may still dangle\n *\n * There are four possible ways an async function* can handle yield errors:\n * 1. don't catch errors at all - Abortable.abort() will resolve \"rethrown\"\n * 2. catch errors and rethrow - Abortable.abort() will resolve \"rethrown\"\n * 3. catch errors and return - Abortable.abort() will resolve \"completed\"\n * 4. catch errors and yield a value - Abortable.abort() will resolve \"caught\"\n *\n * Note that catching errors and yielding a value is problematic, and it should\n * be documented that this may leave the source in a dangling state.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function makeIterableAbortable(iterable) {\n    const innerCandidate = iterable[Symbol.asyncIterator]();\n    if (innerCandidate.throw === undefined) {\n        throw new Error(\"AsyncIterable does not implement throw\");\n    }\n    const inner = innerCandidate;\n    let aborted;\n    let resultPromise;\n    let it = {\n        next() {\n            resultPromise = inner.next().finally(() => {\n                resultPromise = undefined;\n            });\n            return resultPromise;\n        },\n        throw(e) {\n            return inner.throw(e);\n        },\n    };\n    if (innerCandidate.return !== undefined) {\n        it = Object.assign(Object.assign({}, it), { return(value) {\n                return inner.return(value);\n            } });\n    }\n    let used = false;\n    return {\n        abort(reason) {\n            if (aborted) {\n                return aborted.state;\n            }\n            const f = () => {\n                return inner.throw(reason).then((r) => (r.done === true ? \"completed\" : \"caught\"), () => \"rethrown\");\n            };\n            if (resultPromise) {\n                aborted = { reason, state: resultPromise.then(f, f) };\n                return aborted.state;\n            }\n            aborted = { reason, state: f() };\n            return aborted.state;\n        },\n        [Symbol.asyncIterator]() {\n            if (used) {\n                throw new Error(\"AsyncIterable cannot be re-used\");\n            }\n            used = true;\n            return it;\n        },\n    };\n}\n/**\n * Create a new WritableIterable.\n */\nexport function createWritableIterable() {\n    // We start with two queues to capture the read and write attempts.\n    //\n    // The writes and reads each check of their counterpart is\n    // already available and either interact/add themselves to the queue.\n    const readQueue = [];\n    const writeQueue = [];\n    let err = undefined;\n    let nextResolve;\n    let nextReject;\n    let nextPromise = new Promise((resolve, reject) => {\n        nextResolve = resolve;\n        nextReject = reject;\n    });\n    let closed = false;\n    // drain the readQueue in case of error/writer is closed by sending a\n    // done result.\n    function drain() {\n        for (const next of readQueue.splice(0, readQueue.length)) {\n            next({ done: true, value: undefined });\n        }\n    }\n    return {\n        close() {\n            closed = true;\n            drain();\n        },\n        async write(payload) {\n            if (closed) {\n                throw err !== null && err !== void 0 ? err : new Error(\"cannot write, WritableIterable already closed\");\n            }\n            const read = readQueue.shift();\n            if (read === undefined) {\n                // We didn't find a pending read so we add the payload to the write queue.\n                writeQueue.push(payload);\n            }\n            else {\n                // We found a pending read so we respond with the payload.\n                read({ done: false, value: payload });\n                if (readQueue.length > 0) {\n                    // If there are more in the read queue we can mark the write as complete.\n                    // as the error reporting is not guaranteed to be sequential and therefore cannot\n                    // to linked to a specific write.\n                    return;\n                }\n            }\n            // We await the next call for as many times as there are items in the queue + 1\n            //\n            // If there are no items in the write queue that means write happened and we just have\n            // to wait for one more call likewise if we are the nth write in the queue we\n            // have to wait for n writes to complete and one more.\n            const limit = writeQueue.length + 1;\n            for (let i = 0; i < limit; i++) {\n                await nextPromise;\n            }\n        },\n        [Symbol.asyncIterator]() {\n            return {\n                next() {\n                    // Resolve the nextPromise to indicate\n                    // pending writes that a read attempt has been made\n                    // after their write.\n                    //\n                    // We also need to reset the promise for future writes.\n                    nextResolve();\n                    nextPromise = new Promise((resolve, reject) => {\n                        nextResolve = resolve;\n                        nextReject = reject;\n                    });\n                    const write = writeQueue.shift();\n                    if (write !== undefined) {\n                        // We found a pending write so response with the payload.\n                        return Promise.resolve({ done: false, value: write });\n                    }\n                    if (closed) {\n                        return Promise.resolve({ done: true, value: undefined });\n                    }\n                    // We return a promise immediately that is either resolved/rejected\n                    // as writes happen.\n                    let readResolve;\n                    const readPromise = new Promise((resolve) => {\n                        readResolve = resolve;\n                    });\n                    // biome-ignore lint/style/noNonNullAssertion: initialized by promise executor\n                    readQueue.push(readResolve);\n                    return readPromise;\n                },\n                throw(throwErr) {\n                    err = throwErr;\n                    closed = true;\n                    writeQueue.splice(0, writeQueue.length);\n                    nextPromise.catch(() => {\n                        // To make sure that the nextPromise is always resolved.\n                    });\n                    // This will reject all pending writes.\n                    nextReject(err);\n                    drain();\n                    return Promise.resolve({ done: true, value: undefined });\n                },\n                return() {\n                    closed = true;\n                    writeQueue.splice(0, writeQueue.length);\n                    // Resolve once for the write awaiting confirmation.\n                    nextResolve();\n                    // Reject all future writes.\n                    nextPromise = Promise.reject(new Error(\"cannot write, consumer called return\"));\n                    nextPromise.catch(() => {\n                        // To make sure that the nextPromise is always resolved.\n                    });\n                    drain();\n                    return Promise.resolve({ done: true, value: undefined });\n                },\n            };\n        },\n    };\n}\n/**\n * Create an asynchronous iterable from an array.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function createAsyncIterable(items) {\n    return __asyncGenerator(this, arguments, function* createAsyncIterable_1() {\n        yield __await(yield* __asyncDelegator(__asyncValues(items)));\n    });\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nimport { create } from \"@bufbuild/protobuf\";\nimport { ConnectError } from \"./connect-error.js\";\nimport { Code } from \"./code.js\";\nimport { makeAnyClient } from \"./any-client.js\";\nimport { createAsyncIterable } from \"./protocol/async-iterable.js\";\n/**\n * Create a CallbackClient for the given service, invoking RPCs through the\n * given transport.\n */\nexport function createCallbackClient(service, transport) {\n    return makeAnyClient(service, (method) => {\n        switch (method.methodKind) {\n            case \"unary\":\n                return createUnaryFn(transport, method);\n            case \"server_streaming\":\n                return createServerStreamingFn(transport, method);\n            default:\n                return null;\n        }\n    });\n}\nfunction createUnaryFn(transport, method) {\n    return (requestMessage, callback, options) => {\n        const abort = new AbortController();\n        options = wrapSignal(abort, options);\n        transport\n            .unary(method, abort.signal, options.timeoutMs, options.headers, requestMessage, options.contextValues)\n            .then((response) => {\n            var _a, _b;\n            (_a = options.onHeader) === null || _a === void 0 ? void 0 : _a.call(options, response.header);\n            (_b = options.onTrailer) === null || _b === void 0 ? void 0 : _b.call(options, response.trailer);\n            callback(undefined, response.message);\n        }, (reason) => {\n            const err = ConnectError.from(reason, Code.Internal);\n            if (err.code === Code.Canceled && abort.signal.aborted) {\n                // As documented, discard Canceled errors if canceled by the user.\n                return;\n            }\n            callback(err, create(method.output));\n        });\n        return () => abort.abort();\n    };\n}\nfunction createServerStreamingFn(transport, method) {\n    return (input, onResponse, onClose, options) => {\n        const abort = new AbortController();\n        async function run() {\n            var _a, e_1, _b, _c;\n            var _d, _e;\n            options = wrapSignal(abort, options);\n            const response = await transport.stream(method, options.signal, options.timeoutMs, options.headers, createAsyncIterable([input]), options.contextValues);\n            (_d = options.onHeader) === null || _d === void 0 ? void 0 : _d.call(options, response.header);\n            try {\n                for (var _f = true, _g = __asyncValues(response.message), _h; _h = await _g.next(), _a = _h.done, !_a; _f = true) {\n                    _c = _h.value;\n                    _f = false;\n                    const message = _c;\n                    onResponse(message);\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (!_f && !_a && (_b = _g.return)) await _b.call(_g);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            (_e = options.onTrailer) === null || _e === void 0 ? void 0 : _e.call(options, response.trailer);\n            onClose(undefined);\n        }\n        run().catch((reason) => {\n            const err = ConnectError.from(reason, Code.Internal);\n            if (err.code === Code.Canceled && abort.signal.aborted) {\n                // As documented, discard Canceled errors if canceled by the user,\n                // but do invoke the close-callback.\n                onClose(undefined);\n            }\n            else {\n                onClose(err);\n            }\n        });\n        return () => abort.abort();\n    };\n}\nfunction wrapSignal(abort, options) {\n    if (options === null || options === void 0 ? void 0 : options.signal) {\n        options.signal.addEventListener(\"abort\", () => abort.abort());\n        if (options.signal.aborted) {\n            abort.abort();\n        }\n    }\n    return Object.assign(Object.assign({}, options), { signal: abort.signal });\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nvar __await = (this && this.__await) || function (v) { return this instanceof __await ? (this.v = v, this) : new __await(v); }\nvar __asyncDelegator = (this && this.__asyncDelegator) || function (o) {\n    var i, p;\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n};\nvar __asyncGenerator = (this && this.__asyncGenerator) || function (thisArg, _arguments, generator) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\n    return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n    function fulfill(value) { resume(\"next\", value); }\n    function reject(value) { resume(\"throw\", value); }\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n};\nimport { makeAnyClient } from \"./any-client.js\";\nimport { ConnectError } from \"./connect-error.js\";\nimport { Code } from \"./code.js\";\nimport { createAsyncIterable } from \"./protocol/async-iterable.js\";\n/**\n * Create a Client for the given service, invoking RPCs through the\n * given transport.\n */\nexport function createClient(service, transport) {\n    return makeAnyClient(service, (method) => {\n        switch (method.methodKind) {\n            case \"unary\":\n                return createUnaryFn(transport, method);\n            case \"server_streaming\":\n                return createServerStreamingFn(transport, method);\n            case \"client_streaming\":\n                return createClientStreamingFn(transport, method);\n            case \"bidi_streaming\":\n                return createBiDiStreamingFn(transport, method);\n            default:\n                return null;\n        }\n    });\n}\nexport function createUnaryFn(transport, method) {\n    return async (input, options) => {\n        var _a, _b;\n        const response = await transport.unary(method, options === null || options === void 0 ? void 0 : options.signal, options === null || options === void 0 ? void 0 : options.timeoutMs, options === null || options === void 0 ? void 0 : options.headers, input, options === null || options === void 0 ? void 0 : options.contextValues);\n        (_a = options === null || options === void 0 ? void 0 : options.onHeader) === null || _a === void 0 ? void 0 : _a.call(options, response.header);\n        (_b = options === null || options === void 0 ? void 0 : options.onTrailer) === null || _b === void 0 ? void 0 : _b.call(options, response.trailer);\n        return response.message;\n    };\n}\nexport function createServerStreamingFn(transport, method) {\n    return (input, options) => handleStreamResponse(transport.stream(method, options === null || options === void 0 ? void 0 : options.signal, options === null || options === void 0 ? void 0 : options.timeoutMs, options === null || options === void 0 ? void 0 : options.headers, createAsyncIterable([input]), options === null || options === void 0 ? void 0 : options.contextValues), options);\n}\nexport function createClientStreamingFn(transport, method) {\n    return async (request, options) => {\n        var _a, e_1, _b, _c;\n        var _d, _e;\n        const response = await transport.stream(method, options === null || options === void 0 ? void 0 : options.signal, options === null || options === void 0 ? void 0 : options.timeoutMs, options === null || options === void 0 ? void 0 : options.headers, request, options === null || options === void 0 ? void 0 : options.contextValues);\n        (_d = options === null || options === void 0 ? void 0 : options.onHeader) === null || _d === void 0 ? void 0 : _d.call(options, response.header);\n        let singleMessage;\n        let count = 0;\n        try {\n            for (var _f = true, _g = __asyncValues(response.message), _h; _h = await _g.next(), _a = _h.done, !_a; _f = true) {\n                _c = _h.value;\n                _f = false;\n                const message = _c;\n                singleMessage = message;\n                count++;\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (!_f && !_a && (_b = _g.return)) await _b.call(_g);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        if (!singleMessage) {\n            throw new ConnectError(\"protocol error: missing response message\", Code.Unimplemented);\n        }\n        if (count > 1) {\n            throw new ConnectError(\"protocol error: received extra messages for client streaming method\", Code.Unimplemented);\n        }\n        (_e = options === null || options === void 0 ? void 0 : options.onTrailer) === null || _e === void 0 ? void 0 : _e.call(options, response.trailer);\n        return singleMessage;\n    };\n}\nexport function createBiDiStreamingFn(transport, method) {\n    return (request, options) => handleStreamResponse(transport.stream(method, options === null || options === void 0 ? void 0 : options.signal, options === null || options === void 0 ? void 0 : options.timeoutMs, options === null || options === void 0 ? void 0 : options.headers, request, options === null || options === void 0 ? void 0 : options.contextValues), options);\n}\nfunction handleStreamResponse(stream, options) {\n    const it = (function () {\n        return __asyncGenerator(this, arguments, function* () {\n            var _a, _b;\n            const response = yield __await(stream);\n            (_a = options === null || options === void 0 ? void 0 : options.onHeader) === null || _a === void 0 ? void 0 : _a.call(options, response.header);\n            yield __await(yield* __asyncDelegator(__asyncValues(response.message)));\n            (_b = options === null || options === void 0 ? void 0 : options.onTrailer) === null || _b === void 0 ? void 0 : _b.call(options, response.trailer);\n        });\n    })()[Symbol.asyncIterator]();\n    // Create a new iterable to omit throw/return.\n    return {\n        [Symbol.asyncIterator]: () => ({\n            next: () => it.next(),\n        }),\n    };\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { ConnectError } from \"../connect-error.js\";\nimport { Code } from \"../code.js\";\n/**\n * Create an AbortController that is automatically aborted if one of the given\n * signals is aborted.\n *\n * For convenience, the linked AbortSignals can be undefined.\n *\n * If the controller or any of the signals is aborted, all event listeners are\n * removed.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function createLinkedAbortController(...signals) {\n    const controller = new AbortController();\n    const sa = signals.filter((s) => s !== undefined).concat(controller.signal);\n    for (const signal of sa) {\n        if (signal.aborted) {\n            onAbort.apply(signal);\n            break;\n        }\n        signal.addEventListener(\"abort\", onAbort);\n    }\n    function onAbort() {\n        if (!controller.signal.aborted) {\n            controller.abort(getAbortSignalReason(this));\n        }\n        for (const signal of sa) {\n            signal.removeEventListener(\"abort\", onAbort);\n        }\n    }\n    return controller;\n}\n/**\n * Create a deadline signal. The returned object contains an AbortSignal, but\n * also a cleanup function to stop the timer, which must be called once the\n * calling code is no longer interested in the signal.\n *\n * Ideally, we would simply use AbortSignal.timeout(), but it is not widely\n * available yet.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function createDeadlineSignal(timeoutMs) {\n    const controller = new AbortController();\n    const listener = () => {\n        controller.abort(new ConnectError(\"the operation timed out\", Code.DeadlineExceeded));\n    };\n    let timeoutId;\n    if (timeoutMs !== undefined) {\n        if (timeoutMs <= 0)\n            listener();\n        else\n            timeoutId = setTimeout(listener, timeoutMs);\n    }\n    return {\n        signal: controller.signal,\n        cleanup: () => clearTimeout(timeoutId),\n    };\n}\n/**\n * Returns the reason why an AbortSignal was aborted. Returns undefined if the\n * signal has not been aborted.\n *\n * The property AbortSignal.reason is not widely available. This function\n * returns an AbortError if the signal is aborted, but reason is undefined.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function getAbortSignalReason(signal) {\n    if (!signal.aborted) {\n        return undefined;\n    }\n    if (signal.reason !== undefined) {\n        return signal.reason;\n    }\n    // AbortSignal.reason is available in Node.js v16, v18, and later,\n    // and in all browsers since early 2022.\n    const e = new Error(\"This operation was aborted\");\n    e.name = \"AbortError\";\n    return e;\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * createContextValues creates a new ContextValues.\n */\nexport function createContextValues() {\n    return {\n        get(key) {\n            return key.id in this ? this[key.id] : key.defaultValue;\n        },\n        set(key, value) {\n            this[key.id] = value;\n            return this;\n        },\n        delete(key) {\n            delete this[key.id];\n            return this;\n        },\n    };\n}\n/**\n * createContextKey creates a new ContextKey.\n */\nexport function createContextKey(defaultValue, options) {\n    return { id: Symbol(options === null || options === void 0 ? void 0 : options.description), defaultValue };\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { ConnectError } from \"./connect-error.js\";\nimport { Code } from \"./code.js\";\nimport { createDeadlineSignal, createLinkedAbortController, } from \"./protocol/signals.js\";\nimport { createContextValues } from \"./context-values.js\";\n/**\n * Create a new HandlerContext.\n *\n * The context is usually automatically created by handlers, but if a service\n * implementation is used in unit tests, this function can be used to create\n * a context.\n */\nexport function createHandlerContext(init) {\n    var _a;\n    let timeoutMs;\n    if (init.timeoutMs !== undefined) {\n        const date = new Date(Date.now() + init.timeoutMs);\n        timeoutMs = () => date.getTime() - Date.now();\n    }\n    else {\n        timeoutMs = () => undefined;\n    }\n    const deadline = createDeadlineSignal(init.timeoutMs);\n    const abortController = createLinkedAbortController(deadline.signal, init.requestSignal, init.shutdownSignal);\n    return Object.assign(Object.assign({}, init), { signal: abortController.signal, timeoutMs, requestHeader: new Headers(init.requestHeader), responseHeader: new Headers(init.responseHeader), responseTrailer: new Headers(init.responseTrailer), abort(reason) {\n            deadline.cleanup();\n            abortController.abort(reason);\n        }, values: (_a = init.contextValues) !== null && _a !== void 0 ? _a : createContextValues() });\n}\n/**\n * Create an MethodImplSpec - a user-provided implementation for a method,\n * wrapped in a discriminated union type along with service and method metadata.\n */\nexport function createMethodImplSpec(method, impl) {\n    return {\n        kind: method.methodKind,\n        method,\n        impl,\n    };\n}\n/**\n * Create an ServiceImplSpec - a user-provided service implementation wrapped\n * with metadata.\n */\nexport function createServiceImplSpec(service, impl) {\n    const s = { service, methods: {} };\n    for (const method of service.methods) {\n        let fn = impl[method.localName];\n        if (typeof fn == \"function\") {\n            fn = fn.bind(impl);\n        }\n        else {\n            const message = `${service.typeName}.${method.name} is not implemented`;\n            fn = function unimplemented() {\n                throw new ConnectError(message, Code.Unimplemented);\n            };\n        }\n        s.methods[method.localName] = createMethodImplSpec(method, fn);\n    }\n    return s;\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * trailerFlag indicates that the data in a EnvelopedMessage\n * is a set of trailers of the gRPC-web protocol.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport const trailerFlag = 0b10000000;\n/**\n * Parse a gRPC-web trailer, a set of header fields separated by CRLF.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function trailerParse(data) {\n    const headers = new Headers();\n    const lines = new TextDecoder().decode(data).split(\"\\r\\n\");\n    for (const line of lines) {\n        if (line === \"\") {\n            continue;\n        }\n        const i = line.indexOf(\":\");\n        if (i > 0) {\n            const name = line.substring(0, i).trim();\n            const value = line.substring(i + 1).trim();\n            headers.append(name, value);\n        }\n    }\n    return headers;\n}\n/**\n * Serialize a Headers object as a gRPC-web trailer.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function trailerSerialize(trailer) {\n    const lines = [];\n    trailer.forEach((value, key) => {\n        lines.push(`${key}: ${value}\\r\\n`);\n    });\n    return new TextEncoder().encode(lines.join(\"\"));\n}\n/**\n * Create a Serialization object that serializes a gRPC-web trailer, a Headers\n * object that is serialized as a set of header fields, separated by CRLF.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function createTrailerSerialization() {\n    return {\n        serialize: trailerSerialize,\n        parse: trailerParse,\n    };\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * @private Internal code, does not follow semantic versioning.\n */\nexport const headerContentType = \"Content-Type\";\nexport const headerEncoding = \"Grpc-Encoding\";\nexport const headerAcceptEncoding = \"Grpc-Accept-Encoding\";\nexport const headerTimeout = \"Grpc-Timeout\";\nexport const headerGrpcStatus = \"Grpc-Status\";\nexport const headerGrpcMessage = \"Grpc-Message\";\nexport const headerStatusDetailsBin = \"Grpc-Status-Details-Bin\";\nexport const headerMessageType = \"Grpc-Message-Type\";\nexport const headerUserAgent = \"User-Agent\";\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * @private Internal code, does not follow semantic versioning.\n */\nexport { headerContentType, headerEncoding, headerAcceptEncoding, headerTimeout, headerGrpcStatus, headerGrpcMessage, headerStatusDetailsBin, headerUserAgent, } from \"../protocol-grpc/headers.js\";\n/**\n * gRPC-web does not use the standard header User-Agent.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport const headerXUserAgent = \"X-User-Agent\";\n/**\n * The canonical grpc/grpc-web JavaScript implementation sets\n * this request header with value \"1\".\n * Some servers may rely on the header to identify gRPC-web\n * requests. For example the proxy by improbable:\n * https://github.com/improbable-eng/grpc-web/blob/53aaf4cdc0fede7103c1b06f0cfc560c003a5c41/go/grpcweb/wrapper.go#L231\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport const headerXGrpcWeb = \"X-Grpc-Web\";\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * Regular Expression that matches any valid gRPC-web Content-Type header value.\n * Note that this includes application/grpc-web-text with the additional base64\n * encoding.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport const contentTypeRegExp = /^application\\/grpc-web(-text)?(?:\\+(?:(json)(?:; ?charset=utf-?8)?|proto))?$/i;\nexport const contentTypeProto = \"application/grpc-web+proto\";\nexport const contentTypeJson = \"application/grpc-web+json\";\n/**\n * Parse a gRPC-web Content-Type header value.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function parseContentType(contentType) {\n    const match = contentType === null || contentType === void 0 ? void 0 : contentType.match(contentTypeRegExp);\n    if (!match) {\n        return undefined;\n    }\n    const text = !!match[1];\n    const binary = !match[2];\n    return { text, binary };\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { Code } from \"../code.js\";\nimport { ConnectError } from \"../connect-error.js\";\n/**\n * Parse a gRPC Timeout (Deadline) header.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function parseTimeout(value, maxTimeoutMs) {\n    if (value === null) {\n        return {};\n    }\n    const results = /^(\\d{1,8})([HMSmun])$/.exec(value);\n    if (results === null) {\n        return {\n            error: new ConnectError(`protocol error: invalid grpc timeout value: ${value}`, Code.InvalidArgument),\n        };\n    }\n    const unitToMultiplicand = {\n        H: 60 * 60 * 1000, // hour\n        M: 60 * 1000, // minute\n        S: 1000, // second\n        m: 1, // millisecond\n        u: 0.001, // microsecond\n        n: 0.000001, // nanosecond\n    };\n    const timeoutMs = unitToMultiplicand[results[2]] *\n        parseInt(results[1]);\n    if (timeoutMs > maxTimeoutMs) {\n        return {\n            timeoutMs: timeoutMs,\n            error: new ConnectError(`timeout ${timeoutMs}ms must be <= ${maxTimeoutMs}`, Code.InvalidArgument),\n        };\n    }\n    return {\n        timeoutMs,\n    };\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { fileDesc, messageDesc } from \"@bufbuild/protobuf/codegenv2\";\nimport { file_google_protobuf_any } from \"@bufbuild/protobuf/wkt\";\n/**\n * Describes the file status.proto.\n */\nexport const file_status = /*@__PURE__*/ fileDesc(\"CgxzdGF0dXMucHJvdG8SCmdvb2dsZS5ycGMiTgoGU3RhdHVzEgwKBGNvZGUYASABKAUSDwoHbWVzc2FnZRgCIAEoCRIlCgdkZXRhaWxzGAMgAygLMhQuZ29vZ2xlLnByb3RvYnVmLkFueUJeCg5jb20uZ29vZ2xlLnJwY0ILU3RhdHVzUHJvdG9QAVo3Z29vZ2xlLmdvbGFuZy5vcmcvZ2VucHJvdG8vZ29vZ2xlYXBpcy9ycGMvc3RhdHVzO3N0YXR1c6ICA1JQQ2IGcHJvdG8z\", [file_google_protobuf_any]);\n/**\n * Describes the message google.rpc.Status.\n * Use `create(StatusSchema)` to create a new message.\n */\nexport const StatusSchema = /*@__PURE__*/ messageDesc(file_status, 0);\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { StatusSchema } from \"./gen/status_pb.js\";\nimport { ConnectError } from \"../connect-error.js\";\nimport { decodeBinaryHeader, encodeBinaryHeader } from \"../http-headers.js\";\nimport { Code } from \"../code.js\";\nimport { anyPack } from \"@bufbuild/protobuf/wkt\";\nimport { headerGrpcMessage, headerGrpcStatus, headerStatusDetailsBin, } from \"./headers.js\";\nimport { create } from \"@bufbuild/protobuf\";\n/**\n * The value of the Grpc-Status header or trailer in case of success.\n * Used by the gRPC and gRPC-web protocols.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport const grpcStatusOk = \"0\";\n/**\n * Sets the fields \"grpc-status\" and \"grpc-message\" in the given\n * Headers object.\n * If an error is given and contains error details, the function\n * will also set the field \"grpc-status-details-bin\" with an encoded\n * google.rpc.Status message including the error details.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function setTrailerStatus(target, error) {\n    if (error) {\n        // Copy any metadata specified in the error into the target Headers\n        // Note that if a protocol header happens to be specified in metadata, it\n        // its value will be overridden below by the official protocol headers.\n        error.metadata.forEach((value, key) => {\n            target.append(key, value);\n        });\n        target.set(headerGrpcStatus, error.code.toString(10));\n        target.set(headerGrpcMessage, encodeURIComponent(error.rawMessage));\n        if (error.details.length > 0) {\n            const status = create(StatusSchema, {\n                code: error.code,\n                message: error.rawMessage,\n                details: error.details.map((detail) => \"desc\" in detail\n                    ? anyPack(detail.desc, create(detail.desc, detail.value))\n                    : {\n                        typeUrl: `type.googleapis.com/${detail.type}`,\n                        value: detail.value,\n                    }),\n            });\n            target.set(headerStatusDetailsBin, encodeBinaryHeader(status, StatusSchema));\n        }\n    }\n    else {\n        target.set(headerGrpcStatus, grpcStatusOk.toString());\n    }\n    return target;\n}\n/**\n * Find an error status in the given Headers object, which can be either\n * a trailer, or a header (as allowed for so-called trailers-only responses).\n * The field \"grpc-status-details-bin\" is inspected, and if not present,\n * the fields \"grpc-status\" and \"grpc-message\" are used.\n * Returns an error only if the gRPC status code is > 0.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function findTrailerError(headerOrTrailer) {\n    // TODO\n    // let code: Code;\n    // let message: string = \"\";\n    var _a;\n    // Prefer the protobuf-encoded data to the grpc-status header.\n    const statusBytes = headerOrTrailer.get(headerStatusDetailsBin);\n    if (statusBytes != null) {\n        const status = decodeBinaryHeader(statusBytes, StatusSchema);\n        if (status.code == 0) {\n            return undefined;\n        }\n        const error = new ConnectError(status.message, status.code, headerOrTrailer);\n        error.details = status.details.map((any) => ({\n            type: any.typeUrl.substring(any.typeUrl.lastIndexOf(\"/\") + 1),\n            value: any.value,\n        }));\n        return error;\n    }\n    const grpcStatus = headerOrTrailer.get(headerGrpcStatus);\n    if (grpcStatus != null) {\n        if (grpcStatus === grpcStatusOk) {\n            return undefined;\n        }\n        const code = parseInt(grpcStatus, 10);\n        if (code in Code) {\n            return new ConnectError(decodeURIComponent((_a = headerOrTrailer.get(headerGrpcMessage)) !== null && _a !== void 0 ? _a : \"\"), code, headerOrTrailer);\n        }\n        return new ConnectError(`invalid grpc-status: ${grpcStatus}`, Code.Internal, headerOrTrailer);\n    }\n    return undefined;\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nconst contentTypeMatcherCacheSize = 1024;\n/**\n * Create a function that returns true if the given mime type is supported.\n * A mime type is supported when one of the regular expressions match.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function contentTypeMatcher(...supported) {\n    const cache = new Map();\n    const source = supported.reduce((previousValue, currentValue) => previousValue.concat(\"supported\" in currentValue ? currentValue.supported : currentValue), []);\n    function match(contentType) {\n        if (contentType === null || contentType.length == 0) {\n            return false;\n        }\n        const cached = cache.get(contentType);\n        if (cached !== undefined) {\n            return cached;\n        }\n        const ok = source.some((re) => re.test(contentType));\n        if (cache.size < contentTypeMatcherCacheSize) {\n            cache.set(contentType, ok);\n        }\n        return ok;\n    }\n    match.supported = source;\n    return match;\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * Create a URL for the given RPC. This simply adds the qualified\n * service name, a slash, and the method name to the path of the given\n * baseUrl.\n *\n * For example, the baseUri https://example.com and method \"Say\" from\n * the service example.ElizaService results in:\n * https://example.com/example.ElizaService/Say\n *\n * This format is used by the protocols Connect, gRPC and Twirp.\n *\n * Note that this function also accepts a protocol-relative baseUrl.\n * If given an empty string or \"/\" as a baseUrl, it returns just the\n * path.\n */\nexport function createMethodUrl(baseUrl, method) {\n    return baseUrl\n        .toString()\n        .replace(/\\/?$/, `/${method.parent.typeName}/${method.name}`);\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { create } from \"@bufbuild/protobuf\";\n/**\n *  Takes a partial protobuf messages of the\n *  specified message type as input, and returns full instances.\n */\nexport function normalize(desc, message) {\n    return create(desc, message);\n}\n/**\n * Takes an AsyncIterable of partial protobuf messages of the\n * specified message type as input, and yields full instances.\n */\nexport function normalizeIterable(desc, input) {\n    function transform(result) {\n        if (result.done === true) {\n            return result;\n        }\n        return {\n            done: result.done,\n            value: normalize(desc, result.value),\n        };\n    }\n    return {\n        [Symbol.asyncIterator]() {\n            const it = input[Symbol.asyncIterator]();\n            const res = {\n                next: () => it.next().then(transform),\n            };\n            if (it.throw !== undefined) {\n                res.throw = (e) => it.throw(e).then(transform);\n            }\n            if (it.return !== undefined) {\n                res.return = (v) => it.return(v).then(transform);\n            }\n            return res;\n        },\n    };\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * applyInterceptors takes the given UnaryFn or ServerStreamingFn, and wraps\n * it with each of the given interceptors, returning a new UnaryFn or\n * ServerStreamingFn.\n */\nexport function applyInterceptors(next, interceptors) {\n    if (!interceptors) {\n        return next;\n    }\n    for (const i of interceptors.concat().reverse()) {\n        next = i(next);\n    }\n    return next;\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar __await = (this && this.__await) || function (v) { return this instanceof __await ? (this.v = v, this) : new __await(v); }\nvar __asyncGenerator = (this && this.__asyncGenerator) || function (thisArg, _arguments, generator) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\n    return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n    function fulfill(value) { resume(\"next\", value); }\n    function reject(value) { resume(\"throw\", value); }\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n};\nvar __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nvar __asyncDelegator = (this && this.__asyncDelegator) || function (o) {\n    var i, p;\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n};\nimport { ConnectError } from \"../connect-error.js\";\nimport { Code } from \"../code.js\";\nimport { createAsyncIterable } from \"./async-iterable.js\";\nimport { normalize, normalizeIterable } from \"./normalize.js\";\nimport { applyInterceptors } from \"../interceptor.js\";\n/**\n * Invoke a user-provided implementation of a unary RPC. Returns a normalized\n * output message.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport async function invokeUnaryImplementation(spec, context, input, interceptors) {\n    const anyFn = async (req) => {\n        return Object.assign({ message: normalize(spec.method.output, await spec.impl(req.message, mergeRequest(context, req))), stream: false, method: spec.method }, responseCommon(context, spec));\n    };\n    const next = applyInterceptors(anyFn, interceptors);\n    const { message, header, trailer } = await next(Object.assign({ stream: false, message: input, method: spec.method }, requestCommon(context, spec)));\n    copyHeaders(header, context.responseHeader);\n    copyHeaders(trailer, context.responseTrailer);\n    return message;\n}\n/**\n * Return an AsyncIterableTransform that invokes a user-provided implementation,\n * giving it input from an asynchronous iterable, and returning its output as an\n * asynchronous iterable.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function transformInvokeImplementation(spec, context, interceptors) {\n    switch (spec.kind) {\n        case \"unary\":\n            return function unary(input) {\n                return __asyncGenerator(this, arguments, function* unary_1() {\n                    yield yield __await(yield __await(invokeUnaryImplementation(spec, context, yield __await(ensureSingle(input, \"unary\")), interceptors)));\n                });\n            };\n        case \"server_streaming\": {\n            return function serverStreaming(input) {\n                return invokeStreamImplementation(spec, context, input, interceptors, async (req) => {\n                    const output = normalizeIterable(spec.method.output, spec.impl(await ensureSingle(req.message, \"server-streaming\"), mergeRequest(context, req)));\n                    return Object.assign({ stream: true, message: output, method: spec.method }, responseCommon(context, spec));\n                });\n            };\n        }\n        case \"client_streaming\": {\n            return function clientStreaming(input) {\n                return invokeStreamImplementation(spec, context, input, interceptors, async (req) => {\n                    return Object.assign({ message: createAsyncIterable([\n                            normalize(spec.method.output, await spec.impl(req.message, mergeRequest(context, req))),\n                        ]), stream: true, method: spec.method }, responseCommon(context, spec));\n                });\n            };\n        }\n        case \"bidi_streaming\":\n            return function biDiStreaming(input) {\n                return invokeStreamImplementation(spec, context, input, interceptors, (req) => {\n                    return Promise.resolve(Object.assign({ message: normalizeIterable(spec.method.output, spec.impl(req.message, mergeRequest(context, req))), stream: true, method: spec.method }, responseCommon(context, spec)));\n                });\n            };\n    }\n}\nfunction invokeStreamImplementation(spec, context, input, interceptors, anyFn) {\n    return __asyncGenerator(this, arguments, function* invokeStreamImplementation_1() {\n        const next = applyInterceptors(anyFn, interceptors);\n        const { message, header, trailer } = yield __await(next(Object.assign({ stream: true, message: input, method: spec.method }, requestCommon(context, spec))));\n        copyHeaders(header, context.responseHeader);\n        yield __await(yield* __asyncDelegator(__asyncValues(message)));\n        copyHeaders(trailer, context.responseTrailer);\n    });\n}\nasync function ensureSingle(iterable, method) {\n    const it = iterable[Symbol.asyncIterator]();\n    const first = await it.next();\n    if (first.done === true) {\n        throw new ConnectError(`protocol error: missing input message for ${method} method`, Code.Unimplemented);\n    }\n    const second = await it.next();\n    if (second.done !== true) {\n        throw new ConnectError(`protocol error: received extra input message for ${method} method`, Code.Unimplemented);\n    }\n    return first.value;\n}\nfunction requestCommon(context, spec) {\n    return {\n        requestMethod: context.requestMethod,\n        url: context.url,\n        signal: context.signal,\n        header: context.requestHeader,\n        service: spec.method.parent,\n        contextValues: context.values,\n    };\n}\nfunction responseCommon(context, spec) {\n    return {\n        service: spec.method.parent,\n        header: context.responseHeader,\n        trailer: context.responseTrailer,\n    };\n}\nfunction mergeRequest(context, req) {\n    return Object.assign(Object.assign({}, context), { service: req.service, requestHeader: req.header, signal: req.signal, values: req.contextValues });\n}\nfunction copyHeaders(from, to) {\n    if (from === to) {\n        return;\n    }\n    to.forEach((_, key) => {\n        to.delete(key);\n    });\n    from.forEach((value, key) => {\n        to.set(key, value);\n    });\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { fromBinary, fromJsonString, toBinary, toJsonString, } from \"@bufbuild/protobuf\";\nimport { ConnectError } from \"../connect-error.js\";\nimport { Code } from \"../code.js\";\nimport { assertReadMaxBytes, assertWriteMaxBytes } from \"./limit-io.js\";\n/**\n * Sets default JSON serialization options for connect-es.\n *\n * With standard protobuf JSON serialization, unknown JSON fields are\n * rejected by default. In connect-es, unknown JSON fields are ignored\n * by default.\n */\nexport function getJsonOptions(options) {\n    var _a;\n    const o = Object.assign({}, options);\n    (_a = o.ignoreUnknownFields) !== null && _a !== void 0 ? _a : (o.ignoreUnknownFields = true);\n    return o;\n}\n/**\n * Create an object that provides convenient access to request and response\n * message serialization for a given method.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function createMethodSerializationLookup(method, binaryOptions, jsonOptions, limitOptions) {\n    const inputBinary = limitSerialization(createBinarySerialization(method.input, binaryOptions), limitOptions);\n    const inputJson = limitSerialization(createJsonSerialization(method.input, jsonOptions), limitOptions);\n    const outputBinary = limitSerialization(createBinarySerialization(method.output, binaryOptions), limitOptions);\n    const outputJson = limitSerialization(createJsonSerialization(method.output, jsonOptions), limitOptions);\n    return {\n        getI(useBinaryFormat) {\n            return useBinaryFormat ? inputBinary : inputJson;\n        },\n        getO(useBinaryFormat) {\n            return useBinaryFormat ? outputBinary : outputJson;\n        },\n    };\n}\n/**\n * Returns functions to normalize and serialize the input message\n * of an RPC, and to parse the output message of an RPC.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function createClientMethodSerializers(method, useBinaryFormat, jsonOptions, binaryOptions) {\n    const input = useBinaryFormat\n        ? createBinarySerialization(method.input, binaryOptions)\n        : createJsonSerialization(method.input, jsonOptions);\n    const output = useBinaryFormat\n        ? createBinarySerialization(method.output, binaryOptions)\n        : createJsonSerialization(method.output, jsonOptions);\n    return { parse: output.parse, serialize: input.serialize };\n}\n/**\n * Apply I/O limits to a Serialization object, returning a new object.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function limitSerialization(serialization, limitOptions) {\n    return {\n        serialize(data) {\n            const bytes = serialization.serialize(data);\n            assertWriteMaxBytes(limitOptions.writeMaxBytes, bytes.byteLength);\n            return bytes;\n        },\n        parse(data) {\n            assertReadMaxBytes(limitOptions.readMaxBytes, data.byteLength, true);\n            return serialization.parse(data);\n        },\n    };\n}\n/**\n * Creates a Serialization object for serializing the given protobuf message\n * with the protobuf binary format.\n */\nexport function createBinarySerialization(desc, options) {\n    return {\n        parse(data) {\n            try {\n                return fromBinary(desc, data, options);\n            }\n            catch (e) {\n                const m = e instanceof Error ? e.message : String(e);\n                throw new ConnectError(`parse binary: ${m}`, Code.Internal);\n            }\n        },\n        serialize(data) {\n            try {\n                return toBinary(desc, data, options);\n            }\n            catch (e) {\n                const m = e instanceof Error ? e.message : String(e);\n                throw new ConnectError(`serialize binary: ${m}`, Code.Internal);\n            }\n        },\n    };\n}\n/**\n * Creates a Serialization object for serializing the given protobuf message\n * with the protobuf canonical JSON encoding.\n *\n * By default, unknown fields are ignored.\n */\nexport function createJsonSerialization(desc, options) {\n    var _a, _b;\n    const textEncoder = (_a = options === null || options === void 0 ? void 0 : options.textEncoder) !== null && _a !== void 0 ? _a : new TextEncoder();\n    const textDecoder = (_b = options === null || options === void 0 ? void 0 : options.textDecoder) !== null && _b !== void 0 ? _b : new TextDecoder();\n    const o = getJsonOptions(options);\n    return {\n        parse(data) {\n            try {\n                const json = textDecoder.decode(data);\n                return fromJsonString(desc, json, o);\n            }\n            catch (e) {\n                throw ConnectError.from(e, Code.InvalidArgument);\n            }\n        },\n        serialize(data) {\n            try {\n                const json = toJsonString(desc, data, o);\n                return textEncoder.encode(json);\n            }\n            catch (e) {\n                throw ConnectError.from(e, Code.Internal);\n            }\n        },\n    };\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * Assert that the given UniversalServerRequest has a byte stream body, not\n * a JSON value.\n *\n * We accept a JSON object or a byte stream in server requests.\n * In practice, only Connect unary handlers will receive a parse\n * JSON object. Other call-sites can use this assertion to narrow\n * the union type. A failure in such a call-sites indicates that\n * the contract between a server framework and the connect-node \\\n * handler is broken.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function assertByteStreamRequest(req) {\n    if (typeof req.body == \"object\" &&\n        req.body !== null &&\n        Symbol.asyncIterator in req.body) {\n        return;\n    }\n    throw new Error(\"byte stream required, but received JSON\");\n}\n/**\n * HTTP 200 OK\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport const uResponseOk = {\n    status: 200,\n};\n/**\n * HTTP 404 Not Found\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport const uResponseNotFound = {\n    status: 404,\n};\n/**\n * HTTP 415 Unsupported Media Type\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport const uResponseUnsupportedMediaType = {\n    status: 415,\n};\n/**\n * HTTP 405 Method Not Allowed\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport const uResponseMethodNotAllowed = {\n    status: 405,\n};\n/**\n * HTTP 505 Version Not Supported\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport const uResponseVersionNotSupported = {\n    status: 505,\n};\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { uResponseMethodNotAllowed, uResponseUnsupportedMediaType, uResponseVersionNotSupported, } from \"./universal.js\";\nimport { contentTypeMatcher } from \"./content-type-matcher.js\";\nimport { validateReadWriteMaxBytes } from \"./limit-io.js\";\nimport { ConnectError } from \"../connect-error.js\";\nimport { Code } from \"../code.js\";\n/**\n * Asserts that the options are within sane limits, and returns default values\n * where no value is provided.\n *\n * Note that this function does not set default values for `acceptCompression`.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function validateUniversalHandlerOptions(opt) {\n    var _a, _b, _c;\n    opt !== null && opt !== void 0 ? opt : (opt = {});\n    const acceptCompression = opt.acceptCompression\n        ? [...opt.acceptCompression]\n        : [];\n    const requireConnectProtocolHeader = (_a = opt.requireConnectProtocolHeader) !== null && _a !== void 0 ? _a : false;\n    const maxTimeoutMs = (_b = opt.maxTimeoutMs) !== null && _b !== void 0 ? _b : Number.MAX_SAFE_INTEGER;\n    return Object.assign(Object.assign({ acceptCompression }, validateReadWriteMaxBytes(opt.readMaxBytes, opt.writeMaxBytes, opt.compressMinBytes)), { jsonOptions: opt.jsonOptions, binaryOptions: opt.binaryOptions, maxTimeoutMs, shutdownSignal: opt.shutdownSignal, requireConnectProtocolHeader, interceptors: (_c = opt.interceptors) !== null && _c !== void 0 ? _c : [] });\n}\n/**\n * For the given service implementation, return a universal handler for each\n * RPC. The handler serves the given protocols.\n *\n * At least one protocol is required.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function createUniversalServiceHandlers(spec, protocols) {\n    return Object.entries(spec.methods).map(([, implSpec]) => createUniversalMethodHandler(implSpec, protocols));\n}\n/**\n * Return a universal handler for the given RPC implementation.\n * The handler serves the given protocols.\n *\n * At least one protocol is required.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function createUniversalMethodHandler(spec, protocols) {\n    return negotiateProtocol(protocols.map((f) => f(spec)));\n}\n/**\n * Create a universal handler that negotiates the protocol.\n *\n * This functions takes one or more handlers - all for the same RPC, but for\n * different protocols - and returns a single handler that looks at the\n * Content-Type header and the HTTP verb of the incoming request to select\n * the appropriate protocol-specific handler.\n *\n * Raises an error if no protocol handlers were provided, or if they do not\n * handle exactly the same RPC.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function negotiateProtocol(protocolHandlers) {\n    if (protocolHandlers.length == 0) {\n        throw new ConnectError(\"at least one protocol is required\", Code.Internal);\n    }\n    const service = protocolHandlers[0].service;\n    const method = protocolHandlers[0].method;\n    const requestPath = protocolHandlers[0].requestPath;\n    if (protocolHandlers.some((h) => h.service !== service || h.method !== method)) {\n        throw new ConnectError(\"cannot negotiate protocol for different RPCs\", Code.Internal);\n    }\n    if (protocolHandlers.some((h) => h.requestPath !== requestPath)) {\n        throw new ConnectError(\"cannot negotiate protocol for different requestPaths\", Code.Internal);\n    }\n    async function protocolNegotiatingHandler(request) {\n        var _a;\n        if (method.methodKind == \"bidi_streaming\" &&\n            request.httpVersion.startsWith(\"1.\")) {\n            return Object.assign(Object.assign({}, uResponseVersionNotSupported), { \n                // Clients coded to expect full-duplex connections may hang if they've\n                // mistakenly negotiated HTTP/1.1. To unblock them, we must close the\n                // underlying TCP connection.\n                header: new Headers({ Connection: \"close\" }) });\n        }\n        const contentType = (_a = request.header.get(\"Content-Type\")) !== null && _a !== void 0 ? _a : \"\";\n        const matchingMethod = protocolHandlers.filter((h) => h.allowedMethods.includes(request.method));\n        if (matchingMethod.length == 0) {\n            return uResponseMethodNotAllowed;\n        }\n        // If Content-Type is unset but only one handler matches, use it.\n        if (matchingMethod.length == 1 && contentType === \"\") {\n            const onlyMatch = matchingMethod[0];\n            return onlyMatch(request);\n        }\n        const matchingContentTypes = matchingMethod.filter((h) => h.supportedContentType(contentType));\n        if (matchingContentTypes.length == 0) {\n            return uResponseUnsupportedMediaType;\n        }\n        const firstMatch = matchingContentTypes[0];\n        return firstMatch(request);\n    }\n    return Object.assign(protocolNegotiatingHandler, {\n        service,\n        method,\n        requestPath,\n        supportedContentType: contentTypeMatcher(...protocolHandlers.map((h) => h.supportedContentType)),\n        protocolNames: protocolHandlers\n            .flatMap((h) => h.protocolNames)\n            .filter((value, index, array) => array.indexOf(value) === index),\n        allowedMethods: protocolHandlers\n            .flatMap((h) => h.allowedMethods)\n            .filter((value, index, array) => array.indexOf(value) === index),\n    });\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { ConnectError } from \"../connect-error.js\";\nimport { Code } from \"../code.js\";\nimport { createHandlerContext } from \"../implementation.js\";\nimport { createTrailerSerialization, trailerFlag } from \"./trailer.js\";\nimport { headerAcceptEncoding, headerContentType, headerEncoding, headerGrpcStatus, headerTimeout, } from \"./headers.js\";\nimport { contentTypeJson, contentTypeProto, contentTypeRegExp, parseContentType, } from \"./content-type.js\";\nimport { parseTimeout } from \"../protocol-grpc/parse-timeout.js\";\nimport { grpcStatusOk, setTrailerStatus, } from \"../protocol-grpc/trailer-status.js\";\nimport { pipe, transformPrepend, transformSplitEnvelope, transformDecompressEnvelope, transformParseEnvelope, transformSerializeEnvelope, transformCatchFinally, transformCompressEnvelope, transformJoinEnvelopes, untilFirst, } from \"../protocol/async-iterable.js\";\nimport { compressionNegotiate } from \"../protocol/compression.js\";\nimport { contentTypeMatcher } from \"../protocol/content-type-matcher.js\";\nimport { createMethodUrl } from \"../protocol/create-method-url.js\";\nimport { transformInvokeImplementation } from \"../protocol/invoke-implementation.js\";\nimport { createMethodSerializationLookup } from \"../protocol/serialization.js\";\nimport { validateUniversalHandlerOptions } from \"../protocol/universal-handler.js\";\nimport { assertByteStreamRequest, uResponseUnsupportedMediaType, uResponseMethodNotAllowed, uResponseOk, } from \"../protocol/universal.js\";\nconst protocolName = \"grpc-web\";\nconst methodPost = \"POST\";\n/**\n * Create a factory that creates gRPC-web handlers.\n */\nexport function createHandlerFactory(options) {\n    const opt = validateUniversalHandlerOptions(options);\n    const trailerSerialization = createTrailerSerialization();\n    function fact(spec) {\n        const h = createHandler(opt, trailerSerialization, spec);\n        return Object.assign(h, {\n            protocolNames: [protocolName],\n            allowedMethods: [methodPost],\n            supportedContentType: contentTypeMatcher(contentTypeRegExp),\n            requestPath: createMethodUrl(\"/\", spec.method),\n            service: spec.method.parent,\n            method: spec.method,\n        });\n    }\n    fact.protocolName = protocolName;\n    return fact;\n}\nfunction createHandler(opt, trailerSerialization, spec) {\n    const serialization = createMethodSerializationLookup(spec.method, opt.binaryOptions, opt.jsonOptions, opt);\n    return async function handle(req) {\n        assertByteStreamRequest(req);\n        const type = parseContentType(req.header.get(headerContentType));\n        if (type == undefined || type.text) {\n            return uResponseUnsupportedMediaType;\n        }\n        if (req.method !== methodPost) {\n            return uResponseMethodNotAllowed;\n        }\n        const timeout = parseTimeout(req.header.get(headerTimeout), opt.maxTimeoutMs);\n        const context = createHandlerContext(Object.assign(Object.assign({}, spec), { service: spec.method.parent, requestMethod: req.method, protocolName, timeoutMs: timeout.timeoutMs, shutdownSignal: opt.shutdownSignal, requestSignal: req.signal, requestHeader: req.header, url: req.url, responseHeader: {\n                [headerContentType]: type.binary ? contentTypeProto : contentTypeJson,\n            }, responseTrailer: {\n                [headerGrpcStatus]: grpcStatusOk,\n            }, contextValues: req.contextValues }));\n        const compression = compressionNegotiate(opt.acceptCompression, req.header.get(headerEncoding), req.header.get(headerAcceptEncoding), headerAcceptEncoding);\n        if (compression.response) {\n            context.responseHeader.set(headerEncoding, compression.response.name);\n        }\n        // We split the pipeline into two parts: The request iterator, and the\n        // response iterator. We do this because the request iterator is responsible\n        // for parsing the request body, and we don't want write errors of the response\n        // iterator to affect the request iterator.\n        const inputIt = pipe(req.body, transformPrepend(() => {\n            // raise compression error to serialize it as a trailer status\n            if (compression.error)\n                throw compression.error;\n            // raise timeout parsing error to serialize it as a trailer status\n            if (timeout.error)\n                throw timeout.error;\n            return undefined;\n        }), transformSplitEnvelope(opt.readMaxBytes), transformDecompressEnvelope(compression.request, opt.readMaxBytes), transformParseEnvelope(serialization.getI(type.binary), trailerFlag));\n        const it = transformInvokeImplementation(spec, context, opt.interceptors)(inputIt)[Symbol.asyncIterator]();\n        const outputIt = pipe(\n        // We wrap the iterator in an async iterator to ensure that the\n        // abort signal is aborted when the iterator is done.\n        {\n            [Symbol.asyncIterator]() {\n                return {\n                    next: () => it.next(),\n                    throw: (e) => {\n                        var _a, _b;\n                        context.abort(e);\n                        return (_b = (_a = it.throw) === null || _a === void 0 ? void 0 : _a.call(it, e)) !== null && _b !== void 0 ? _b : Promise.reject({ done: true });\n                    },\n                    return: (v) => {\n                        var _a, _b;\n                        context.abort();\n                        return ((_b = (_a = it.return) === null || _a === void 0 ? void 0 : _a.call(it, v)) !== null && _b !== void 0 ? _b : Promise.resolve({ done: true, value: v }));\n                    },\n                };\n            },\n        }, transformSerializeEnvelope(serialization.getO(type.binary)), transformCatchFinally((e) => {\n            context.abort(e);\n            if (e instanceof ConnectError) {\n                setTrailerStatus(context.responseTrailer, e);\n            }\n            else if (e !== undefined) {\n                setTrailerStatus(context.responseTrailer, new ConnectError(\"internal error\", Code.Internal, undefined, undefined, e));\n            }\n            return {\n                flags: trailerFlag,\n                data: trailerSerialization.serialize(context.responseTrailer),\n            };\n        }), transformCompressEnvelope(compression.response, opt.compressMinBytes), transformJoinEnvelopes(), { propagateDownStreamError: true });\n        return Object.assign(Object.assign({}, uResponseOk), { \n            // We wait for the first response body bytes before resolving, so that\n            // implementations have a chance to add headers before an adapter commits\n            // them to the wire.\n            body: await untilFirst(outputIt), header: context.responseHeader });\n    };\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * Regular Expression that matches any valid gRPC Content-Type header value.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport const contentTypeRegExp = /^application\\/grpc(?:\\+(?:(json)(?:; ?charset=utf-?8)?|proto))?$/i;\nexport const contentTypeProto = \"application/grpc+proto\";\nexport const contentTypeJson = \"application/grpc+json\";\n/**\n * Parse a gRPC Content-Type header.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function parseContentType(contentType) {\n    const match = contentType === null || contentType === void 0 ? void 0 : contentType.match(contentTypeRegExp);\n    if (!match) {\n        return undefined;\n    }\n    const binary = !match[1];\n    return { binary };\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { createHandlerContext } from \"../implementation.js\";\nimport { ConnectError } from \"../connect-error.js\";\nimport { Code } from \"../code.js\";\nimport { contentTypeJson, contentTypeProto, contentTypeRegExp, parseContentType, } from \"./content-type.js\";\nimport { headerAcceptEncoding, headerContentType, headerEncoding, headerGrpcStatus, headerTimeout, } from \"./headers.js\";\nimport { grpcStatusOk, setTrailerStatus } from \"./trailer-status.js\";\nimport { parseTimeout } from \"./parse-timeout.js\";\nimport { pipe, transformPrepend, transformSplitEnvelope, transformDecompressEnvelope, transformParseEnvelope, transformSerializeEnvelope, transformCompressEnvelope, transformJoinEnvelopes, transformCatchFinally, untilFirst, } from \"../protocol/async-iterable.js\";\nimport { compressionNegotiate } from \"../protocol/compression.js\";\nimport { contentTypeMatcher } from \"../protocol/content-type-matcher.js\";\nimport { createMethodUrl } from \"../protocol/create-method-url.js\";\nimport { transformInvokeImplementation } from \"../protocol/invoke-implementation.js\";\nimport { createMethodSerializationLookup } from \"../protocol/serialization.js\";\nimport { validateUniversalHandlerOptions } from \"../protocol/universal-handler.js\";\nimport { assertByteStreamRequest, uResponseUnsupportedMediaType, uResponseMethodNotAllowed, uResponseOk, } from \"../protocol/universal.js\";\nconst protocolName = \"grpc\";\nconst methodPost = \"POST\";\n/**\n * Create a factory that creates gRPC handlers.\n */\nexport function createHandlerFactory(options) {\n    const opt = validateUniversalHandlerOptions(options);\n    function fact(spec) {\n        const h = createHandler(opt, spec);\n        return Object.assign(h, {\n            protocolNames: [protocolName],\n            allowedMethods: [methodPost],\n            supportedContentType: contentTypeMatcher(contentTypeRegExp),\n            requestPath: createMethodUrl(\"/\", spec.method),\n            service: spec.method.parent,\n            method: spec.method,\n        });\n    }\n    fact.protocolName = protocolName;\n    return fact;\n}\nfunction createHandler(opt, spec) {\n    const serialization = createMethodSerializationLookup(spec.method, opt.binaryOptions, opt.jsonOptions, opt);\n    return async function handle(req) {\n        assertByteStreamRequest(req);\n        const type = parseContentType(req.header.get(headerContentType));\n        if (type == undefined) {\n            return uResponseUnsupportedMediaType;\n        }\n        if (req.method !== methodPost) {\n            return uResponseMethodNotAllowed;\n        }\n        const timeout = parseTimeout(req.header.get(headerTimeout), opt.maxTimeoutMs);\n        const context = createHandlerContext(Object.assign(Object.assign({}, spec), { service: spec.method.parent, requestMethod: req.method, protocolName, timeoutMs: timeout.timeoutMs, shutdownSignal: opt.shutdownSignal, requestSignal: req.signal, requestHeader: req.header, url: req.url, responseHeader: {\n                [headerContentType]: type.binary ? contentTypeProto : contentTypeJson,\n            }, responseTrailer: {\n                [headerGrpcStatus]: grpcStatusOk,\n            }, contextValues: req.contextValues }));\n        const compression = compressionNegotiate(opt.acceptCompression, req.header.get(headerEncoding), req.header.get(headerAcceptEncoding), headerAcceptEncoding);\n        if (compression.response) {\n            context.responseHeader.set(headerEncoding, compression.response.name);\n        }\n        // We split the pipeline into two parts: The request iterator, and the\n        // response iterator. We do this because the request iterator is responsible\n        // for parsing the request body, and we don't want write errors of the response\n        // iterator to affect the request iterator.\n        const inputIt = pipe(req.body, transformPrepend(() => {\n            // raise compression error to serialize it as a trailer status\n            if (compression.error)\n                throw compression.error;\n            // raise timeout parsing error to serialize it as a trailer status\n            if (timeout.error)\n                throw timeout.error;\n            return undefined;\n        }), transformSplitEnvelope(opt.readMaxBytes), transformDecompressEnvelope(compression.request, opt.readMaxBytes), transformParseEnvelope(serialization.getI(type.binary)));\n        const it = transformInvokeImplementation(spec, context, opt.interceptors)(inputIt)[Symbol.asyncIterator]();\n        const outputIt = pipe(\n        // We wrap the iterator in an async iterator to ensure that the\n        // abort signal is aborted when the iterator is done.\n        {\n            [Symbol.asyncIterator]() {\n                return {\n                    next: () => it.next(),\n                    throw: (e) => {\n                        var _a, _b;\n                        context.abort(e);\n                        return (_b = (_a = it.throw) === null || _a === void 0 ? void 0 : _a.call(it, e)) !== null && _b !== void 0 ? _b : Promise.reject({ done: true });\n                    },\n                    return: (v) => {\n                        var _a, _b;\n                        context.abort();\n                        return ((_b = (_a = it.return) === null || _a === void 0 ? void 0 : _a.call(it, v)) !== null && _b !== void 0 ? _b : Promise.resolve({ done: true, value: v }));\n                    },\n                };\n            },\n        }, transformSerializeEnvelope(serialization.getO(type.binary)), transformCompressEnvelope(compression.response, opt.compressMinBytes), transformJoinEnvelopes(), transformCatchFinally((e) => {\n            context.abort(e);\n            if (e instanceof ConnectError) {\n                setTrailerStatus(context.responseTrailer, e);\n            }\n            else if (e !== undefined) {\n                setTrailerStatus(context.responseTrailer, new ConnectError(\"internal error\", Code.Internal, undefined, undefined, e));\n            }\n        }), { propagateDownStreamError: true });\n        return Object.assign(Object.assign({}, uResponseOk), { \n            // We wait for the first response body bytes before resolving, so that\n            // implementations have a chance to add headers before an adapter commits\n            // them to the wire.\n            body: await untilFirst(outputIt), header: context.responseHeader, trailer: context.responseTrailer });\n    };\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * Regular Expression that matches any valid Connect Content-Type header value.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport const contentTypeRegExp = /^application\\/(connect\\+)?(?:(json)(?:; ?charset=utf-?8)?|(proto))$/i;\n/**\n * Regular Expression that matches a Connect unary Content-Type header value.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport const contentTypeUnaryRegExp = /^application\\/(?:json(?:; ?charset=utf-?8)?|proto)$/i;\n/**\n * Regular Expression that matches a Connect streaming Content-Type header value.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport const contentTypeStreamRegExp = /^application\\/connect\\+?(?:json(?:; ?charset=utf-?8)?|proto)$/i;\nexport const contentTypeUnaryProto = \"application/proto\";\nexport const contentTypeUnaryJson = \"application/json\";\nexport const contentTypeStreamProto = \"application/connect+proto\";\nexport const contentTypeStreamJson = \"application/connect+json\";\nconst encodingProto = \"proto\";\nconst encodingJson = \"json\";\n/**\n * Parse a Connect Content-Type header.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function parseContentType(contentType) {\n    const match = contentType === null || contentType === void 0 ? void 0 : contentType.match(contentTypeRegExp);\n    if (!match) {\n        return undefined;\n    }\n    const stream = !!match[1];\n    const binary = !!match[3];\n    return { stream, binary };\n}\n/**\n * Parse a Connect Get encoding query parameter.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function parseEncodingQuery(encoding) {\n    switch (encoding) {\n        case encodingProto:\n            return { stream: false, binary: true };\n        case encodingJson:\n            return { stream: false, binary: false };\n        default:\n            return undefined;\n    }\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { base64Decode, base64Encode } from \"@bufbuild/protobuf/wire\";\nimport { create, toBinary, toJson } from \"@bufbuild/protobuf\";\nimport { Code } from \"../code.js\";\nimport { ConnectError } from \"../connect-error.js\";\nimport { codeFromString, codeToString } from \"./code-string.js\";\n/**\n * Parse a Connect error from a JSON value.\n * Will return a ConnectError, and throw the provided fallback if parsing failed.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function errorFromJson(jsonValue, metadata, fallback) {\n    var _a;\n    if (metadata) {\n        new Headers(metadata).forEach((value, key) => fallback.metadata.append(key, value));\n    }\n    if (typeof jsonValue !== \"object\" ||\n        jsonValue == null ||\n        Array.isArray(jsonValue)) {\n        throw fallback;\n    }\n    let code = fallback.code;\n    if (\"code\" in jsonValue && typeof jsonValue.code === \"string\") {\n        code = (_a = codeFromString(jsonValue.code)) !== null && _a !== void 0 ? _a : code;\n    }\n    const message = jsonValue.message;\n    if (message != null && typeof message !== \"string\") {\n        throw fallback;\n    }\n    const error = new ConnectError(message !== null && message !== void 0 ? message : \"\", code, metadata);\n    if (\"details\" in jsonValue && Array.isArray(jsonValue.details)) {\n        for (const detail of jsonValue.details) {\n            if (detail === null ||\n                typeof detail != \"object\" ||\n                Array.isArray(detail) ||\n                typeof detail.type != \"string\" ||\n                typeof detail.value != \"string\") {\n                throw fallback;\n            }\n            try {\n                error.details.push({\n                    type: detail.type,\n                    value: base64Decode(detail.value),\n                    debug: detail.debug,\n                });\n            }\n            catch (e) {\n                throw fallback;\n            }\n        }\n    }\n    return error;\n}\n/**\n * Parse a Connect error from a serialized JSON value.\n * Will return a ConnectError, and throw the provided fallback if parsing failed.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function errorFromJsonBytes(bytes, metadata, fallback) {\n    let jsonValue;\n    try {\n        jsonValue = JSON.parse(new TextDecoder().decode(bytes));\n    }\n    catch (e) {\n        throw fallback;\n    }\n    return errorFromJson(jsonValue, metadata, fallback);\n}\n/**\n * Serialize the given error to JSON.\n *\n * The JSON serialization options are required to produce the optional\n * human-readable representation in the \"debug\" key if the detail uses\n * google.protobuf.Any. If serialization of the \"debug\" value fails, it\n * is silently disregarded.\n *\n * See https://connectrpc.com/docs/protocol#error-end-stream\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function errorToJson(error, jsonWriteOptions) {\n    const o = {\n        code: codeToString(error.code),\n    };\n    if (error.rawMessage.length > 0) {\n        o.message = error.rawMessage;\n    }\n    if (error.details.length > 0) {\n        o.details = error.details\n            .map((detail) => {\n            if (\"desc\" in detail) {\n                const msg = create(detail.desc, detail.value);\n                const i = {\n                    type: detail.desc.typeName,\n                    value: toBinary(detail.desc, msg),\n                };\n                try {\n                    i.debug = toJson(detail.desc, msg, jsonWriteOptions);\n                }\n                catch (e) {\n                    // We deliberately ignore errors that may occur when serializing\n                    // a message to JSON (the message contains an Any).\n                    // The rationale is that we are only trying to provide optional\n                    // debug information.\n                }\n                return i;\n            }\n            return detail;\n        })\n            .map((_a) => {\n            var { value } = _a, rest = __rest(_a, [\"value\"]);\n            return (Object.assign(Object.assign({}, rest), { value: base64Encode(value, \"std_raw\") }));\n        });\n    }\n    return o;\n}\n/**\n * Serialize the given error to JSON. This calls errorToJson(), but stringifies\n * the result, and converts it into a UInt8Array.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function errorToJsonBytes(error, jsonWriteOptions) {\n    const textEncoder = new TextEncoder();\n    try {\n        const jsonObject = errorToJson(error, jsonWriteOptions);\n        const jsonString = JSON.stringify(jsonObject);\n        return textEncoder.encode(jsonString);\n    }\n    catch (e) {\n        const m = e instanceof Error ? e.message : String(e);\n        throw new ConnectError(`failed to serialize Connect Error: ${m}`, Code.Internal);\n    }\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { errorFromJson, errorToJson } from \"./error-json.js\";\nimport { appendHeaders } from \"../http-headers.js\";\nimport { ConnectError } from \"../connect-error.js\";\nimport { Code } from \"../code.js\";\n/**\n * endStreamFlag indicates that the data in a EnvelopedMessage\n * is a EndStreamResponse of the Connect protocol.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport const endStreamFlag = 0b00000010;\n/**\n * Parse an EndStreamResponse of the Connect protocol.\n * Throws a ConnectError on malformed input.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function endStreamFromJson(data) {\n    const parseErr = new ConnectError(\"invalid end stream\", Code.Unknown);\n    let jsonValue;\n    try {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n        jsonValue = JSON.parse(typeof data == \"string\" ? data : new TextDecoder().decode(data));\n    }\n    catch (e) {\n        throw parseErr;\n    }\n    if (typeof jsonValue != \"object\" ||\n        jsonValue == null ||\n        Array.isArray(jsonValue)) {\n        throw parseErr;\n    }\n    const metadata = new Headers();\n    if (\"metadata\" in jsonValue) {\n        if (typeof jsonValue.metadata != \"object\" ||\n            jsonValue.metadata == null ||\n            Array.isArray(jsonValue.metadata)) {\n            throw parseErr;\n        }\n        for (const [key, values] of Object.entries(jsonValue.metadata)) {\n            if (!Array.isArray(values) ||\n                values.some((value) => typeof value != \"string\")) {\n                throw parseErr;\n            }\n            for (const value of values) {\n                metadata.append(key, value);\n            }\n        }\n    }\n    const error = \"error\" in jsonValue && jsonValue.error != null\n        ? errorFromJson(jsonValue.error, metadata, parseErr)\n        : undefined;\n    return { metadata, error };\n}\n/**\n * Serialize the given EndStreamResponse to JSON.\n *\n * The JSON serialization options are required to produce the optional\n * human-readable representation of error details if the detail uses\n * google.protobuf.Any.\n *\n * See https://connectrpc.com/docs/protocol#error-end-stream\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function endStreamToJson(metadata, error, jsonWriteOptions) {\n    const es = {};\n    if (error !== undefined) {\n        es.error = errorToJson(error, jsonWriteOptions);\n        metadata = appendHeaders(metadata, error.metadata);\n    }\n    let hasMetadata = false;\n    const md = {};\n    metadata.forEach((value, key) => {\n        hasMetadata = true;\n        md[key] = [value];\n    });\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    if (hasMetadata) {\n        es.metadata = md;\n    }\n    return es;\n}\n/**\n * Create a Serialization object that serializes a Connect EndStreamResponse.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function createEndStreamSerialization(options) {\n    const textEncoder = new TextEncoder();\n    return {\n        serialize(data) {\n            try {\n                const jsonObject = endStreamToJson(data.metadata, data.error, options);\n                const jsonString = JSON.stringify(jsonObject);\n                return textEncoder.encode(jsonString);\n            }\n            catch (e) {\n                const m = e instanceof Error ? e.message : String(e);\n                throw new ConnectError(`failed to serialize EndStreamResponse: ${m}`, Code.Internal);\n            }\n        },\n        parse(data) {\n            try {\n                return endStreamFromJson(data);\n            }\n            catch (e) {\n                const m = e instanceof Error ? e.message : String(e);\n                throw new ConnectError(`failed to parse EndStreamResponse: ${m}`, Code.InvalidArgument);\n            }\n        },\n    };\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * @private Internal code, does not follow semantic versioning.\n */\nexport const headerContentType = \"Content-Type\";\nexport const headerUnaryContentLength = \"Content-Length\";\nexport const headerUnaryEncoding = \"Content-Encoding\";\nexport const headerStreamEncoding = \"Connect-Content-Encoding\";\nexport const headerUnaryAcceptEncoding = \"Accept-Encoding\";\nexport const headerStreamAcceptEncoding = \"Connect-Accept-Encoding\";\nexport const headerTimeout = \"Connect-Timeout-Ms\";\nexport const headerProtocolVersion = \"Connect-Protocol-Version\";\nexport const headerUserAgent = \"User-Agent\";\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { Code } from \"../code.js\";\n/**\n * Determine the Connect error code for the given HTTP status code.\n * See https://connectrpc.com/docs/protocol/#http-to-error-code\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function codeFromHttpStatus(httpStatus) {\n    switch (httpStatus) {\n        case 400: // Bad Request\n            return Code.Internal;\n        case 401: // Unauthorized\n            return Code.Unauthenticated;\n        case 403: // Forbidden\n            return Code.PermissionDenied;\n        case 404: // Not Found\n            return Code.Unimplemented;\n        case 429: // Too Many Requests\n            return Code.Unavailable;\n        case 502: // Bad Gateway\n            return Code.Unavailable;\n        case 503: // Service Unavailable\n            return Code.Unavailable;\n        case 504: // Gateway Timeout\n            return Code.Unavailable;\n        default:\n            return Code.Unknown;\n    }\n}\n/**\n * Returns a HTTP status code for the given Connect code.\n * See https://connectrpc.com/docs/protocol#error-codes\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function codeToHttpStatus(code) {\n    switch (code) {\n        case Code.Canceled:\n            return 499; // Client Closed Request\n        case Code.Unknown:\n            return 500; // Internal Server Error\n        case Code.InvalidArgument:\n            return 400; // Bad Request\n        case Code.DeadlineExceeded:\n            return 504; // Gateway Timeout\n        case Code.NotFound:\n            return 404; // Not Found\n        case Code.AlreadyExists:\n            return 409; // Conflict\n        case Code.PermissionDenied:\n            return 403; // Forbidden\n        case Code.ResourceExhausted:\n            return 429; // Too Many Requests\n        case Code.FailedPrecondition:\n            return 400; // Bad Request\n        case Code.Aborted:\n            return 409; // Conflict\n        case Code.OutOfRange:\n            return 400; // Bad Request\n        case Code.Unimplemented:\n            return 501; // Not Implemented\n        case Code.Internal:\n            return 500; // Internal Server Error\n        case Code.Unavailable:\n            return 503; // Service Unavailable\n        case Code.DataLoss:\n            return 500; // Internal Server Error\n        case Code.Unauthenticated:\n            return 401; // Unauthorized\n        default:\n            return 500; // same as CodeUnknown\n    }\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { Code } from \"../code.js\";\nimport { ConnectError } from \"../connect-error.js\";\n/**\n * Parse a Connect Timeout (Deadline) header.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function parseTimeout(value, maxTimeoutMs) {\n    if (value === null) {\n        return {};\n    }\n    const results = /^\\d{1,10}$/.exec(value);\n    if (results === null) {\n        return {\n            error: new ConnectError(`protocol error: invalid connect timeout value: ${value}`, Code.InvalidArgument),\n        };\n    }\n    const timeoutMs = parseInt(results[0]);\n    if (timeoutMs > maxTimeoutMs) {\n        return {\n            timeoutMs: timeoutMs,\n            error: new ConnectError(`timeout ${timeoutMs}ms must be <= ${maxTimeoutMs}`, Code.InvalidArgument),\n        };\n    }\n    return {\n        timeoutMs: parseInt(results[0]),\n    };\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * @private Internal code, does not follow semantic versioning.\n */\nexport const paramConnectVersion = \"connect\";\nexport const paramEncoding = \"encoding\";\nexport const paramCompression = \"compression\";\nexport const paramBase64 = \"base64\";\nexport const paramMessage = \"message\";\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * In unary RPCs, Connect transports trailing metadata as response header\n * fields, prefixed with \"trailer-\".\n *\n * This function demuxes headers and trailers into two separate Headers\n * objects.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function trailerDemux(header) {\n    const h = new Headers(), t = new Headers();\n    header.forEach((value, key) => {\n        if (key.toLowerCase().startsWith(\"trailer-\")) {\n            t.append(key.substring(8), value);\n        }\n        else {\n            h.append(key, value);\n        }\n    });\n    return [h, t];\n}\n/**\n * In unary RPCs, Connect transports trailing metadata as response header\n * fields, prefixed with \"trailer-\".\n *\n * This function muxes a header and a trailer into a single Headers object.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function trailerMux(header, trailer) {\n    const h = new Headers(header);\n    trailer.forEach((value, key) => {\n        h.append(`trailer-${key}`, value);\n    });\n    return h;\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { headerProtocolVersion } from \"./headers.js\";\nimport { paramConnectVersion } from \"./query-params.js\";\nimport { ConnectError } from \"../connect-error.js\";\nimport { Code } from \"../code.js\";\n/**\n * The only know value for the header Connect-Protocol-Version.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport const protocolVersion = \"1\";\n/**\n * Requires the Connect-Protocol-Version header to be present with the expected\n * value. Raises a ConnectError with Code.InvalidArgument otherwise.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function requireProtocolVersionHeader(requestHeader) {\n    const v = requestHeader.get(headerProtocolVersion);\n    if (v === null) {\n        throw new ConnectError(`missing required header: set ${headerProtocolVersion} to \"${protocolVersion}\"`, Code.InvalidArgument);\n    }\n    if (v !== protocolVersion) {\n        throw new ConnectError(`${headerProtocolVersion} must be \"${protocolVersion}\": got \"${v}\"`, Code.InvalidArgument);\n    }\n}\n/**\n * Requires the connect query parameter to be present with the expected value.\n * Raises a ConnectError with Code.InvalidArgument otherwise.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function requireProtocolVersionParam(queryParams) {\n    const v = queryParams.get(paramConnectVersion);\n    if (v === null) {\n        throw new ConnectError(`missing required parameter: set ${paramConnectVersion} to \"v${protocolVersion}\"`, Code.InvalidArgument);\n    }\n    if (v !== `v${protocolVersion}`) {\n        throw new ConnectError(`${paramConnectVersion} must be \"v${protocolVersion}\": got \"${v}\"`, Code.InvalidArgument);\n    }\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { fromJson } from \"@bufbuild/protobuf\";\nimport { base64Decode } from \"@bufbuild/protobuf/wire\";\nimport { Code } from \"../code.js\";\nimport { ConnectError } from \"../connect-error.js\";\nimport { createHandlerContext } from \"../implementation.js\";\nimport { contentTypeStreamJson, contentTypeStreamProto, contentTypeStreamRegExp, contentTypeUnaryJson, contentTypeUnaryProto, contentTypeUnaryRegExp, parseContentType, parseEncodingQuery, } from \"./content-type.js\";\nimport { createEndStreamSerialization, endStreamFlag } from \"./end-stream.js\";\nimport { errorToJsonBytes } from \"./error-json.js\";\nimport { headerContentType, headerStreamAcceptEncoding, headerStreamEncoding, headerTimeout, headerUnaryAcceptEncoding, headerUnaryContentLength, headerUnaryEncoding, } from \"./headers.js\";\nimport { codeToHttpStatus } from \"./http-status.js\";\nimport { parseTimeout } from \"./parse-timeout.js\";\nimport { paramBase64, paramCompression, paramEncoding, paramMessage, } from \"./query-params.js\";\nimport { trailerMux } from \"./trailer-mux.js\";\nimport { requireProtocolVersionHeader, requireProtocolVersionParam, } from \"./version.js\";\nimport { compressionNegotiate } from \"../protocol/compression.js\";\nimport { createMethodSerializationLookup } from \"../protocol/serialization.js\";\nimport { validateUniversalHandlerOptions } from \"../protocol/universal-handler.js\";\nimport { assertByteStreamRequest, uResponseMethodNotAllowed, uResponseOk, uResponseUnsupportedMediaType, } from \"../protocol/universal.js\";\nimport { createAsyncIterable, pipe, readAllBytes, transformCatchFinally, transformCompressEnvelope, transformDecompressEnvelope, transformJoinEnvelopes, transformParseEnvelope, transformPrepend, transformSerializeEnvelope, transformSplitEnvelope, untilFirst, } from \"../protocol/async-iterable.js\";\nimport { contentTypeMatcher } from \"../protocol/content-type-matcher.js\";\nimport { createMethodUrl } from \"../protocol/create-method-url.js\";\nimport { invokeUnaryImplementation, transformInvokeImplementation, } from \"../protocol/invoke-implementation.js\";\nimport { MethodOptions_IdempotencyLevel } from \"@bufbuild/protobuf/wkt\";\nconst protocolName = \"connect\";\nconst methodPost = \"POST\";\nconst methodGet = \"GET\";\n/**\n * Create a factory that creates Connect handlers.\n */\nexport function createHandlerFactory(options) {\n    const opt = validateUniversalHandlerOptions(options);\n    const endStreamSerialization = createEndStreamSerialization(opt.jsonOptions);\n    function fact(spec) {\n        let h;\n        let contentTypeRegExp;\n        const serialization = createMethodSerializationLookup(spec.method, opt.binaryOptions, opt.jsonOptions, opt);\n        switch (spec.kind) {\n            case \"unary\":\n                contentTypeRegExp = contentTypeUnaryRegExp;\n                h = createUnaryHandler(opt, spec, serialization);\n                break;\n            default:\n                contentTypeRegExp = contentTypeStreamRegExp;\n                h = createStreamHandler(opt, spec, serialization, endStreamSerialization);\n                break;\n        }\n        const allowedMethods = [methodPost];\n        if (spec.method.idempotency === MethodOptions_IdempotencyLevel.NO_SIDE_EFFECTS) {\n            allowedMethods.push(methodGet);\n        }\n        return Object.assign(h, {\n            protocolNames: [protocolName],\n            supportedContentType: contentTypeMatcher(contentTypeRegExp),\n            allowedMethods,\n            requestPath: createMethodUrl(\"/\", spec.method),\n            service: spec.method.parent,\n            method: spec.method,\n        });\n    }\n    fact.protocolName = protocolName;\n    return fact;\n}\nfunction createUnaryHandler(opt, spec, serialization) {\n    return async function handle(req) {\n        const isGet = req.method == methodGet;\n        if (isGet &&\n            spec.method.idempotency != MethodOptions_IdempotencyLevel.NO_SIDE_EFFECTS) {\n            return uResponseMethodNotAllowed;\n        }\n        const queryParams = new URL(req.url).searchParams;\n        const compressionRequested = isGet\n            ? queryParams.get(paramCompression)\n            : req.header.get(headerUnaryEncoding);\n        const type = isGet\n            ? parseEncodingQuery(queryParams.get(paramEncoding))\n            : parseContentType(req.header.get(headerContentType));\n        if (type == undefined || type.stream) {\n            return uResponseUnsupportedMediaType;\n        }\n        const timeout = parseTimeout(req.header.get(headerTimeout), opt.maxTimeoutMs);\n        const context = createHandlerContext(Object.assign(Object.assign({}, spec), { service: spec.method.parent, requestMethod: req.method, protocolName, timeoutMs: timeout.timeoutMs, shutdownSignal: opt.shutdownSignal, requestSignal: req.signal, requestHeader: req.header, url: req.url, responseHeader: {\n                [headerContentType]: type.binary\n                    ? contentTypeUnaryProto\n                    : contentTypeUnaryJson,\n            }, contextValues: req.contextValues }));\n        const compression = compressionNegotiate(opt.acceptCompression, compressionRequested, req.header.get(headerUnaryAcceptEncoding), headerUnaryAcceptEncoding);\n        let status = uResponseOk.status;\n        let body;\n        try {\n            if (opt.requireConnectProtocolHeader) {\n                if (isGet) {\n                    requireProtocolVersionParam(queryParams);\n                }\n                else {\n                    requireProtocolVersionHeader(req.header);\n                }\n            }\n            // raise compression error to serialize it as a error response\n            if (compression.error) {\n                throw compression.error;\n            }\n            // raise timeout parsing error to serialize it as a trailer status\n            if (timeout.error) {\n                throw timeout.error;\n            }\n            let reqBody;\n            if (isGet) {\n                reqBody = await readUnaryMessageFromQuery(opt.readMaxBytes, compression.request, queryParams);\n            }\n            else {\n                reqBody = await readUnaryMessageFromBody(opt.readMaxBytes, compression.request, req);\n            }\n            const input = parseUnaryMessage(spec.method, type.binary, serialization, reqBody);\n            const output = await invokeUnaryImplementation(spec, context, input, opt.interceptors);\n            body = serialization.getO(type.binary).serialize(output);\n        }\n        catch (e) {\n            context.abort(e);\n            let error;\n            if (e instanceof ConnectError) {\n                error = e;\n            }\n            else {\n                error = new ConnectError(\"internal error\", Code.Internal, undefined, undefined, e);\n            }\n            status = codeToHttpStatus(error.code);\n            context.responseHeader.set(headerContentType, contentTypeUnaryJson);\n            error.metadata.forEach((value, key) => {\n                context.responseHeader.set(key, value);\n            });\n            body = errorToJsonBytes(error, opt.jsonOptions);\n        }\n        finally {\n            context.abort();\n        }\n        if (compression.response && body.byteLength >= opt.compressMinBytes) {\n            body = await compression.response.compress(body);\n            context.responseHeader.set(headerUnaryEncoding, compression.response.name);\n        }\n        const header = trailerMux(context.responseHeader, context.responseTrailer);\n        header.set(headerUnaryContentLength, body.byteLength.toString(10));\n        return {\n            status,\n            body: createAsyncIterable([body]),\n            header,\n        };\n    };\n}\nasync function readUnaryMessageFromBody(readMaxBytes, compression, request) {\n    if (typeof request.body == \"object\" &&\n        request.body !== null &&\n        Symbol.asyncIterator in request.body) {\n        let reqBytes = await readAllBytes(request.body, readMaxBytes, request.header.get(headerUnaryContentLength));\n        if (compression) {\n            reqBytes = await compression.decompress(reqBytes, readMaxBytes);\n        }\n        return reqBytes;\n    }\n    return request.body;\n}\nasync function readUnaryMessageFromQuery(readMaxBytes, compression, queryParams) {\n    var _a;\n    const base64 = queryParams.get(paramBase64);\n    const message = (_a = queryParams.get(paramMessage)) !== null && _a !== void 0 ? _a : \"\";\n    let decoded;\n    if (base64 === \"1\") {\n        decoded = base64Decode(message);\n    }\n    else {\n        decoded = new TextEncoder().encode(message);\n    }\n    if (compression) {\n        decoded = await compression.decompress(decoded, readMaxBytes);\n    }\n    return decoded;\n}\nfunction parseUnaryMessage(method, useBinaryFormat, serialization, input) {\n    if (input instanceof Uint8Array) {\n        return serialization.getI(useBinaryFormat).parse(input);\n    }\n    if (useBinaryFormat) {\n        throw new ConnectError(\"received parsed JSON request body, but content-type indicates binary format\", Code.Internal);\n    }\n    try {\n        return fromJson(method.input, input);\n    }\n    catch (e) {\n        throw ConnectError.from(e, Code.InvalidArgument);\n    }\n}\nfunction createStreamHandler(opt, spec, serialization, endStreamSerialization) {\n    return async function handle(req) {\n        assertByteStreamRequest(req);\n        const type = parseContentType(req.header.get(headerContentType));\n        if (type == undefined || !type.stream) {\n            return uResponseUnsupportedMediaType;\n        }\n        if (req.method !== methodPost) {\n            return uResponseMethodNotAllowed;\n        }\n        const timeout = parseTimeout(req.header.get(headerTimeout), opt.maxTimeoutMs);\n        const context = createHandlerContext(Object.assign(Object.assign({}, spec), { service: spec.method.parent, requestMethod: req.method, protocolName, timeoutMs: timeout.timeoutMs, shutdownSignal: opt.shutdownSignal, requestSignal: req.signal, requestHeader: req.header, url: req.url, responseHeader: {\n                [headerContentType]: type.binary\n                    ? contentTypeStreamProto\n                    : contentTypeStreamJson,\n            }, contextValues: req.contextValues }));\n        const compression = compressionNegotiate(opt.acceptCompression, req.header.get(headerStreamEncoding), req.header.get(headerStreamAcceptEncoding), headerStreamAcceptEncoding);\n        if (compression.response) {\n            context.responseHeader.set(headerStreamEncoding, compression.response.name);\n        }\n        // We split the pipeline into two parts: The request iterator, and the\n        // response iterator. We do this because the request iterator is responsible\n        // for parsing the request body, and we don't want write errors of the response\n        // iterator to affect the request iterator.\n        const inputIt = pipe(req.body, transformPrepend(() => {\n            if (opt.requireConnectProtocolHeader) {\n                requireProtocolVersionHeader(req.header);\n            }\n            // raise compression error to serialize it as the end stream response\n            if (compression.error)\n                throw compression.error;\n            // raise timeout parsing error to serialize it as a trailer status\n            if (timeout.error)\n                throw timeout.error;\n            return undefined;\n        }), transformSplitEnvelope(opt.readMaxBytes), transformDecompressEnvelope(compression.request, opt.readMaxBytes), transformParseEnvelope(serialization.getI(type.binary), endStreamFlag));\n        const it = transformInvokeImplementation(spec, context, opt.interceptors)(inputIt)[Symbol.asyncIterator]();\n        const outputIt = pipe(\n        // We wrap the iterator in an async iterator to ensure that the\n        // abort signal is aborted when the iterator is done.\n        {\n            [Symbol.asyncIterator]() {\n                return {\n                    next: () => it.next(),\n                    throw: (e) => {\n                        var _a, _b;\n                        context.abort(e);\n                        return (_b = (_a = it.throw) === null || _a === void 0 ? void 0 : _a.call(it, e)) !== null && _b !== void 0 ? _b : Promise.reject({ done: true });\n                    },\n                    return: (v) => {\n                        var _a, _b;\n                        context.abort();\n                        return ((_b = (_a = it.return) === null || _a === void 0 ? void 0 : _a.call(it, v)) !== null && _b !== void 0 ? _b : Promise.resolve({ done: true, value: v }));\n                    },\n                };\n            },\n        }, transformSerializeEnvelope(serialization.getO(type.binary)), transformCatchFinally((e) => {\n            context.abort(e);\n            const end = {\n                metadata: context.responseTrailer,\n            };\n            if (e instanceof ConnectError) {\n                end.error = e;\n            }\n            else if (e !== undefined) {\n                end.error = new ConnectError(\"internal error\", Code.Internal, undefined, undefined, e);\n            }\n            return {\n                flags: endStreamFlag,\n                data: endStreamSerialization.serialize(end),\n            };\n        }), transformCompressEnvelope(compression.response, opt.compressMinBytes), transformJoinEnvelopes(), { propagateDownStreamError: true });\n        return Object.assign(Object.assign({}, uResponseOk), { \n            // We wait for the first response body bytes before resolving, so that\n            // implementations have a chance to add headers before an adapter commits\n            // them to the wire.\n            body: await untilFirst(outputIt), header: context.responseHeader });\n    };\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { ConnectError } from \"./connect-error.js\";\nimport { Code } from \"./code.js\";\nimport { createMethodImplSpec, createServiceImplSpec, } from \"./implementation.js\";\nimport { createHandlerFactory as handlerFactoryGrpcWeb } from \"./protocol-grpc-web/handler-factory.js\";\nimport { createHandlerFactory as handlerFactoryGrpc } from \"./protocol-grpc/handler-factory.js\";\nimport { createHandlerFactory as handlerFactoryConnect } from \"./protocol-connect/handler-factory.js\";\nimport { createUniversalMethodHandler, createUniversalServiceHandlers, validateUniversalHandlerOptions, } from \"./protocol/universal-handler.js\";\n/**\n * Create a new ConnectRouter.\n */\nexport function createConnectRouter(routerOptions) {\n    const base = whichProtocols(routerOptions);\n    const handlers = [];\n    const router = {\n        handlers,\n        service: (service, implementation, options) => {\n            const { protocols } = whichProtocols(options, base);\n            handlers.push(...createUniversalServiceHandlers(createServiceImplSpec(service, implementation), protocols));\n            return router;\n        },\n        rpc: (method, impl, opt) => {\n            const { protocols } = whichProtocols(opt, base);\n            handlers.push(createUniversalMethodHandler(createMethodImplSpec(method, impl), protocols));\n            return router;\n        },\n    };\n    return router;\n}\nfunction whichProtocols(options, base) {\n    if (base && !options) {\n        return base;\n    }\n    const opt = base\n        ? Object.assign(Object.assign({}, validateUniversalHandlerOptions(base.options)), options) : Object.assign(Object.assign({}, options), validateUniversalHandlerOptions(options !== null && options !== void 0 ? options : {}));\n    const protocols = [];\n    if ((options === null || options === void 0 ? void 0 : options.grpc) !== false) {\n        protocols.push(handlerFactoryGrpc(opt));\n    }\n    if ((options === null || options === void 0 ? void 0 : options.grpcWeb) !== false) {\n        protocols.push(handlerFactoryGrpcWeb(opt));\n    }\n    if ((options === null || options === void 0 ? void 0 : options.connect) !== false) {\n        protocols.push(handlerFactoryConnect(opt));\n    }\n    if (protocols.length === 0) {\n        throw new ConnectError(\"cannot create handler, all protocols are disabled\", Code.InvalidArgument);\n    }\n    return {\n        options: opt,\n        protocols,\n    };\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport * as connect from \"./protocol-connect/headers.js\";\nimport * as grpc from \"./protocol-grpc/headers.js\";\nimport * as grpcWeb from \"./protocol-grpc-web/headers.js\";\n/**\n * CORS prevents rogue scripts in a web browser from making arbitrary requests\n * to other web servers.\n *\n * This object provides helpful constants to configure CORS middleware for\n * cross-domain requests with the protocols supported by Connect.\n *\n * Make sure to add application-specific headers that your application\n * uses as well.\n */\nexport const cors = {\n    /**\n     * Request methods that scripts running in the browser are permitted to use.\n     *\n     * To support cross-domain requests with the protocols supported by Connect,\n     * these headers fields must be included in the preflight response header\n     * Access-Control-Allow-Methods.\n     */\n    allowedMethods: [\"POST\", \"GET\"],\n    /**\n     * Header fields that scripts running in the browser are permitted to send.\n     *\n     * To support cross-domain requests with the protocols supported by Connect,\n     * these field names must be included in the preflight response header\n     * Access-Control-Allow-Headers.\n     *\n     * Make sure to include any application-specific headers your browser client\n     * may send.\n     */\n    allowedHeaders: [\n        connect.headerContentType,\n        connect.headerProtocolVersion,\n        connect.headerTimeout,\n        connect.headerStreamEncoding, // Unused in web browsers, but added for future-proofing\n        connect.headerStreamAcceptEncoding, // Unused in web browsers, but added for future-proofing\n        connect.headerUnaryEncoding, // Unused in web browsers, but added for future-proofing\n        connect.headerUnaryAcceptEncoding, // Unused in web browsers, but added for future-proofing\n        grpc.headerMessageType, // Unused in web browsers, but added for future-proofing\n        grpcWeb.headerXGrpcWeb,\n        grpcWeb.headerXUserAgent,\n        grpcWeb.headerTimeout,\n    ],\n    /**\n     * Header fields that scripts running the browser are permitted to see.\n     *\n     * To support cross-domain requests with the protocols supported by Connect,\n     * these field names must be included in header Access-Control-Expose-Headers\n     * of the actual response.\n     *\n     * Make sure to include any application-specific headers your browser client\n     * should see. If your application uses trailers, they will be sent as header\n     * fields with a `Trailer-` prefix for Connect unary RPCs - make sure to\n     * expose them as well if you want them to be visible in all supported\n     * protocols.\n     */\n    exposedHeaders: [\n        grpcWeb.headerGrpcStatus, // Crucial for gRPC-web\n        grpcWeb.headerGrpcMessage, // Crucial for gRPC-web\n        grpcWeb.headerStatusDetailsBin, // Error details in gRPC, gRPC-web\n        connect.headerUnaryEncoding, // Unused in web browsers, but added for future-proofing\n        connect.headerStreamEncoding, // Unused in web browsers, but added for future-proofing\n    ],\n};\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { headerContentType, headerStreamAcceptEncoding, headerStreamEncoding, headerUnaryAcceptEncoding, headerUnaryEncoding, headerTimeout, headerProtocolVersion, headerUserAgent, } from \"./headers.js\";\nimport { protocolVersion } from \"./version.js\";\nimport { contentTypeStreamJson, contentTypeStreamProto, contentTypeUnaryJson, contentTypeUnaryProto, } from \"./content-type.js\";\n/**\n * Creates headers for a Connect request.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function requestHeader(methodKind, useBinaryFormat, timeoutMs, userProvidedHeaders, setUserAgent) {\n    const result = new Headers(userProvidedHeaders !== null && userProvidedHeaders !== void 0 ? userProvidedHeaders : {});\n    if (timeoutMs !== undefined) {\n        result.set(headerTimeout, `${timeoutMs}`);\n    }\n    result.set(headerContentType, methodKind == \"unary\"\n        ? useBinaryFormat\n            ? contentTypeUnaryProto\n            : contentTypeUnaryJson\n        : useBinaryFormat\n            ? contentTypeStreamProto\n            : contentTypeStreamJson);\n    result.set(headerProtocolVersion, protocolVersion);\n    if (!result.has(headerUserAgent) && setUserAgent) {\n        // Note that we do not strictly comply with gRPC user agents.\n        // We use \"connect-es/1.2.3\" where gRPC would use \"grpc-es/1.2.3\".\n        // See https://github.com/grpc/grpc/blob/c462bb8d485fc1434ecfae438823ca8d14cf3154/doc/PROTOCOL-HTTP2.md#user-agents\n        result.set(headerUserAgent, \"connect-es/2.1.0\");\n    }\n    return result;\n}\n/**\n * Creates headers for a Connect request with compression.\n *\n * Note that we always set the Content-Encoding header for unary methods.\n * It is up to the caller to decide whether to apply compression - and remove\n * the header if compression is not used, for example because the payload is\n * too small to make compression effective.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function requestHeaderWithCompression(methodKind, useBinaryFormat, timeoutMs, userProvidedHeaders, acceptCompression, sendCompression, setUserAgent) {\n    const result = requestHeader(methodKind, useBinaryFormat, timeoutMs, userProvidedHeaders, setUserAgent);\n    if (sendCompression != null) {\n        const name = methodKind == \"unary\" ? headerUnaryEncoding : headerStreamEncoding;\n        result.set(name, sendCompression.name);\n    }\n    if (acceptCompression.length > 0) {\n        const name = methodKind == \"unary\"\n            ? headerUnaryAcceptEncoding\n            : headerStreamAcceptEncoding;\n        result.set(name, acceptCompression.map((c) => c.name).join(\",\"));\n    }\n    return result;\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { Code } from \"../code.js\";\nimport { codeFromHttpStatus } from \"./http-status.js\";\nimport { ConnectError } from \"../connect-error.js\";\nimport { parseContentType } from \"./content-type.js\";\nimport { headerContentType, headerStreamEncoding, headerUnaryEncoding, } from \"./headers.js\";\n/**\n * Validates response status and header for the Connect protocol.\n * Throws a ConnectError if the header indicates an error, or if\n * the content type is unexpected, with the following exception:\n * For unary RPCs with an HTTP error status, this returns an error\n * derived from the HTTP status instead of throwing it, giving an\n * implementation a chance to parse a Connect error from the wire.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nexport function validateResponse(methodKind, useBinaryFormat, status, headers) {\n    const mimeType = headers.get(headerContentType);\n    const parsedType = parseContentType(mimeType);\n    if (status !== 200) {\n        const errorFromStatus = new ConnectError(`HTTP ${status}`, codeFromHttpStatus(status), headers);\n        // If parsedType is defined and it is not binary, then this is a unary JSON response\n        if (methodKind == \"unary\" && parsedType && !parsedType.binary) {\n            return { isUnaryError: true, unaryError: errorFromStatus };\n        }\n        throw errorFromStatus;\n    }\n    const allowedContentType = {\n        binary: useBinaryFormat,\n        stream: methodKind !== \"unary\",\n    };\n    if ((parsedType === null || parsedType === void 0 ? void 0 : parsedType.binary) !== allowedContentType.binary ||\n        parsedType.stream !== allowedContentType.stream) {\n        throw new ConnectError(`unsupported content type ${mimeType}`, parsedType === undefined ? Code.Unknown : Code.Internal, headers);\n    }\n    return { isUnaryError: false };\n}\n/**\n * Validates response status and header for the Connect protocol.\n * This function is identical to validateResponse(), but also verifies\n * that a given encoding header is acceptable.\n *\n * @private\n */\nexport function validateResponseWithCompression(methodKind, acceptCompression, useBinaryFormat, status, headers) {\n    let compression;\n    const encoding = headers.get(methodKind == \"unary\" ? headerUnaryEncoding : headerStreamEncoding);\n    if (encoding != null && encoding.toLowerCase() !== \"identity\") {\n        compression = acceptCompression.find((c) => c.name === encoding);\n        if (!compression) {\n            throw new ConnectError(`unsupported response encoding \"${encoding}\"`, Code.Internal, headers);\n        }\n    }\n    return Object.assign({ compression }, validateResponse(methodKind, useBinaryFormat, status, headers));\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { base64Encode } from \"@bufbuild/protobuf/wire\";\nimport { headerContentType, headerProtocolVersion, headerUnaryAcceptEncoding, headerUnaryContentLength, headerUnaryEncoding, } from \"./headers.js\";\nimport { protocolVersion } from \"./version.js\";\nconst contentTypePrefix = \"application/\";\nfunction encodeMessageForUrl(message, useBase64) {\n    if (useBase64) {\n        return base64Encode(message, \"url\");\n    }\n    return encodeURIComponent(new TextDecoder().decode(message));\n}\n/**\n * @private Internal code, does not follow semantic versioning.\n */\nexport function transformConnectPostToGetRequest(request, message, useBase64) {\n    let query = `?connect=v${protocolVersion}`;\n    const contentType = request.header.get(headerContentType);\n    if ((contentType === null || contentType === void 0 ? void 0 : contentType.indexOf(contentTypePrefix)) === 0) {\n        query +=\n            \"&encoding=\" +\n                encodeURIComponent(contentType.slice(contentTypePrefix.length));\n    }\n    const compression = request.header.get(headerUnaryEncoding);\n    if (compression !== null && compression !== \"identity\") {\n        query += \"&compression=\" + encodeURIComponent(compression);\n        // Force base64 for compressed payloads.\n        useBase64 = true;\n    }\n    if (useBase64) {\n        query += \"&base64=1\";\n    }\n    query += \"&message=\" + encodeMessageForUrl(message, useBase64);\n    const url = request.url + query;\n    const header = new Headers(request.header);\n    // Omit headers that are not used for unary GET requests.\n    for (const h of [\n        headerProtocolVersion,\n        headerContentType,\n        headerUnaryContentLength,\n        headerUnaryEncoding,\n        headerUnaryAcceptEncoding,\n    ]) {\n        header.delete(h);\n    }\n    return Object.assign(Object.assign({}, request), { requestMethod: \"GET\", url,\n        header });\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { applyInterceptors } from \"../interceptor.js\";\nimport { ConnectError } from \"../connect-error.js\";\nimport { createDeadlineSignal, createLinkedAbortController, getAbortSignalReason, } from \"./signals.js\";\nimport { normalize, normalizeIterable } from \"./normalize.js\";\n/**\n * Runs a unary method with the given interceptors. Note that this function\n * is only used when implementing a Transport.\n */\nexport function runUnaryCall(opt) {\n    const next = applyInterceptors(opt.next, opt.interceptors);\n    const [signal, abort, done] = setupSignal(opt);\n    const req = Object.assign(Object.assign({}, opt.req), { message: normalize(opt.req.method.input, opt.req.message), signal });\n    return next(req).then((res) => {\n        done();\n        return res;\n    }, abort);\n}\n/**\n * Runs a server-streaming method with the given interceptors. Note that this\n * function is only used when implementing a Transport.\n */\nexport function runStreamingCall(opt) {\n    const next = applyInterceptors(opt.next, opt.interceptors);\n    const [signal, abort, done] = setupSignal(opt);\n    const req = Object.assign(Object.assign({}, opt.req), { message: normalizeIterable(opt.req.method.input, opt.req.message), signal });\n    let doneCalled = false;\n    // Call return on the request iterable to indicate\n    // that we will no longer consume it and it should\n    // cleanup any allocated resources.\n    signal.addEventListener(\"abort\", function () {\n        var _a, _b;\n        const it = opt.req.message[Symbol.asyncIterator]();\n        // If the signal is aborted due to an error, we want to throw\n        // the error to the request iterator.\n        if (!doneCalled) {\n            (_a = it.throw) === null || _a === void 0 ? void 0 : _a.call(it, this.reason).catch(() => {\n                // throw returns a promise, which we don't care about.\n                //\n                // Uncaught promises are thrown at sometime/somewhere by the event loop,\n                // this is to ensure error is caught and ignored.\n            });\n        }\n        (_b = it.return) === null || _b === void 0 ? void 0 : _b.call(it).catch(() => {\n            // return returns a promise, which we don't care about.\n            //\n            // Uncaught promises are thrown at sometime/somewhere by the event loop,\n            // this is to ensure error is caught and ignored.\n        });\n    });\n    return next(req).then((res) => {\n        return Object.assign(Object.assign({}, res), { message: {\n                [Symbol.asyncIterator]() {\n                    const it = res.message[Symbol.asyncIterator]();\n                    return {\n                        next() {\n                            return it.next().then((r) => {\n                                if (r.done == true) {\n                                    doneCalled = true;\n                                    done();\n                                }\n                                return r;\n                            }, abort);\n                        },\n                        // We deliberately omit throw/return.\n                    };\n                },\n            } });\n    }, abort);\n}\n/**\n * Create an AbortSignal for Transport implementations. The signal is available\n * in UnaryRequest and StreamingRequest, and is triggered when the call is\n * aborted (via a timeout or explicit cancellation), errored (e.g. when reading\n * an error from the server from the wire), or finished successfully.\n *\n * Transport implementations can pass the signal to HTTP clients to ensure that\n * there are no unused connections leak.\n *\n * Returns a tuple:\n * [0]: The signal, which is also aborted if the optional deadline is reached.\n * [1]: Function to call if the Transport encountered an error.\n * [2]: Function to call if the Transport finished without an error.\n */\nfunction setupSignal(opt) {\n    const { signal, cleanup } = createDeadlineSignal(opt.timeoutMs);\n    const controller = createLinkedAbortController(opt.signal, signal);\n    return [\n        controller.signal,\n        function abort(reason) {\n            // We peek at the deadline signal because fetch() will throw an error on\n            // abort that discards the signal reason.\n            const e = ConnectError.from(signal.aborted ? getAbortSignalReason(signal) : reason);\n            controller.abort(e);\n            cleanup();\n            return Promise.reject(e);\n        },\n        function done() {\n            cleanup();\n            controller.abort();\n        },\n    ];\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nvar __await = (this && this.__await) || function (v) { return this instanceof __await ? (this.v = v, this) : new __await(v); }\nvar __asyncGenerator = (this && this.__asyncGenerator) || function (thisArg, _arguments, generator) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\n    return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n    function fulfill(value) { resume(\"next\", value); }\n    function reject(value) { resume(\"throw\", value); }\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n};\nimport { requestHeaderWithCompression } from \"./request-header.js\";\nimport { headerUnaryContentLength, headerUnaryEncoding } from \"./headers.js\";\nimport { validateResponseWithCompression } from \"./validate-response.js\";\nimport { trailerDemux } from \"./trailer-mux.js\";\nimport { errorFromJsonBytes } from \"./error-json.js\";\nimport { createEndStreamSerialization, endStreamFlag } from \"./end-stream.js\";\nimport { transformConnectPostToGetRequest } from \"./get-request.js\";\nimport { Code } from \"../code.js\";\nimport { ConnectError } from \"../connect-error.js\";\nimport { appendHeaders } from \"../http-headers.js\";\nimport { createAsyncIterable, pipeTo, sinkAllBytes, pipe, transformSerializeEnvelope, transformCompressEnvelope, transformJoinEnvelopes, transformSplitEnvelope, transformDecompressEnvelope, transformParseEnvelope, } from \"../protocol/async-iterable.js\";\nimport { createMethodUrl } from \"../protocol/create-method-url.js\";\nimport { runUnaryCall, runStreamingCall } from \"../protocol/run-call.js\";\nimport { createMethodSerializationLookup } from \"../protocol/serialization.js\";\nimport { createContextValues } from \"../context-values.js\";\nimport { MethodOptions_IdempotencyLevel } from \"@bufbuild/protobuf/wkt\";\n/**\n * Create a Transport for the Connect protocol.\n */\nexport function createTransport(opt) {\n    return {\n        async unary(method, signal, timeoutMs, header, message, contextValues) {\n            const serialization = createMethodSerializationLookup(method, opt.binaryOptions, opt.jsonOptions, opt);\n            timeoutMs =\n                timeoutMs === undefined\n                    ? opt.defaultTimeoutMs\n                    : timeoutMs <= 0\n                        ? undefined\n                        : timeoutMs;\n            return await runUnaryCall({\n                interceptors: opt.interceptors,\n                signal,\n                timeoutMs,\n                req: {\n                    stream: false,\n                    service: method.parent,\n                    method,\n                    requestMethod: \"POST\",\n                    url: createMethodUrl(opt.baseUrl, method),\n                    header: requestHeaderWithCompression(method.methodKind, opt.useBinaryFormat, timeoutMs, header, opt.acceptCompression, opt.sendCompression, true),\n                    contextValues: contextValues !== null && contextValues !== void 0 ? contextValues : createContextValues(),\n                    message,\n                },\n                next: async (req) => {\n                    let requestBody = serialization\n                        .getI(opt.useBinaryFormat)\n                        .serialize(req.message);\n                    if (opt.sendCompression &&\n                        requestBody.byteLength > opt.compressMinBytes) {\n                        requestBody = await opt.sendCompression.compress(requestBody);\n                        req.header.set(headerUnaryEncoding, opt.sendCompression.name);\n                    }\n                    else {\n                        req.header.delete(headerUnaryEncoding);\n                    }\n                    const useGet = opt.useHttpGet === true &&\n                        method.idempotency ===\n                            MethodOptions_IdempotencyLevel.NO_SIDE_EFFECTS;\n                    let body;\n                    if (useGet) {\n                        req = transformConnectPostToGetRequest(req, requestBody, opt.useBinaryFormat);\n                    }\n                    else {\n                        body = createAsyncIterable([requestBody]);\n                    }\n                    const universalResponse = await opt.httpClient({\n                        url: req.url,\n                        method: req.requestMethod,\n                        header: req.header,\n                        signal: req.signal,\n                        body,\n                    });\n                    const { compression, isUnaryError, unaryError } = validateResponseWithCompression(method.methodKind, opt.acceptCompression, opt.useBinaryFormat, universalResponse.status, universalResponse.header);\n                    const [header, trailer] = trailerDemux(universalResponse.header);\n                    let responseBody = await pipeTo(universalResponse.body, sinkAllBytes(opt.readMaxBytes, universalResponse.header.get(headerUnaryContentLength)), { propagateDownStreamError: false });\n                    if (compression) {\n                        responseBody = await compression.decompress(responseBody, opt.readMaxBytes);\n                    }\n                    if (isUnaryError) {\n                        throw errorFromJsonBytes(responseBody, appendHeaders(header, trailer), unaryError);\n                    }\n                    return {\n                        stream: false,\n                        service: method.parent,\n                        method,\n                        header,\n                        message: serialization\n                            .getO(opt.useBinaryFormat)\n                            .parse(responseBody),\n                        trailer,\n                    };\n                },\n            });\n        },\n        async stream(method, signal, timeoutMs, header, input, contextValues) {\n            const serialization = createMethodSerializationLookup(method, opt.binaryOptions, opt.jsonOptions, opt);\n            const endStreamSerialization = createEndStreamSerialization(opt.jsonOptions);\n            timeoutMs =\n                timeoutMs === undefined\n                    ? opt.defaultTimeoutMs\n                    : timeoutMs <= 0\n                        ? undefined\n                        : timeoutMs;\n            return runStreamingCall({\n                interceptors: opt.interceptors,\n                signal,\n                timeoutMs,\n                req: {\n                    stream: true,\n                    service: method.parent,\n                    method,\n                    requestMethod: \"POST\",\n                    url: createMethodUrl(opt.baseUrl, method),\n                    header: requestHeaderWithCompression(method.methodKind, opt.useBinaryFormat, timeoutMs, header, opt.acceptCompression, opt.sendCompression, true),\n                    contextValues: contextValues !== null && contextValues !== void 0 ? contextValues : createContextValues(),\n                    message: input,\n                },\n                next: async (req) => {\n                    const uRes = await opt.httpClient({\n                        url: req.url,\n                        method: \"POST\",\n                        header: req.header,\n                        signal: req.signal,\n                        body: pipe(req.message, transformSerializeEnvelope(serialization.getI(opt.useBinaryFormat)), transformCompressEnvelope(opt.sendCompression, opt.compressMinBytes), transformJoinEnvelopes(), { propagateDownStreamError: true }),\n                    });\n                    const { compression } = validateResponseWithCompression(method.methodKind, opt.acceptCompression, opt.useBinaryFormat, uRes.status, uRes.header);\n                    const res = Object.assign(Object.assign({}, req), { header: uRes.header, trailer: new Headers(), message: pipe(uRes.body, transformSplitEnvelope(opt.readMaxBytes), transformDecompressEnvelope(compression !== null && compression !== void 0 ? compression : null, opt.readMaxBytes), transformParseEnvelope(serialization.getO(opt.useBinaryFormat), endStreamFlag, endStreamSerialization), function (iterable) {\n                            return __asyncGenerator(this, arguments, function* () {\n                                var _a, e_1, _b, _c;\n                                let endStreamReceived = false;\n                                try {\n                                    for (var _d = true, iterable_1 = __asyncValues(iterable), iterable_1_1; iterable_1_1 = yield __await(iterable_1.next()), _a = iterable_1_1.done, !_a; _d = true) {\n                                        _c = iterable_1_1.value;\n                                        _d = false;\n                                        const chunk = _c;\n                                        if (chunk.end) {\n                                            if (endStreamReceived) {\n                                                throw new ConnectError(\"protocol error: received extra EndStreamResponse\", Code.InvalidArgument);\n                                            }\n                                            endStreamReceived = true;\n                                            if (chunk.value.error) {\n                                                const error = chunk.value.error;\n                                                uRes.header.forEach((value, key) => {\n                                                    error.metadata.append(key, value);\n                                                });\n                                                throw error;\n                                            }\n                                            chunk.value.metadata.forEach((value, key) => res.trailer.set(key, value));\n                                            continue;\n                                        }\n                                        if (endStreamReceived) {\n                                            throw new ConnectError(\"protocol error: received extra message after EndStreamResponse\", Code.InvalidArgument);\n                                        }\n                                        yield yield __await(chunk.value);\n                                    }\n                                }\n                                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                                finally {\n                                    try {\n                                        if (!_d && !_a && (_b = iterable_1.return)) yield __await(_b.call(iterable_1));\n                                    }\n                                    finally { if (e_1) throw e_1.error; }\n                                }\n                                if (!endStreamReceived) {\n                                    throw new ConnectError(\"protocol error: missing EndStreamResponse\", Code.InvalidArgument);\n                                }\n                            });\n                        }, { propagateDownStreamError: true }) });\n                    return res;\n                },\n            });\n        },\n    };\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { Code } from \"../code.js\";\nimport { ConnectError } from \"../connect-error.js\";\nimport { createAsyncIterable, pipe } from \"./async-iterable.js\";\nimport { getAbortSignalReason } from \"./signals.js\";\n/**\n * An in-memory UniversalClientFn that can be used to route requests to a ConnectRouter\n * bypassing network calls. Useful for testing and calling in-process services.\n */\nexport function createUniversalHandlerClient(uHandlers) {\n    const handlerMap = new Map();\n    for (const handler of uHandlers) {\n        handlerMap.set(handler.requestPath, handler);\n    }\n    return async (uClientReq) => {\n        var _a, _b, _c;\n        const pathname = new URL(uClientReq.url).pathname;\n        const handler = handlerMap.get(pathname);\n        if (!handler) {\n            throw new ConnectError(`RouterHttpClient: no handler registered for ${pathname}`, Code.Unimplemented);\n        }\n        const reqSignal = (_a = uClientReq.signal) !== null && _a !== void 0 ? _a : new AbortController().signal;\n        const uServerRes = await raceSignal(reqSignal, handler({\n            body: (_b = uClientReq.body) !== null && _b !== void 0 ? _b : createAsyncIterable([]),\n            httpVersion: \"2.0\",\n            method: uClientReq.method,\n            url: uClientReq.url,\n            header: uClientReq.header,\n            signal: reqSignal,\n        }));\n        const body = (_c = uServerRes.body) !== null && _c !== void 0 ? _c : createAsyncIterable([]);\n        return {\n            body: pipe(body, (iterable) => {\n                return {\n                    [Symbol.asyncIterator]() {\n                        const it = iterable[Symbol.asyncIterator]();\n                        const w = {\n                            next() {\n                                return raceSignal(reqSignal, it.next());\n                            },\n                        };\n                        if (it.throw !== undefined) {\n                            w.throw = (e) => it.throw(e);\n                        }\n                        if (it.return !== undefined) {\n                            w.return = (value) => it.return(value);\n                        }\n                        return w;\n                    },\n                };\n            }),\n            header: new Headers(uServerRes.header),\n            status: uServerRes.status,\n            trailer: new Headers(uServerRes.trailer),\n        };\n    };\n}\n/**\n * Wrap a promise, and reject early if the given signal triggers before the\n * promise is settled.\n */\nfunction raceSignal(signal, promise) {\n    let cleanup;\n    const signalPromise = new Promise((_, reject) => {\n        const onAbort = () => reject(getAbortSignalReason(signal));\n        if (signal.aborted) {\n            return onAbort();\n        }\n        signal.addEventListener(\"abort\", onAbort);\n        cleanup = () => signal.removeEventListener(\"abort\", onAbort);\n    });\n    return Promise.race([signalPromise, promise]).finally(cleanup);\n}\n", "// Copyright 2021-2025 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { createTransport } from \"./protocol-connect/transport.js\";\nimport { createUniversalHandlerClient } from \"./protocol/universal-handler-client.js\";\nimport { createConnectRouter } from \"./router.js\";\n/**\n * Creates a Transport that routes requests to the configured router. Useful for testing\n * and calling services running in the same process.\n *\n * This can be used to test both client logic by using this to stub/mock the backend,\n * and to test server logic by using this to run without needing to spin up a server.\n */\nexport function createRouterTransport(routes, options) {\n    var _a, _b;\n    const router = createConnectRouter(Object.assign(Object.assign({}, ((_a = options === null || options === void 0 ? void 0 : options.router) !== null && _a !== void 0 ? _a : {})), { connect: true }));\n    routes(router);\n    return createTransport(Object.assign({ httpClient: createUniversalHandlerClient(router.handlers), baseUrl: \"https://in-memory\", useBinaryFormat: true, interceptors: [], acceptCompression: [], sendCompression: null, compressMinBytes: Number.MAX_SAFE_INTEGER, readMaxBytes: Number.MAX_SAFE_INTEGER, writeMaxBytes: Number.MAX_SAFE_INTEGER }, ((_b = options === null || options === void 0 ? void 0 : options.transport) !== null && _b !== void 0 ? _b : {})));\n}\n"],
  "mappings": "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",
  "names": ["Code", "Field_Kind", "Field_Cardinality", "Syntax", "CppFeatures_StringType", "GoFeatures_APILevel", "GoFeatures_StripEnumPrefix", "JavaFeatures_NestInFileClassFeature_NestInFileClass", "JavaFeatures_Utf8Validation", "NullValue", "CodeGeneratorResponse_Feature", "value", "desc", "readField", "field", "value", "v", "endStreamFlag", "offset", "__asyncValues", "v", "__asyncValues", "v", "__await", "__asyncDelegator", "__asyncGenerator", "createUnaryFn", "createServerStreamingFn", "__await", "__asyncGenerator", "__asyncValues", "v", "__asyncDelegator", "contentTypeRegExp", "contentTypeProto", "contentTypeJson", "parseContentType", "protocolName", "methodPost", "createHandlerFactory", "createHandler", "contentTypeRegExp", "parseContentType", "contentTypeProto", "contentTypeJson", "contentTypeRegExp", "parseContentType", "headerContentType", "headerTimeout", "headerUserAgent", "parseTimeout", "requestHeader", "protocolName", "methodPost", "createHandlerFactory", "contentTypeRegExp", "parseContentType", "headerContentType", "parseTimeout", "headerTimeout", "createHandlerFactory", "headerContentType", "headerTimeout", "headerTimeout", "headerContentType", "headerUserAgent", "headerContentType", "parseContentType", "headerContentType", "__asyncValues", "v", "__await", "__asyncGenerator", "header"]
}
